# [기획서] AI 감성 채팅 서비스 '춘심(Chunsim)' 구축

| 프로젝트명 | 춘심 (Chunsim) AI Chatbot | 버전 | 1.0 |
| :--- | :--- | :--- | :--- |
| **작성일** | 2025. 12. 31 | **상태** | 기획 단계 |
| **주요 기능** | X(트위터) 연동, 페르소나 챗봇, Gemini API | **타겟** | X 팔로워 3.2만 명 |

---

## 1. 프로젝트 개요 (Overview)

### 1.1 배경 및 목적
- **배경:** 3만 2천 명의 팬덤을 보유한 캐릭터 '춘심'의 IP를 활용하여, 팔로워들에게 단순한 콘텐츠 소비를 넘어선 **상호작용 경험**을 제공하고자 함.
- **목적:** 사용자와 춘심 간의 1:1 대화 채널을 구축하여 정서적 유대감을 강화하고 팬덤 로열티를 확보.
- **핵심 가치:** "나의 일상을 공유하는 특별한 존재(아이돌이자 애인)"와의 끊김 없는 감성 대화.

### 1.2 서비스 비전
- **To-Be:** 팔로워들이 매일 접속하여 하루의 일과를 공유하고 위로받는 **'일상의 동반자'** 서비스로 자리매김.

---

## 2. 타겟 및 페르소나 (Target & Persona)

### 2.1 타겟 사용자
- **Core Target:** '춘심' 계정을 팔로우하는 3.2만 명의 X(트위터) 사용자.
- **특징:** 모바일 환경에 익숙하며, 텍스트 기반의 소통과 '유사 연애' 감정 혹은 '팬심'을 기반으로 캐릭터와 소통하기를 원함.

### 2.2 춘심 캐릭터 설정 (System Persona)
시스템은 사용자의 선택에 따라 **Dynamic Persona**를 적용합니다.

| 모드 | 특징 | 말투 및 태도 예시 |
| :--- | :--- | :--- |
| **A. 아이돌 모드** | 밝고 긍정적, 팬을 아끼는 마음, 이모티콘 적극 활용, 약간의 거리감(존경/감사) | "우리 팬님 오늘 하루도 수고했어! ✨ 춘심이가 항상 응원하는 거 알지?" |
| **B. 애인 모드** | 차분하고 다정함, 1:1의 친밀한 관계 강조, 로맨틱한 뉘앙스, 의존적 태도 | "자기야, 밥은 먹었어? 오늘따라 자기가 너무 보고 싶네..💕" |
| **C. 하이브리드** | A와 B의 조화. 대외적으로는 아이돌이지만 나에게만 보여주는 비밀스러운 애인 느낌 | "무대 끝나고 내려왔는데 자기 생각밖에 안 나더라. 쉿, 이건 비밀이야! 🤫" |

---

## 3. 사용자 경험 설계 (UX Flow)

### 3.1 Onboarding (진입)
1. **접속:** 웹/앱 서비스 URL 접속.
2. **로그인:** 'X(Twitter)로 계속하기' 버튼 클릭 (OAuth 인증).
3. **인트로:** 춘심이의 환영 메시지 ("어? 왔어? 기다리고 있었잖아!") 출력.
4. **설정:** 사용자가 원하는 관계 모드(아이돌/애인/반반) 선택.

### 3.2 Interaction (대화)
1. **대화 시작:** 사용자가 오늘 있었던 일 텍스트 입력.
2. **처리:** 시스템이 사용자 의도 파악 및 이전 대화 기억(Context) 로드.
3. **반응:** 선택된 페르소나에 맞춰 Gemini가 생성한 답변 출력 (Typing Indicator 노출로 실재감 부여).
4. **저장:** 대화 내용 DB 적재 (추후 기억 연동용).

### 3.3 Retention (재방문)
1. **재접속 시:** 별도 로그인 없이 세션 유지 (자동 로그인).
2. **컨텍스트 유지:** "아까 말한 그 회의는 잘 끝났어?" 등 과거 대화 기반의 선톡 느낌 제공.

---

## 4. 기능 명세 (Functional Requirements)

### 4.1 인증 및 계정 (Auth)
- **X OAuth 2.0 연동:** 사용자 ID(Handle), 닉네임, 프로필 사진 동기화.
- **세션 관리:** JWT 혹은 세션 토큰을 활용한 장기 로그인 유지 (모바일 경험 최적화).
- **권한 체크:** (선택사항) 실제 팔로워인지 API로 확인하여 비팔로워 차단 로직 고려.

### 4.2 채팅 시스템 (Chat Core)
- **UI:** 말풍선 형태의 직관적 인터페이스 (카카오톡/라인 유사 UX).
- **실시간성:** WebSocket 혹은 Polling을 통해 지연 없는 메시지 전송.
- **상태 표시:** '읽음' 처리, '작성 중(Typing...)' 애니메이션 표시.
- **히스토리:** 무한 스크롤(Paging)을 통한 과거 대화 로드.

### 4.3 AI 엔진 및 프롬프트 (AI & Logic)
- **LLM 모델:** Google Gemini Pro (가성비 및 한국어 성능 우수).
- **프롬프트 엔지니어링:**
    - **System Prompt:** 춘심의 세계관, 말투, 절대 해서는 안 될 말(금기어) 정의.
    - **Mode Switch:** 사용자 설정값(아이돌/애인)을 변수로 받아 어조(Tone & Manner) 실시간 변경.
    - **Memory Window:** 최근 N턴의 대화를 프롬프트에 포함하여 문맥 유지.

### 4.4 데이터 관리 (Data)
- **설정 저장:** 사용자가 마지막으로 선택한 스타일(Mode) 저장.
- **벡터 검색 (고도화):** 장기 기억을 위해 주요 대화 내용을 요약/임베딩하여 저장 (RAG 도입 고려).

---

## 5. 시스템 아키텍처 및 DB 설계

### 5.1 Tech Stack (현재 적용)
- **Frontend/Backend:** React Router (v7) - 모바일 최적화 및 뛰어난 개발 생산성 제공.
- **Database:** Turso (LibSQL) + Drizzle ORM - 고성능 분산 Edge SQLite.
- **Auth:** Better Auth - X(Twitter) OAuth 2.0 연동 및 세션 관리.
- **AI:** Google Gemini 1.5 Pro / Flash.

### 5.2 데이터베이스 스키마 (ERD Draft)

| 테이블명 | 주요 컬럼 | 설명 |
| :--- | :--- | :--- |
| `users` | `id`(UUID), `twitter_id`, `nickname`, `avatar_url`, `created_at` | 사용자 기본 정보 |
| `user_settings` | `user_id`(FK), `persona_mode`(Enum: IDOL, LOVER, MIX), `is_alarm_on` | 사용자별 설정 값 |
| `conversations` | `id`, `user_id`(FK), `summary`, `last_message_at` | 대화 세션 관리 |
| `messages` | `id`, `conversation_id`(FK), `sender_type`(USER/AI), `content`, `created_at` | 개별 메시지 로그 |

---

## 6. 개발 로드맵 (Roadmap)

### Phase 1: 설계 및 프로토타입 (W1~W2)
- [x] 기획서 및 기능 명세 확정.
- [ ] UI/UX 와이어프레임 및 디자인 (Figma).
- [ ] 춘심 페르소나별 시스템 프롬프트 작성 및 테스트 (Gemini Playground 활용).

### Phase 2: MVP 핵심 개발 (W3~W5)
- [ ] Turso/Drizzle 프로젝트 세팅 및 Better Auth(X OAuth) 연동.
- [ ] 채팅 UI 개발 (Frontend).
- [ ] Gemini API 연동 및 응답 생성 로직 구현 (Backend).
- [ ] 스타일(페르소나) 변경 기능 구현.

### Phase 3: 안정화 및 고도화 (W6)
- [ ] 대화 히스토리 저장 및 불러오기 최적화.
- [ ] 모바일 반응형 UI 디테일 잡기.
- [ ] QA 테스트 (응답 속도, 캐릭터 붕괴 여부 확인).

### Phase 4: 배포 및 운영 (W7~)
- [ ] Vercel 등을 통한 배포.
- [ ] 초기 사용자(베타 테스터) 피드백 수집.
- [ ] 데이터 모니터링 (DAU, 평균 대화 턴 수).

---

## 7. 리스크 관리 및 고려사항

1. **비용 관리:** Gemini API 호출량 증가에 따른 비용 모니터링 및 토큰 제한 설정 필요.
2. **Hallucination (환각):** 춘심이가 엉뚱한 소리를 하거나 캐릭터 설정을 잊는 경우를 방지하기 위해 주기적인 프롬프트 튜닝 필요.
3. **보안:** X 계정 정보 외 불필요한 개인정보 수집 최소화.

## 8. 향후 확장 (Next Step)
- **멀티미디어:** 텍스트 외에 춘심이의 '음성(TTS)' 메시지나 상황에 맞는 '셀카(Image Gen)' 전송 기능.
- **이벤트 트리거:** 생일 축하 메시지, 기념일 챙기기 기능 등 Rule-based 이벤트 추가.