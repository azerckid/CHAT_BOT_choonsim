import{j as r}from"./jsx-runtime-u17CrQMm.js";import{r as n,i as c,L as l}from"./chunk-WWGJGFF6-C0NtPc5H.js";import{c as s}from"./utils-BQHNewu7.js";function p(){n.useEffect(()=>{if(!("serviceWorker"in navigator)||!("PushManager"in window))return;async function i(){try{const a=await navigator.serviceWorker.register("/sw.js");if(await Notification.requestPermission()!=="granted")return;let t=await a.pushManager.getSubscription();t||(t=await a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BHSfyq4ktAmEhKPlQOesJoFLQ1H3zTfKWvGyHvk0i5ole1SUEwE1altycO2AJEIhqW75dns43hkJdk5rf-IPnXU"})),await fetch("/api/push-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscription:t})})}catch(a){console.error("Push Notification setup failed:",a)}}i()},[])}const u=[{path:"/",icon:"home",label:"Home"},{path:"/chats",icon:"chat_bubble",label:"Chat"},{path:"/fandom",icon:"favorite",label:"Fandom"},{path:"/profile",icon:"person",label:"Profile"}];function h(){p();const a=c().pathname,o=(t,e)=>!!(t===e||t==="/chats"&&(e==="/chats"||e.startsWith("/chat/"))||t==="/profile"&&e==="/profile");return r.jsx("nav",{className:"fixed bottom-0 left-0 w-full bg-white/90 dark:bg-background-dark/95 backdrop-blur-lg border-t border-gray-200 dark:border-white/5 pt-3 px-6 z-40",style:{paddingBottom:"max(env(safe-area-inset-bottom), 1.25rem)"},children:r.jsx("div",{className:"flex justify-between items-center max-w-md mx-auto md:max-w-lg lg:max-w-xl",children:u.map(t=>{const e=o(t.path,a);return r.jsxs(l,{to:t.path,className:"flex flex-col items-center gap-1 w-12 group",children:[r.jsx("span",{className:s("material-symbols-outlined text-[28px] transition-colors",e?"text-primary":"text-gray-400 dark:text-gray-500"),style:e?{fontVariationSettings:"'FILL' 1"}:void 0,children:t.icon}),r.jsx("span",{className:s("text-[10px] font-medium transition-colors",e?"text-primary":"text-gray-400 dark:text-gray-500"),children:t.label})]},t.path)})})})}export{h as B};
