import{r as Je,w as Uu,H as zu,M as Hu,I as Vu,S as Ju,J as Gu,O as $u,k as Ea}from"./chunk-WWGJGFF6-C0NtPc5H.js";import{j as le}from"./jsx-runtime-u17CrQMm.js";import{T as Wu}from"./index-XQpFve_7.js";import{H as kt,p as Zu,w as Xu,E as Yu,T as Qu,a as ef}from"./index.min-BJIztz5B.js";import{a as tf}from"./_commonjsHelpers-DaWZu8wl.js";import{C as Aa}from"./chain-labels-DS9REp7K.js";import{c as yr,W as rf}from"./wallet-BD6zqWLa.js";import"./index-Dc7LDrXT.js";const nf=({...l})=>{const v=typeof window<"u"&&document.documentElement.classList.contains("dark");return le.jsx(Wu,{theme:v?"dark":"light",className:"toaster group",icons:{success:le.jsx(kt,{icon:ef,strokeWidth:2,className:"size-4"}),info:le.jsx(kt,{icon:Qu,strokeWidth:2,className:"size-4"}),warning:le.jsx(kt,{icon:Yu,strokeWidth:2,className:"size-4"}),error:le.jsx(kt,{icon:Xu,strokeWidth:2,className:"size-4"}),loading:le.jsx(kt,{icon:Zu,strokeWidth:2,className:"size-4 animate-spin"})},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},toastOptions:{classNames:{toast:"cn-toast"}},...l})};const af=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Oa=yr("arrow-right",af);const of=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],sf=yr("circle-check",of);const cf=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uf=yr("shield-check",cf);const ff=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],df=yr("x",ff);var Fr={exports:{}},at={},jt={},Pa;function vr(){if(Pa)return jt;Pa=1,Object.defineProperty(jt,"__esModule",{value:!0});var l=(E=>(E[E.ED25519=0]="ED25519",E[E.SECP256K1=1]="SECP256K1",E))(l||{});const v={SECRET_KEY:32,ED25519_PUBLIC_KEY:32,SECP256k1_PUBLIC_KEY:64};return jt.KeySize=v,jt.KeyType=l,jt}var Qt={},er={},Ia;function aa(){if(Ia)return er;Ia=1,Object.defineProperty(er,"__esModule",{value:!0});class l{}return er.KeyPairBase=l,er}var tr={},Kr={exports:{}},Ur,Ma;function lf(){if(Ma)return Ur;Ma=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(o,r,t,e)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of E(r))!_.call(o,a)&&a!==t&&l(o,a,{get:()=>r[a],enumerable:!(e=v(r,a))||e.enumerable});return o},d=o=>y(l({},"__esModule",{value:!0}),o),b={};return Ur=d(b),Ur}var zr,Ca;function hf(){if(Ca)return zr;Ca=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{Assignable:()=>r}),zr=b(o);class r{constructor(e){Object.keys(e).map(a=>{this[a]=e[a]})}}return zr}var Hr,Ba;function pf(){if(Ba)return Hr;Ba=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{Enum:()=>r}),Hr=b(o);class r{constructor(e){if(Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(a=>{this[a]=e[a]})}}return Hr}var Vr,ka;function bf(){if(ka)return Vr;ka=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(i,n)=>{for(var u in n)l(i,u,{get:n[u],enumerable:!0})},d=(i,n,u,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let p of E(n))!_.call(i,p)&&p!==u&&l(i,p,{get:()=>n[p],enumerable:!(c=v(n,p))||c.enumerable});return i},b=i=>d(l({},"__esModule",{value:!0}),i),o={};y(o,{ArgumentTypeError:()=>t,ErrorContext:()=>a,PositionalArgsError:()=>r,TypedError:()=>e}),Vr=b(o);class r extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}class t extends Error{constructor(n,u,c){super(`Expected ${u} for '${n}' argument, but got '${JSON.stringify(c)}'`)}}class e extends Error{type;context;constructor(n,u,c){super(n),this.type=u||"UntypedError",this.context=c}}class a{transactionHash;constructor(n){this.transactionHash=n}}return Vr}var Jr,ja;function yf(){if(ja)return Jr;ja=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{IdType:()=>r}),Jr=b(o);var r=(t=>(t.Transaction="transaction",t.Receipt="receipt",t))(r||{});return Jr}var Gr,Na;function vf(){if(Na)return Gr;Na=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(e,a)=>{for(var i in a)l(e,i,{get:a[i],enumerable:!0})},d=(e,a,i,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of E(a))!_.call(e,u)&&u!==i&&l(e,u,{get:()=>a[u],enumerable:!(n=v(a,u))||n.enumerable});return e},b=e=>d(l({},"__esModule",{value:!0}),e),o={};y(o,{ExecutionStatusBasic:()=>r,FinalExecutionStatusBasic:()=>t}),Gr=b(o);var r=(e=>(e.Unknown="Unknown",e.Pending="Pending",e.Failure="Failure",e))(r||{}),t=(e=>(e.NotStarted="NotStarted",e.Started="Started",e.Failure="Failure",e))(t||{});return Gr}var $r,Ta;function _f(){if(Ta)return $r;Ta=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(e,a)=>{for(var i in a)l(e,i,{get:a[i],enumerable:!0})},d=(e,a,i,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of E(a))!_.call(e,u)&&u!==i&&l(e,u,{get:()=>a[u],enumerable:!(n=v(a,u))||n.enumerable});return e},b=e=>d(l({},"__esModule",{value:!0}),e),o={};y(o,{ExecutionStatusBasic:()=>t.ExecutionStatusBasic,FinalExecutionStatusBasic:()=>t.FinalExecutionStatusBasic,IdType:()=>r.IdType}),$r=b(o);var r=yf(),t=vf();return $r}var Ra;function Xe(){return Ra||(Ra=1,(function(l){var v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.prototype.hasOwnProperty,d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of _(e))!y.call(t,n)&&n!==a&&v(t,n,{get:()=>e[n],enumerable:!(i=E(e,n))||i.enumerable});return t},b=(t,e,a)=>(d(t,e,"default"),a&&d(a,e,"default")),o=t=>d(v({},"__esModule",{value:!0}),t),r={};l.exports=o(r),b(r,lf(),l.exports),b(r,hf(),l.exports),b(r,pf(),l.exports),b(r,bf(),l.exports),b(r,_f(),l.exports)})(Kr)),Kr.exports}var hr={exports:{}},gf=hr.exports,Da;function wf(){return Da||(Da=1,(function(l,v){(function(E,_){l.exports=_()})(gf,(function(){var E=Object.prototype.toString,_=Array.isArray||function(h){return E.call(h)==="[object Array]"};function y(s){return typeof s=="function"}function d(s){return _(s)?"array":typeof s}function b(s){return s.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(s,h){return s!=null&&typeof s=="object"&&h in s}function r(s,h){return s!=null&&typeof s!="object"&&s.hasOwnProperty&&s.hasOwnProperty(h)}var t=RegExp.prototype.test;function e(s,h){return t.call(s,h)}var a=/\S/;function i(s){return!e(a,s)}var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function u(s){return String(s).replace(/[&<>"'`=\/]/g,function(f){return n[f]})}var c=/\s*/,p=/\s+/,m=/\s*=/,O=/\s*\}/,I=/#|\^|\/|>|\{|&|=|!/;function C(s,h){if(!s)return[];var f=!1,x=[],S=[],B=[],R=!1,j=!1,g="",A=0;function L(){if(R&&!j)for(;B.length;)delete S[B.pop()];else B=[];R=!1,j=!1}var K,T,V;function J(oe){if(typeof oe=="string"&&(oe=oe.split(p,2)),!_(oe)||oe.length!==2)throw new Error("Invalid tags: "+oe);K=new RegExp(b(oe[0])+"\\s*"),T=new RegExp("\\s*"+b(oe[1])),V=new RegExp("\\s*"+b("}"+oe[1]))}J(h||U.tags);for(var X=new G(s),$,H,Q,ee,ce,te;!X.eos();){if($=X.pos,Q=X.scanUntil(K),Q)for(var ae=0,ue=Q.length;ae<ue;++ae)ee=Q.charAt(ae),i(ee)?(B.push(S.length),g+=ee):(j=!0,f=!0,g+=" "),S.push(["text",ee,$,$+1]),$+=1,ee===`
`&&(L(),g="",A=0,f=!1);if(!X.scan(K))break;if(R=!0,H=X.scan(I)||"name",X.scan(c),H==="="?(Q=X.scanUntil(m),X.scan(m),X.scanUntil(T)):H==="{"?(Q=X.scanUntil(V),X.scan(O),X.scanUntil(T),H="&"):Q=X.scanUntil(T),!X.scan(T))throw new Error("Unclosed tag at "+X.pos);if(H==">"?ce=[H,Q,$,X.pos,g,A,f]:ce=[H,Q,$,X.pos],A++,S.push(ce),H==="#"||H==="^")x.push(ce);else if(H==="/"){if(te=x.pop(),!te)throw new Error('Unopened section "'+Q+'" at '+$);if(te[1]!==Q)throw new Error('Unclosed section "'+te[1]+'" at '+$)}else H==="name"||H==="{"||H==="&"?j=!0:H==="="&&J(Q)}if(L(),te=x.pop(),te)throw new Error('Unclosed section "'+te[1]+'" at '+X.pos);return D(k(S))}function k(s){for(var h=[],f,x,S=0,B=s.length;S<B;++S)f=s[S],f&&(f[0]==="text"&&x&&x[0]==="text"?(x[1]+=f[1],x[3]=f[3]):(h.push(f),x=f));return h}function D(s){for(var h=[],f=h,x=[],S,B,R=0,j=s.length;R<j;++R)switch(S=s[R],S[0]){case"#":case"^":f.push(S),x.push(S),f=S[4]=[];break;case"/":B=x.pop(),B[5]=S[2],f=x.length>0?x[x.length-1][4]:h;break;default:f.push(S)}return h}function G(s){this.string=s,this.tail=s,this.pos=0}G.prototype.eos=function(){return this.tail===""},G.prototype.scan=function(h){var f=this.tail.match(h);if(!f||f.index!==0)return"";var x=f[0];return this.tail=this.tail.substring(x.length),this.pos+=x.length,x},G.prototype.scanUntil=function(h){var f=this.tail.search(h),x;switch(f){case-1:x=this.tail,this.tail="";break;case 0:x="";break;default:x=this.tail.substring(0,f),this.tail=this.tail.substring(f)}return this.pos+=x.length,x};function z(s,h){this.view=s,this.cache={".":this.view},this.parent=h}z.prototype.push=function(h){return new z(h,this)},z.prototype.lookup=function(h){var f=this.cache,x;if(f.hasOwnProperty(h))x=f[h];else{for(var S=this,B,R,j,g=!1;S;){if(h.indexOf(".")>0)for(B=S.view,R=h.split("."),j=0;B!=null&&j<R.length;)j===R.length-1&&(g=o(B,R[j])||r(B,R[j])),B=B[R[j++]];else B=S.view[h],g=o(S.view,h);if(g){x=B;break}S=S.parent}f[h]=x}return y(x)&&(x=x.call(this.view)),x};function F(){this.templateCache={_cache:{},set:function(h,f){this._cache[h]=f},get:function(h){return this._cache[h]},clear:function(){this._cache={}}}}F.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()},F.prototype.parse=function(h,f){var x=this.templateCache,S=h+":"+(f||U.tags).join(":"),B=typeof x<"u",R=B?x.get(S):void 0;return R==null&&(R=C(h,f),B&&x.set(S,R)),R},F.prototype.render=function(h,f,x,S){var B=this.parse(h,S),R=f instanceof z?f:new z(f,void 0);return this.renderTokens(B,R,x,h,S)},F.prototype.renderTokens=function(h,f,x,S,B){for(var R="",j,g,A,L=0,K=h.length;L<K;++L)A=void 0,j=h[L],g=j[0],g==="#"?A=this.renderSection(j,f,x,S):g==="^"?A=this.renderInverted(j,f,x,S):g===">"?A=this.renderPartial(j,f,x,B):g==="&"?A=this.unescapedValue(j,f):g==="name"?A=this.escapedValue(j,f):g==="text"&&(A=this.rawValue(j)),A!==void 0&&(R+=A);return R},F.prototype.renderSection=function(h,f,x,S){var B=this,R="",j=f.lookup(h[1]);function g(K){return B.render(K,f,x)}if(j){if(_(j))for(var A=0,L=j.length;A<L;++A)R+=this.renderTokens(h[4],f.push(j[A]),x,S);else if(typeof j=="object"||typeof j=="string"||typeof j=="number")R+=this.renderTokens(h[4],f.push(j),x,S);else if(y(j)){if(typeof S!="string")throw new Error("Cannot use higher-order sections without the original template");j=j.call(f.view,S.slice(h[3],h[5]),g),j!=null&&(R+=j)}else R+=this.renderTokens(h[4],f,x,S);return R}},F.prototype.renderInverted=function(h,f,x,S){var B=f.lookup(h[1]);if(!B||_(B)&&B.length===0)return this.renderTokens(h[4],f,x,S)},F.prototype.indentPartial=function(h,f,x){for(var S=f.replace(/[^ \t]/g,""),B=h.split(`
`),R=0;R<B.length;R++)B[R].length&&(R>0||!x)&&(B[R]=S+B[R]);return B.join(`
`)},F.prototype.renderPartial=function(h,f,x,S){if(x){var B=y(x)?x(h[1]):x[h[1]];if(B!=null){var R=h[6],j=h[5],g=h[4],A=B;return j==0&&g&&(A=this.indentPartial(B,g,R)),this.renderTokens(this.parse(A,S),f,x,A)}}},F.prototype.unescapedValue=function(h,f){var x=f.lookup(h[1]);if(x!=null)return x},F.prototype.escapedValue=function(h,f){var x=f.lookup(h[1]);if(x!=null)return U.escape(x)},F.prototype.rawValue=function(h){return h[1]};var U={name:"mustache.js",version:"4.0.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(s){w.templateCache=s},get templateCache(){return w.templateCache}},w=new F;return U.clearCache=function(){return w.clearCache()},U.parse=function(h,f){return w.parse(h,f)},U.render=function(h,f,x,S){if(typeof h!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+d(h)+'" was given as the first argument for mustache#render(template, view, partials)');return w.render(h,f,x,S)},U.escape=u,U.Scanner=G,U.Context=z,U.Writer=F,U}))})(hr)),hr.exports}var Wr={},La;function mf(){return La||(La=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.bytes=l.stringToBytes=l.str=l.bytesToString=l.hex=l.utf8=l.bech32m=l.bech32=l.base58check=l.createBase58check=l.base58xmr=l.base58xrp=l.base58flickr=l.base58=l.base64urlnopad=l.base64url=l.base64nopad=l.base64=l.base32crockford=l.base32hexnopad=l.base32hex=l.base32nopad=l.base32=l.base16=l.utils=void 0;function v(T){return T instanceof Uint8Array||ArrayBuffer.isView(T)&&T.constructor.name==="Uint8Array"}function E(T,...V){if(!v(T))throw new Error("Uint8Array expected");if(V.length>0&&!V.includes(T.length))throw new Error("Uint8Array expected of length "+V+", got length="+T.length)}function _(T,V){return Array.isArray(V)?V.length===0?!0:T?V.every(J=>typeof J=="string"):V.every(J=>Number.isSafeInteger(J)):!1}function y(T){if(typeof T!="function")throw new Error("function expected");return!0}function d(T,V){if(typeof V!="string")throw new Error(`${T}: string expected`);return!0}function b(T){if(!Number.isSafeInteger(T))throw new Error(`invalid integer: ${T}`)}function o(T){if(!Array.isArray(T))throw new Error("array expected")}function r(T,V){if(!_(!0,V))throw new Error(`${T}: array of strings expected`)}function t(T,V){if(!_(!1,V))throw new Error(`${T}: array of numbers expected`)}function e(...T){const V=H=>H,J=(H,Q)=>ee=>H(Q(ee)),X=T.map(H=>H.encode).reduceRight(J,V),$=T.map(H=>H.decode).reduce(J,V);return{encode:X,decode:$}}function a(T){const V=typeof T=="string"?T.split(""):T,J=V.length;r("alphabet",V);const X=new Map(V.map(($,H)=>[$,H]));return{encode:$=>(o($),$.map(H=>{if(!Number.isSafeInteger(H)||H<0||H>=J)throw new Error(`alphabet.encode: digit index outside alphabet "${H}". Allowed: ${T}`);return V[H]})),decode:$=>(o($),$.map(H=>{d("alphabet.decode",H);const Q=X.get(H);if(Q===void 0)throw new Error(`Unknown letter: "${H}". Allowed: ${T}`);return Q}))}}function i(T=""){return d("join",T),{encode:V=>(r("join.decode",V),V.join(T)),decode:V=>(d("join.decode",V),V.split(T))}}function n(T,V="="){return b(T),d("padding",V),{encode(J){for(r("padding.encode",J);J.length*T%8;)J.push(V);return J},decode(J){r("padding.decode",J);let X=J.length;if(X*T%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;X>0&&J[X-1]===V;X--)if((X-1)*T%8===0)throw new Error("padding: invalid, string has too much padding");return J.slice(0,X)}}}function u(T){return y(T),{encode:V=>V,decode:V=>T(V)}}function c(T,V,J){if(V<2)throw new Error(`convertRadix: invalid from=${V}, base cannot be less than 2`);if(J<2)throw new Error(`convertRadix: invalid to=${J}, base cannot be less than 2`);if(o(T),!T.length)return[];let X=0;const $=[],H=Array.from(T,ee=>{if(b(ee),ee<0||ee>=V)throw new Error(`invalid integer: ${ee}`);return ee}),Q=H.length;for(;;){let ee=0,ce=!0;for(let te=X;te<Q;te++){const ae=H[te],ue=V*ee,oe=ue+ae;if(!Number.isSafeInteger(oe)||ue/V!==ee||oe-ae!==ue)throw new Error("convertRadix: carry overflow");const W=oe/J;ee=oe%J;const Y=Math.floor(W);if(H[te]=Y,!Number.isSafeInteger(Y)||Y*J+ee!==oe)throw new Error("convertRadix: carry overflow");if(ce)Y?ce=!1:X=te;else continue}if($.push(ee),ce)break}for(let ee=0;ee<T.length-1&&T[ee]===0;ee++)$.push(0);return $.reverse()}const p=(T,V)=>V===0?T:p(V,T%V),m=(T,V)=>T+(V-p(T,V)),O=(()=>{let T=[];for(let V=0;V<40;V++)T.push(2**V);return T})();function I(T,V,J,X){if(o(T),V<=0||V>32)throw new Error(`convertRadix2: wrong from=${V}`);if(J<=0||J>32)throw new Error(`convertRadix2: wrong to=${J}`);if(m(V,J)>32)throw new Error(`convertRadix2: carry overflow from=${V} to=${J} carryBits=${m(V,J)}`);let $=0,H=0;const Q=O[V],ee=O[J]-1,ce=[];for(const te of T){if(b(te),te>=Q)throw new Error(`convertRadix2: invalid data word=${te} from=${V}`);if($=$<<V|te,H+V>32)throw new Error(`convertRadix2: carry overflow pos=${H} from=${V}`);for(H+=V;H>=J;H-=J)ce.push(($>>H-J&ee)>>>0);const ae=O[H];if(ae===void 0)throw new Error("invalid carry");$&=ae-1}if($=$<<J-H&ee,!X&&H>=V)throw new Error("Excess padding");if(!X&&$>0)throw new Error(`Non-zero padding: ${$}`);return X&&H>0&&ce.push($>>>0),ce}function C(T){b(T);const V=2**8;return{encode:J=>{if(!v(J))throw new Error("radix.encode input should be Uint8Array");return c(Array.from(J),V,T)},decode:J=>(t("radix.decode",J),Uint8Array.from(c(J,T,V)))}}function k(T,V=!1){if(b(T),T<=0||T>32)throw new Error("radix2: bits should be in (0..32]");if(m(8,T)>32||m(T,8)>32)throw new Error("radix2: carry overflow");return{encode:J=>{if(!v(J))throw new Error("radix2.encode input should be Uint8Array");return I(Array.from(J),8,T,!V)},decode:J=>(t("radix2.decode",J),Uint8Array.from(I(J,T,8,V)))}}function D(T){return y(T),function(...V){try{return T.apply(null,V)}catch{}}}function G(T,V){return b(T),y(V),{encode(J){if(!v(J))throw new Error("checksum.encode: input should be Uint8Array");const X=V(J).slice(0,T),$=new Uint8Array(J.length+T);return $.set(J),$.set(X,J.length),$},decode(J){if(!v(J))throw new Error("checksum.decode: input should be Uint8Array");const X=J.slice(0,-T),$=J.slice(-T),H=V(X).slice(0,T);for(let Q=0;Q<T;Q++)if(H[Q]!==$[Q])throw new Error("Invalid checksum");return X}}}l.utils={alphabet:a,chain:e,checksum:G,convertRadix:c,convertRadix2:I,radix:C,radix2:k,join:i,padding:n},l.base16=e(k(4),a("0123456789ABCDEF"),i("")),l.base32=e(k(5),a("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),n(5),i("")),l.base32nopad=e(k(5),a("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),i("")),l.base32hex=e(k(5),a("0123456789ABCDEFGHIJKLMNOPQRSTUV"),n(5),i("")),l.base32hexnopad=e(k(5),a("0123456789ABCDEFGHIJKLMNOPQRSTUV"),i("")),l.base32crockford=e(k(5),a("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),u(T=>T.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const z=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",F=(T,V)=>{d("base64",T);const J=V?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,X=V?"base64url":"base64";if(T.length>0&&!J.test(T))throw new Error("invalid base64");return Uint8Array.fromBase64(T,{alphabet:X,lastChunkHandling:"strict"})};l.base64=z?{encode(T){return E(T),T.toBase64()},decode(T){return F(T,!1)}}:e(k(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),n(6),i("")),l.base64nopad=e(k(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),i("")),l.base64url=z?{encode(T){return E(T),T.toBase64({alphabet:"base64url"})},decode(T){return F(T,!0)}}:e(k(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),n(6),i("")),l.base64urlnopad=e(k(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),i(""));const U=T=>e(C(58),a(T),i(""));l.base58=U("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),l.base58flickr=U("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),l.base58xrp=U("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const w=[0,2,3,5,6,7,9,10,11];l.base58xmr={encode(T){let V="";for(let J=0;J<T.length;J+=8){const X=T.subarray(J,J+8);V+=l.base58.encode(X).padStart(w[X.length],"1")}return V},decode(T){let V=[];for(let J=0;J<T.length;J+=11){const X=T.slice(J,J+11),$=w.indexOf(X.length),H=l.base58.decode(X);for(let Q=0;Q<H.length-$;Q++)if(H[Q]!==0)throw new Error("base58xmr: wrong padding");V=V.concat(Array.from(H.slice(H.length-$)))}return Uint8Array.from(V)}};const s=T=>e(G(4,V=>T(T(V))),l.base58);l.createBase58check=s,l.base58check=l.createBase58check;const h=e(a("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),f=[996825010,642813549,513874426,1027748829,705979059];function x(T){const V=T>>25;let J=(T&33554431)<<5;for(let X=0;X<f.length;X++)(V>>X&1)===1&&(J^=f[X]);return J}function S(T,V,J=1){const X=T.length;let $=1;for(let H=0;H<X;H++){const Q=T.charCodeAt(H);if(Q<33||Q>126)throw new Error(`Invalid prefix (${T})`);$=x($)^Q>>5}$=x($);for(let H=0;H<X;H++)$=x($)^T.charCodeAt(H)&31;for(let H of V)$=x($)^H;for(let H=0;H<6;H++)$=x($);return $^=J,h.encode(I([$%O[30]],30,5,!1))}function B(T){const V=T==="bech32"?1:734539939,J=k(5),X=J.decode,$=J.encode,H=D(X);function Q(ue,oe,W=90){d("bech32.encode prefix",ue),v(oe)&&(oe=Array.from(oe)),t("bech32.encode",oe);const Y=ue.length;if(Y===0)throw new TypeError(`Invalid prefix length ${Y}`);const se=Y+7+oe.length;if(W!==!1&&se>W)throw new TypeError(`Length ${se} exceeds limit ${W}`);const fe=ue.toLowerCase(),ie=S(fe,oe,V);return`${fe}1${h.encode(oe)}${ie}`}function ee(ue,oe=90){d("bech32.decode input",ue);const W=ue.length;if(W<8||oe!==!1&&W>oe)throw new TypeError(`invalid string length: ${W} (${ue}). Expected (8..${oe})`);const Y=ue.toLowerCase();if(ue!==Y&&ue!==ue.toUpperCase())throw new Error("String must be lowercase or uppercase");const se=Y.lastIndexOf("1");if(se===0||se===-1)throw new Error('Letter "1" must be present between prefix and data only');const fe=Y.slice(0,se),ie=Y.slice(se+1);if(ie.length<6)throw new Error("Data must be at least 6 characters long");const de=h.decode(ie).slice(0,-6),be=S(fe,de,V);if(!ie.endsWith(be))throw new Error(`Invalid checksum in ${ue}: expected "${be}"`);return{prefix:fe,words:de}}const ce=D(ee);function te(ue){const{prefix:oe,words:W}=ee(ue,!1);return{prefix:oe,words:W,bytes:X(W)}}function ae(ue,oe){return Q(ue,$(oe))}return{encode:Q,decode:ee,encodeFromBytes:ae,decodeToBytes:te,decodeUnsafe:ce,fromWords:X,fromWordsUnsafe:H,toWords:$}}l.bech32=B("bech32"),l.bech32m=B("bech32m"),l.utf8={encode:T=>new TextDecoder().decode(T),decode:T=>new TextEncoder().encode(T)};const R=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",j={encode(T){return E(T),T.toHex()},decode(T){return d("hex",T),Uint8Array.fromHex(T)}};l.hex=R?j:e(k(4),a("0123456789abcdef"),i(""),u(T=>{if(typeof T!="string"||T.length%2!==0)throw new TypeError(`hex.decode: expected string, got ${typeof T} with length ${T.length}`);return T.toLowerCase()}));const g={utf8:l.utf8,hex:l.hex,base16:l.base16,base32:l.base32,base64:l.base64,base64url:l.base64url,base58:l.base58,base58xmr:l.base58xmr},A="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",L=(T,V)=>{if(typeof T!="string"||!g.hasOwnProperty(T))throw new TypeError(A);if(!v(V))throw new TypeError("bytesToString() expects Uint8Array");return g[T].encode(V)};l.bytesToString=L,l.str=l.bytesToString;const K=(T,V)=>{if(!g.hasOwnProperty(T))throw new TypeError(A);if(typeof V!="string")throw new TypeError("stringToBytes() expects string");return g[T].decode(V)};l.stringToBytes=K,l.bytes=l.stringToBytes})(Wr)),Wr}var Zr,qa;function ut(){if(qa)return Zr;qa=1,Zr=l;function l(_){if(!_)throw new TypeError("argument namespace is required");function y(d){}return y._file=void 0,y._ignored=!0,y._namespace=_,y._traced=!1,y._warned=Object.create(null),y.function=v,y.property=E,y}function v(_,y){if(typeof _!="function")throw new TypeError("argument fn must be a function");return _}function E(_,y,d){if(!_||typeof _!="object"&&typeof _!="function")throw new TypeError("argument obj must be object");var b=Object.getOwnPropertyDescriptor(_,y);if(!b)throw new TypeError("must call property on owner object");if(!b.configurable)throw new TypeError("property must be configurable")}return Zr}var Xr,Fa;function Ge(){if(Fa)return Xr;Fa=1;var l=Object.create,v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(W,Y)=>{for(var se in Y)v(W,se,{get:Y[se],enumerable:!0})},o=(W,Y,se,fe)=>{if(Y&&typeof Y=="object"||typeof Y=="function")for(let ie of _(Y))!d.call(W,ie)&&ie!==se&&v(W,ie,{get:()=>Y[ie],enumerable:!(fe=E(Y,ie))||fe.enumerable});return W},r=(W,Y,se)=>(se=W!=null?l(y(W)):{},o(v(se,"default",{value:W,enumerable:!0}),W)),t=W=>o(v({},"__esModule",{value:!0}),W),e={};b(e,{ConsoleLogger:()=>T,DEFAULT_FUNCTION_CALL_GAS:()=>a,ErrorMessages:()=>n,Logger:()=>X,NEAR_NOMINATION:()=>O,NEAR_NOMINATION_EXP:()=>m,ServerError:()=>x,baseDecode:()=>s,baseEncode:()=>w,diffEpochValidators:()=>oe,findSeatPrice:()=>te,formatError:()=>j,formatNearAmount:()=>k,getErrorTypeFromErrorMessage:()=>A,getTransactionLastResult:()=>Q,parseNearAmount:()=>D,parseResultError:()=>R,parseRpcError:()=>B,printTxOutcomeLogs:()=>H,printTxOutcomeLogsAndFailures:()=>$,sortBigIntAsc:()=>ce}),Xr=t(e);var a=30000000000000n,i={GasLimitExceeded:"Exceeded the maximum amount of gas allowed to burn per contract",MethodEmptyName:"Method name is empty",WasmerCompileError:"Wasmer compilation error: {{msg}}",GuestPanic:"Smart contract panicked: {{panic_msg}}",Memory:"Error creating Wasm memory",GasExceeded:"Exceeded the prepaid gas",MethodUTF8Error:"Method name is not valid UTF8 string",BadUTF16:"String encoding is bad UTF-16 sequence",WasmTrap:"WebAssembly trap: {{msg}}",GasInstrumentation:"Gas instrumentation failed or contract has denied instructions.",InvalidPromiseIndex:"{{promise_idx}} does not correspond to existing promises",InvalidPromiseResultIndex:"Accessed invalid promise result index: {{result_idx}}",Deserialization:"Error happened while deserializing the module",MethodNotFound:"Contract method is not found",InvalidRegisterId:"Accessed invalid register id: {{register_id}}",InvalidReceiptIndex:"VM Logic returned an invalid receipt index: {{receipt_index}}",EmptyMethodName:"Method name is empty in contract call",CannotReturnJointPromise:"Returning joint promise is currently prohibited",StackHeightInstrumentation:"Stack instrumentation failed",CodeDoesNotExist:"Cannot find contract code for account {{account_id}}",MethodInvalidSignature:"Invalid method signature",IntegerOverflow:"Integer overflow happened during contract execution",MemoryAccessViolation:"MemoryAccessViolation",InvalidIteratorIndex:"Iterator index {{iterator_index}} does not exist",IteratorWasInvalidated:"Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",InvalidAccountId:"VM Logic returned an invalid account id",Serialization:"Error happened while serializing the module",CannotAppendActionToJointPromise:"Actions can only be appended to non-joint promise.",InternalMemoryDeclared:"Internal memory declaration has been found in the module",Instantiate:"Error happened during instantiation",ProhibitedInView:"{{method_name}} is not allowed in view calls",InvalidMethodName:"VM Logic returned an invalid method name",BadUTF8:"String encoding is bad UTF-8 sequence",BalanceExceeded:"Exceeded the account balance",LinkError:"Wasm contract link error: {{msg}}",InvalidPublicKey:"VM Logic provided an invalid public key",ActorNoPermission:"Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",LackBalanceForState:"The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",ReceiverMismatch:"Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",CostOverflow:"Transaction gas or balance cost is too high",InvalidSignature:"Transaction is not signed with the given public key",AccessKeyNotFound:`Signer "{{account_id}}" doesn't have access key with the given public_key {{public_key}}`,NotEnoughBalance:"Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",NotEnoughAllowance:"Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",Expired:"Transaction has expired",DeleteAccountStaking:"Account {{account_id}} is staking and can not be deleted",SignerDoesNotExist:"Signer {{signer_id}} does not exist",TriesToStake:"Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",AddKeyAlreadyExists:"The public key {{public_key}} is already used for an existing access key",InvalidSigner:"Invalid signer account ID {{signer_id}} according to requirements",CreateAccountNotAllowed:"The new account_id {{account_id}} can't be created by {{predecessor_id}}",RequiresFullAccess:"The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",TriesToUnstake:"Account {{account_id}} is not yet staked, but tried to unstake",InvalidNonce:"Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",AccountAlreadyExists:"Can't create a new account {{account_id}}, because it already exists",InvalidChain:"Transaction parent block hash doesn't belong to the current chain",AccountDoesNotExist:"Can't complete the action because account {{account_id}} doesn't exist",AccessKeyDoesNotExist:"Can't complete the action because access key {{public_key}} doesn't exist",MethodNameMismatch:"Transaction method name {{method_name}} isn't allowed by the access key",DeleteAccountHasRent:"Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",DeleteAccountHasEnoughBalance:"Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",InvalidReceiver:"Invalid receiver account ID {{receiver_id}} according to requirements",DeleteKeyDoesNotExist:"Account {{account_id}} tries to remove an access key that doesn't exist",Timeout:"Timeout exceeded",Closed:"Connection closed",ShardCongested:"Shard {{shard_id}} rejected the transaction due to congestion level {{congestion_level}}, try again later",ShardStuck:"Shard {{shard_id}} rejected the transaction because it missed {{missed_chunks}} chunks and needs to recover before accepting new transactions, try again later"},n=i,u=Xe(),c=r(wf()),p=mf(),m=24,O=10n**BigInt(m),I=[],C=10n;for(let W=0,Y=5n;W<m;W++,Y=Y*C)I[W]=Y;function k(W,Y=m){let se=BigInt(W);if(Y!==m){const de=m-Y-1;de>0&&(se+=I[de])}W=se.toString();const fe=W.substring(0,W.length-m)||"0",ie=W.substring(W.length-m).padStart(m,"0").substring(0,Y);return z(`${U(fe)}.${ie}`)}function D(W){if(!W)return null;W=G(W);const Y=W.split("."),se=Y[0],fe=Y[1]||"";if(Y.length>2||fe.length>m)throw new Error(`Cannot parse '${W}' as NEAR amount`);return F(se+fe.padEnd(m,"0"))}function G(W){return W.replace(/,/g,"").trim()}function z(W){return W.replace(/\.?0*$/,"")}function F(W){return W=W.replace(/^0+/,""),W===""?"0":W}function U(W){const Y=/(-?\d+)(\d{3})/;for(;Y.test(W);)W=W.replace(Y,"$1,$2");return W}function w(W){if(typeof W=="string"){const Y=[];for(let se=0;se<W.length;se++)Y.push(W.charCodeAt(se));W=new Uint8Array(Y)}return p.base58.encode(W)}function s(W){return p.base58.decode(W)}var h={schema:{AccessKeyNotFound:{name:"AccessKeyNotFound",subtypes:[],props:{account_id:"",public_key:""}},AccountAlreadyExists:{name:"AccountAlreadyExists",subtypes:[],props:{account_id:""}},AccountDoesNotExist:{name:"AccountDoesNotExist",subtypes:[],props:{account_id:""}},ActionError:{name:"ActionError",subtypes:["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],props:{index:""}},ActionsValidationError:{name:"ActionsValidationError",subtypes:["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],props:{}},ActorNoPermission:{name:"ActorNoPermission",subtypes:[],props:{account_id:"",actor_id:""}},AddKeyAlreadyExists:{name:"AddKeyAlreadyExists",subtypes:[],props:{account_id:"",public_key:""}},AddKeyMethodNameLengthExceeded:{name:"AddKeyMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},AddKeyMethodNamesNumberOfBytesExceeded:{name:"AddKeyMethodNamesNumberOfBytesExceeded",subtypes:[],props:{limit:"",total_number_of_bytes:""}},AltBn128InvalidInput:{name:"AltBn128InvalidInput",subtypes:[],props:{msg:""}},BadUTF16:{name:"BadUTF16",subtypes:[],props:{}},BadUTF8:{name:"BadUTF8",subtypes:[],props:{}},BalanceExceeded:{name:"BalanceExceeded",subtypes:[],props:{}},BalanceMismatchError:{name:"BalanceMismatchError",subtypes:[],props:{final_accounts_balance:"",final_postponed_receipts_balance:"",forwarded_buffered_receipts_balance:"",incoming_receipts_balance:"",incoming_validator_rewards:"",initial_accounts_balance:"",initial_postponed_receipts_balance:"",new_buffered_receipts_balance:"",new_delayed_receipts_balance:"",other_burnt_amount:"",outgoing_receipts_balance:"",processed_delayed_receipts_balance:"",slashed_burnt_amount:"",tx_burnt_amount:""}},CallIndirectOOB:{name:"CallIndirectOOB",subtypes:[],props:{}},CannotAppendActionToJointPromise:{name:"CannotAppendActionToJointPromise",subtypes:[],props:{}},CannotReturnJointPromise:{name:"CannotReturnJointPromise",subtypes:[],props:{}},CodeDoesNotExist:{name:"CodeDoesNotExist",subtypes:[],props:{account_id:""}},CompilationError:{name:"CompilationError",subtypes:["CodeDoesNotExist","PrepareError","WasmerCompileError"],props:{}},ContractSizeExceeded:{name:"ContractSizeExceeded",subtypes:[],props:{limit:"",size:""}},CostOverflow:{name:"CostOverflow",subtypes:[],props:{}},CreateAccountNotAllowed:{name:"CreateAccountNotAllowed",subtypes:[],props:{account_id:"",predecessor_id:""}},CreateAccountOnlyByRegistrar:{name:"CreateAccountOnlyByRegistrar",subtypes:[],props:{account_id:"",predecessor_id:"",registrar_account_id:""}},DelegateActionExpired:{name:"DelegateActionExpired",subtypes:[],props:{}},DelegateActionInvalidNonce:{name:"DelegateActionInvalidNonce",subtypes:[],props:{ak_nonce:"",delegate_nonce:""}},DelegateActionInvalidSignature:{name:"DelegateActionInvalidSignature",subtypes:[],props:{}},DelegateActionMustBeOnlyOne:{name:"DelegateActionMustBeOnlyOne",subtypes:[],props:{}},DelegateActionNonceTooLarge:{name:"DelegateActionNonceTooLarge",subtypes:[],props:{delegate_nonce:"",upper_bound:""}},DelegateActionSenderDoesNotMatchTxReceiver:{name:"DelegateActionSenderDoesNotMatchTxReceiver",subtypes:[],props:{receiver_id:"",sender_id:""}},DeleteAccountStaking:{name:"DeleteAccountStaking",subtypes:[],props:{account_id:""}},DeleteAccountWithLargeState:{name:"DeleteAccountWithLargeState",subtypes:[],props:{account_id:""}},DeleteActionMustBeFinal:{name:"DeleteActionMustBeFinal",subtypes:[],props:{}},DeleteKeyDoesNotExist:{name:"DeleteKeyDoesNotExist",subtypes:[],props:{account_id:"",public_key:""}},DepositWithFunctionCall:{name:"DepositWithFunctionCall",subtypes:[],props:{}},Deprecated:{name:"Deprecated",subtypes:[],props:{method_name:""}},Deserialization:{name:"Deserialization",subtypes:[],props:{}},ECRecoverError:{name:"ECRecoverError",subtypes:[],props:{msg:""}},Ed25519VerifyInvalidInput:{name:"Ed25519VerifyInvalidInput",subtypes:[],props:{msg:""}},EmptyMethodName:{name:"EmptyMethodName",subtypes:[],props:{}},Expired:{name:"Expired",subtypes:[],props:{}},FunctionCallArgumentsLengthExceeded:{name:"FunctionCallArgumentsLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallMethodNameLengthExceeded:{name:"FunctionCallMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallZeroAttachedGas:{name:"FunctionCallZeroAttachedGas",subtypes:[],props:{}},GasExceeded:{name:"GasExceeded",subtypes:[],props:{}},GasInstrumentation:{name:"GasInstrumentation",subtypes:[],props:{}},GasLimitExceeded:{name:"GasLimitExceeded",subtypes:[],props:{}},GenericTrap:{name:"GenericTrap",subtypes:[],props:{}},GuestPanic:{name:"GuestPanic",subtypes:[],props:{panic_msg:""}},HostError:{name:"HostError",subtypes:["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],props:{}},IllegalArithmetic:{name:"IllegalArithmetic",subtypes:[],props:{}},IncorrectCallIndirectSignature:{name:"IncorrectCallIndirectSignature",subtypes:[],props:{}},IndirectCallToNull:{name:"IndirectCallToNull",subtypes:[],props:{}},Instantiate:{name:"Instantiate",subtypes:[],props:{}},InsufficientStake:{name:"InsufficientStake",subtypes:[],props:{account_id:"",minimum_stake:"",stake:""}},IntegerOverflow:{name:"IntegerOverflow",subtypes:[],props:{}},InternalMemoryDeclared:{name:"InternalMemoryDeclared",subtypes:[],props:{}},InvalidAccessKeyError:{name:"InvalidAccessKeyError",subtypes:["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],props:{}},InvalidAccountId:{name:"InvalidAccountId",subtypes:[],props:{}},InvalidChain:{name:"InvalidChain",subtypes:[],props:{}},InvalidDataReceiverId:{name:"InvalidDataReceiverId",subtypes:[],props:{account_id:""}},InvalidIteratorIndex:{name:"InvalidIteratorIndex",subtypes:[],props:{iterator_index:""}},InvalidMethodName:{name:"InvalidMethodName",subtypes:[],props:{}},InvalidNonce:{name:"InvalidNonce",subtypes:[],props:{ak_nonce:"",tx_nonce:""}},InvalidPredecessorId:{name:"InvalidPredecessorId",subtypes:[],props:{account_id:""}},InvalidPromiseIndex:{name:"InvalidPromiseIndex",subtypes:[],props:{promise_idx:""}},InvalidPromiseResultIndex:{name:"InvalidPromiseResultIndex",subtypes:[],props:{result_idx:""}},InvalidPublicKey:{name:"InvalidPublicKey",subtypes:[],props:{}},InvalidReceiptIndex:{name:"InvalidReceiptIndex",subtypes:[],props:{receipt_index:""}},InvalidReceiverId:{name:"InvalidReceiverId",subtypes:[],props:{account_id:""}},InvalidRegisterId:{name:"InvalidRegisterId",subtypes:[],props:{register_id:""}},InvalidSignature:{name:"InvalidSignature",subtypes:[],props:{}},InvalidSignerId:{name:"InvalidSignerId",subtypes:[],props:{account_id:""}},InvalidTxError:{name:"InvalidTxError",subtypes:["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded","StorageError","ShardCongested","ShardStuck"],props:{}},IteratorWasInvalidated:{name:"IteratorWasInvalidated",subtypes:[],props:{iterator_index:""}},KeyLengthExceeded:{name:"KeyLengthExceeded",subtypes:[],props:{length:"",limit:""}},LackBalanceForState:{name:"LackBalanceForState",subtypes:[],props:{account_id:"",amount:""}},Memory:{name:"Memory",subtypes:[],props:{}},MemoryAccessViolation:{name:"MemoryAccessViolation",subtypes:[],props:{}},MemoryOutOfBounds:{name:"MemoryOutOfBounds",subtypes:[],props:{}},MethodEmptyName:{name:"MethodEmptyName",subtypes:[],props:{}},MethodInvalidSignature:{name:"MethodInvalidSignature",subtypes:[],props:{}},MethodNameMismatch:{name:"MethodNameMismatch",subtypes:[],props:{method_name:""}},MethodNotFound:{name:"MethodNotFound",subtypes:[],props:{}},MethodResolveError:{name:"MethodResolveError",subtypes:["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],props:{}},MisalignedAtomicAccess:{name:"MisalignedAtomicAccess",subtypes:[],props:{}},NonceTooLarge:{name:"NonceTooLarge",subtypes:[],props:{tx_nonce:"",upper_bound:""}},NotEnoughAllowance:{name:"NotEnoughAllowance",subtypes:[],props:{account_id:"",allowance:"",cost:"",public_key:""}},NotEnoughBalance:{name:"NotEnoughBalance",subtypes:[],props:{balance:"",cost:"",signer_id:""}},NumberInputDataDependenciesExceeded:{name:"NumberInputDataDependenciesExceeded",subtypes:[],props:{limit:"",number_of_input_data_dependencies:""}},NumberOfLogsExceeded:{name:"NumberOfLogsExceeded",subtypes:[],props:{limit:""}},NumberPromisesExceeded:{name:"NumberPromisesExceeded",subtypes:[],props:{limit:"",number_of_promises:""}},OnlyImplicitAccountCreationAllowed:{name:"OnlyImplicitAccountCreationAllowed",subtypes:[],props:{account_id:""}},PrepareError:{name:"PrepareError",subtypes:["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],props:{}},ProhibitedInView:{name:"ProhibitedInView",subtypes:[],props:{method_name:""}},ReceiptSizeExceeded:{name:"ReceiptSizeExceeded",subtypes:[],props:{limit:"",size:""}},ReceiptValidationError:{name:"ReceiptValidationError",subtypes:["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation","ReceiptSizeExceeded"],props:{}},ReceiverMismatch:{name:"ReceiverMismatch",subtypes:[],props:{ak_receiver:"",tx_receiver:""}},RequiresFullAccess:{name:"RequiresFullAccess",subtypes:[],props:{}},ReturnedValueLengthExceeded:{name:"ReturnedValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},Serialization:{name:"Serialization",subtypes:[],props:{}},ShardCongested:{name:"ShardCongested",subtypes:[],props:{congestion_level:"",shard_id:""}},ShardStuck:{name:"ShardStuck",subtypes:[],props:{missed_chunks:"",shard_id:""}},SignerDoesNotExist:{name:"SignerDoesNotExist",subtypes:[],props:{signer_id:""}},StackHeightInstrumentation:{name:"StackHeightInstrumentation",subtypes:[],props:{}},StackOverflow:{name:"StackOverflow",subtypes:[],props:{}},TooManyFunctions:{name:"TooManyFunctions",subtypes:[],props:{}},TooManyLocals:{name:"TooManyLocals",subtypes:[],props:{}},TotalLogLengthExceeded:{name:"TotalLogLengthExceeded",subtypes:[],props:{length:"",limit:""}},TotalNumberOfActionsExceeded:{name:"TotalNumberOfActionsExceeded",subtypes:[],props:{limit:"",total_number_of_actions:""}},TotalPrepaidGasExceeded:{name:"TotalPrepaidGasExceeded",subtypes:[],props:{limit:"",total_prepaid_gas:""}},TransactionSizeExceeded:{name:"TransactionSizeExceeded",subtypes:[],props:{limit:"",size:""}},TriesToStake:{name:"TriesToStake",subtypes:[],props:{account_id:"",balance:"",locked:"",stake:""}},TriesToUnstake:{name:"TriesToUnstake",subtypes:[],props:{account_id:""}},TxExecutionError:{name:"TxExecutionError",subtypes:["ActionError","InvalidTxError"],props:{}},Unreachable:{name:"Unreachable",subtypes:[],props:{}},UnsuitableStakingKey:{name:"UnsuitableStakingKey",subtypes:[],props:{public_key:""}},UnsupportedProtocolFeature:{name:"UnsupportedProtocolFeature",subtypes:[],props:{protocol_feature:"",version:""}},ValueLengthExceeded:{name:"ValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},WasmTrap:{name:"WasmTrap",subtypes:["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],props:{}},WasmerCompileError:{name:"WasmerCompileError",subtypes:[],props:{msg:""}},Closed:{name:"Closed",subtypes:[],props:{}},ServerError:{name:"ServerError",subtypes:["TxExecutionError","Timeout","Closed"],props:{}},Timeout:{name:"Timeout",subtypes:[],props:{}}}},f={formatNear:()=>(W,Y)=>k(Y(W))},x=class extends u.TypedError{},S=class extends x{transaction_outcome};function B(W){const Y={},se=g(W,h.schema,Y,""),fe=new x(j(se,Y),se);return Object.assign(fe,Y),fe}function R(W){const Y=B(W.status.Failure),se=new S;return Object.assign(se,Y),se.type=Y.type,se.message=Y.message,se.transaction_outcome=W.transaction_outcome,se}function j(W,Y){return typeof n[W]=="string"?c.default.render(n[W],{...Y,...f}):JSON.stringify(Y)}function g(W,Y,se,fe){let ie,de,be;for(const he in Y){if(K(W[he]))return W[he];if(L(W[he]))ie=W[he],de=Y[he],be=he;else if(L(W.kind)&&L(W.kind[he]))ie=W.kind[he],de=Y[he],be=he;else continue}if(ie&&de){for(const he of Object.keys(de.props))se[he]=ie[he];return g(ie,Y,se,be)}else return se.kind=W,fe}function A(W,Y){switch(!0){case/^account .*? does not exist while viewing$/.test(W):return"AccountDoesNotExist";case/^Account .*? doesn't exist$/.test(W):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(W):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(W):return"CodeDoesNotExist";case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(W):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(W):return"MethodNotFound";case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(W):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(W):return"InvalidNonce";default:return Y}}function L(W){return Object.prototype.toString.call(W)==="[object Object]"}function K(W){return Object.prototype.toString.call(W)==="[object String]"}var T=class{constructor(W){this.logLevels=W}isLevelEnabled=W=>this.logLevels.includes(W);print(W,Y,...se){switch(W){case"error":case"fatal":return console.error(Y,...se);case"warn":return console.warn(Y,...se);case"log":return console.log(Y,...se);case"debug":case"verbose":return console.debug(Y,...se)}}verbose(W,...Y){this.isLevelEnabled("verbose")&&this.print("verbose",W,...Y)}debug(W,...Y){this.isLevelEnabled("debug")&&this.print("debug",W,...Y)}log(W,...Y){this.isLevelEnabled("log")&&this.print("log",W,...Y)}warn(W,...Y){this.isLevelEnabled("warn")&&this.print("warn",W,...Y)}error(W,...Y){this.isLevelEnabled("error")&&this.print("error",W,...Y)}fatal(W,...Y){this.isLevelEnabled("fatal")&&this.print("fatal",W,...Y)}},V=["verbose","debug","log","warn","error","fatal"],J=new T(V),X=class{static instanceRef=J;static overrideLogger=W=>{this.instanceRef=W};static error(W,...Y){this.instanceRef?.error(W,...Y)}static log(W,...Y){this.instanceRef?.log(W,...Y)}static warn(W,...Y){this.instanceRef?.warn(W,...Y)}static debug(W,...Y){this.instanceRef?.debug?.(W,...Y)}static verbose(W,...Y){this.instanceRef?.verbose?.(W,...Y)}static fatal(W,...Y){this.instanceRef?.fatal?.(W,...Y)}};function $({contractId:W,outcome:Y}){const se=[Y.transaction_outcome,...Y.receipts_outcome].reduce((fe,ie)=>{const de=typeof ie.outcome.status=="object"&&typeof ie.outcome.status.Failure=="object";return ie.outcome.logs.length||de?fe.concat({receiptIds:ie.outcome.receipt_ids,logs:ie.outcome.logs,failure:typeof ie.outcome.status=="object"&&ie.outcome.status.Failure!==void 0?B(ie.outcome.status.Failure):null}):fe},[]);for(const fe of se)X.log(`Receipt${fe.receiptIds.length>1?"s":""}: ${fe.receiptIds.join(", ")}`),H({contractId:W,logs:fe.logs,prefix:"	"}),fe.failure&&X.warn(`	Failure [${W}]: ${fe.failure}`)}function H({contractId:W,logs:Y,prefix:se=""}){for(const fe of Y)X.log(`${se}Log [${W}]: ${fe}`)}function Q(W){if(typeof W.status=="object"&&typeof W.status.SuccessValue=="string"){const Y=Buffer.from(W.status.SuccessValue,"base64").toString();try{return JSON.parse(Y)}catch{return Y}}return null}var ee=r(ut());function ce(W,Y){return W<Y?-1:W>Y?1:0}function te(W,Y,se,fe){return fe&&fe<49?ae(W,Y):(se||((0,ee.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),se=[1,6250]),ue(W,Y,se))}function ae(W,Y){const se=W.map(he=>BigInt(he.stake)).sort(ce),fe=BigInt(Y),ie=se.reduce((he,ye)=>he+ye);if(ie<fe)throw new Error("Stakes are below seats");let de=1n,be=ie+1n;for(;de!==be-1n;){const he=(de+be)/2n;let ye=!1,Ae=0n;for(let N=0;N<se.length;++N)if(Ae=Ae+se[N]/he,Ae>=fe){de=he,ye=!0;break}ye||(be=he)}return de}function ue(W,Y,se){if(se.length!=2)throw Error("minimumStakeRatio should have 2 elements");const fe=W.map(de=>BigInt(de.stake)).sort(ce),ie=fe.reduce((de,be)=>de+be);return W.length<Y?ie*BigInt(se[0])/BigInt(se[1]):fe[0]+1n}function oe(W,Y){const se=new Map;W.forEach(ie=>se.set(ie.account_id,ie));const fe=new Set(Y.map(ie=>ie.account_id));return{newValidators:Y.filter(ie=>!se.has(ie.account_id)),removedValidators:W.filter(ie=>!fe.has(ie.account_id)),changedValidators:Y.filter(ie=>se.has(ie.account_id)&&se.get(ie.account_id).stake!=ie.stake).map(ie=>({current:se.get(ie.account_id),next:ie}))}}return Xr}var Yr={},Ue={},dt={},lt={},Ka;function nu(){if(Ka)return lt;Ka=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.anumber=l,lt.abytes=E,lt.ahash=_,lt.aexists=y,lt.aoutput=d;function l(b){if(!Number.isSafeInteger(b)||b<0)throw new Error("positive integer expected, got "+b)}function v(b){return b instanceof Uint8Array||ArrayBuffer.isView(b)&&b.constructor.name==="Uint8Array"}function E(b,...o){if(!v(b))throw new Error("Uint8Array expected");if(o.length>0&&!o.includes(b.length))throw new Error("Uint8Array expected of length "+o+", got length="+b.length)}function _(b){if(typeof b!="function"||typeof b.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");l(b.outputLen),l(b.blockLen)}function y(b,o=!0){if(b.destroyed)throw new Error("Hash instance has been destroyed");if(o&&b.finished)throw new Error("Hash#digest() has already been called")}function d(b,o){E(b);const r=o.outputLen;if(b.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}return lt}var Qr={},Nt={},Ua;function xf(){return Ua||(Ua=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.crypto=void 0,Nt.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Nt}var za;function $t(){return za||(za=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.Hash=l.nextTick=l.byteSwapIfBE=l.isLE=void 0,l.isBytes=_,l.u8=y,l.u32=d,l.createView=b,l.rotr=o,l.rotl=r,l.byteSwap=t,l.byteSwap32=e,l.bytesToHex=i,l.hexToBytes=c,l.asyncLoop=m,l.utf8ToBytes=O,l.toBytes=I,l.concatBytes=C,l.checkOpts=D,l.wrapConstructor=G,l.wrapConstructorWithOpts=z,l.wrapXOFConstructorWithOpts=F,l.randomBytes=U;const v=xf(),E=nu();function _(w){return w instanceof Uint8Array||ArrayBuffer.isView(w)&&w.constructor.name==="Uint8Array"}function y(w){return new Uint8Array(w.buffer,w.byteOffset,w.byteLength)}function d(w){return new Uint32Array(w.buffer,w.byteOffset,Math.floor(w.byteLength/4))}function b(w){return new DataView(w.buffer,w.byteOffset,w.byteLength)}function o(w,s){return w<<32-s|w>>>s}function r(w,s){return w<<s|w>>>32-s>>>0}l.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function t(w){return w<<24&4278190080|w<<8&16711680|w>>>8&65280|w>>>24&255}l.byteSwapIfBE=l.isLE?w=>w:w=>t(w);function e(w){for(let s=0;s<w.length;s++)w[s]=t(w[s])}const a=Array.from({length:256},(w,s)=>s.toString(16).padStart(2,"0"));function i(w){(0,E.abytes)(w);let s="";for(let h=0;h<w.length;h++)s+=a[w[h]];return s}const n={_0:48,_9:57,A:65,F:70,a:97,f:102};function u(w){if(w>=n._0&&w<=n._9)return w-n._0;if(w>=n.A&&w<=n.F)return w-(n.A-10);if(w>=n.a&&w<=n.f)return w-(n.a-10)}function c(w){if(typeof w!="string")throw new Error("hex string expected, got "+typeof w);const s=w.length,h=s/2;if(s%2)throw new Error("hex string expected, got unpadded hex of length "+s);const f=new Uint8Array(h);for(let x=0,S=0;x<h;x++,S+=2){const B=u(w.charCodeAt(S)),R=u(w.charCodeAt(S+1));if(B===void 0||R===void 0){const j=w[S]+w[S+1];throw new Error('hex string expected, got non-hex character "'+j+'" at index '+S)}f[x]=B*16+R}return f}const p=async()=>{};l.nextTick=p;async function m(w,s,h){let f=Date.now();for(let x=0;x<w;x++){h(x);const S=Date.now()-f;S>=0&&S<s||(await(0,l.nextTick)(),f+=S)}}function O(w){if(typeof w!="string")throw new Error("utf8ToBytes expected string, got "+typeof w);return new Uint8Array(new TextEncoder().encode(w))}function I(w){return typeof w=="string"&&(w=O(w)),(0,E.abytes)(w),w}function C(...w){let s=0;for(let f=0;f<w.length;f++){const x=w[f];(0,E.abytes)(x),s+=x.length}const h=new Uint8Array(s);for(let f=0,x=0;f<w.length;f++){const S=w[f];h.set(S,x),x+=S.length}return h}class k{clone(){return this._cloneInto()}}l.Hash=k;function D(w,s){if(s!==void 0&&{}.toString.call(s)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(w,s)}function G(w){const s=f=>w().update(I(f)).digest(),h=w();return s.outputLen=h.outputLen,s.blockLen=h.blockLen,s.create=()=>w(),s}function z(w){const s=(f,x)=>w(x).update(I(f)).digest(),h=w({});return s.outputLen=h.outputLen,s.blockLen=h.blockLen,s.create=f=>w(f),s}function F(w){const s=(f,x)=>w(x).update(I(f)).digest(),h=w({});return s.outputLen=h.outputLen,s.blockLen=h.blockLen,s.create=f=>w(f),s}function U(w=32){if(v.crypto&&typeof v.crypto.getRandomValues=="function")return v.crypto.getRandomValues(new Uint8Array(w));if(v.crypto&&typeof v.crypto.randomBytes=="function")return v.crypto.randomBytes(w);throw new Error("crypto.getRandomValues must be defined")}})(Qr)),Qr}var Ha;function Sf(){if(Ha)return dt;Ha=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.HashMD=void 0,dt.setBigUint64=E,dt.Chi=_,dt.Maj=y;const l=nu(),v=$t();function E(b,o,r,t){if(typeof b.setBigUint64=="function")return b.setBigUint64(o,r,t);const e=BigInt(32),a=BigInt(4294967295),i=Number(r>>e&a),n=Number(r&a),u=t?4:0,c=t?0:4;b.setUint32(o+u,i,t),b.setUint32(o+c,n,t)}function _(b,o,r){return b&o^~b&r}function y(b,o,r){return b&o^b&r^o&r}class d extends v.Hash{constructor(o,r,t,e){super(),this.blockLen=o,this.outputLen=r,this.padOffset=t,this.isLE=e,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(o),this.view=(0,v.createView)(this.buffer)}update(o){(0,l.aexists)(this);const{view:r,buffer:t,blockLen:e}=this;o=(0,v.toBytes)(o);const a=o.length;for(let i=0;i<a;){const n=Math.min(e-this.pos,a-i);if(n===e){const u=(0,v.createView)(o);for(;e<=a-i;i+=e)this.process(u,i);continue}t.set(o.subarray(i,i+n),this.pos),this.pos+=n,i+=n,this.pos===e&&(this.process(r,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){(0,l.aexists)(this),(0,l.aoutput)(o,this),this.finished=!0;const{buffer:r,view:t,blockLen:e,isLE:a}=this;let{pos:i}=this;r[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>e-i&&(this.process(t,0),i=0);for(let m=i;m<e;m++)r[m]=0;E(t,e-8,BigInt(this.length*8),a),this.process(t,0);const n=(0,v.createView)(o),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,p=this.get();if(c>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<c;m++)n.setUint32(4*m,p[m],a)}digest(){const{buffer:o,outputLen:r}=this;this.digestInto(o);const t=o.slice(0,r);return this.destroy(),t}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:r,buffer:t,length:e,finished:a,destroyed:i,pos:n}=this;return o.length=e,o.pos=n,o.finished=a,o.destroyed=i,e%r&&o.buffer.set(t),o}}return dt.HashMD=d,dt}var ge={},Va;function Ef(){if(Va)return ge;Va=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.add5L=ge.add5H=ge.add4H=ge.add4L=ge.add3H=ge.add3L=ge.rotlBL=ge.rotlBH=ge.rotlSL=ge.rotlSH=ge.rotr32L=ge.rotr32H=ge.rotrBL=ge.rotrBH=ge.rotrSL=ge.rotrSH=ge.shrSL=ge.shrSH=ge.toBig=void 0,ge.fromBig=E,ge.split=_,ge.add=m;const l=BigInt(2**32-1),v=BigInt(32);function E(F,U=!1){return U?{h:Number(F&l),l:Number(F>>v&l)}:{h:Number(F>>v&l)|0,l:Number(F&l)|0}}function _(F,U=!1){let w=new Uint32Array(F.length),s=new Uint32Array(F.length);for(let h=0;h<F.length;h++){const{h:f,l:x}=E(F[h],U);[w[h],s[h]]=[f,x]}return[w,s]}const y=(F,U)=>BigInt(F>>>0)<<v|BigInt(U>>>0);ge.toBig=y;const d=(F,U,w)=>F>>>w;ge.shrSH=d;const b=(F,U,w)=>F<<32-w|U>>>w;ge.shrSL=b;const o=(F,U,w)=>F>>>w|U<<32-w;ge.rotrSH=o;const r=(F,U,w)=>F<<32-w|U>>>w;ge.rotrSL=r;const t=(F,U,w)=>F<<64-w|U>>>w-32;ge.rotrBH=t;const e=(F,U,w)=>F>>>w-32|U<<64-w;ge.rotrBL=e;const a=(F,U)=>U;ge.rotr32H=a;const i=(F,U)=>F;ge.rotr32L=i;const n=(F,U,w)=>F<<w|U>>>32-w;ge.rotlSH=n;const u=(F,U,w)=>U<<w|F>>>32-w;ge.rotlSL=u;const c=(F,U,w)=>U<<w-32|F>>>64-w;ge.rotlBH=c;const p=(F,U,w)=>F<<w-32|U>>>64-w;ge.rotlBL=p;function m(F,U,w,s){const h=(U>>>0)+(s>>>0);return{h:F+w+(h/2**32|0)|0,l:h|0}}const O=(F,U,w)=>(F>>>0)+(U>>>0)+(w>>>0);ge.add3L=O;const I=(F,U,w,s)=>U+w+s+(F/2**32|0)|0;ge.add3H=I;const C=(F,U,w,s)=>(F>>>0)+(U>>>0)+(w>>>0)+(s>>>0);ge.add4L=C;const k=(F,U,w,s,h)=>U+w+s+h+(F/2**32|0)|0;ge.add4H=k;const D=(F,U,w,s,h)=>(F>>>0)+(U>>>0)+(w>>>0)+(s>>>0)+(h>>>0);ge.add5L=D;const G=(F,U,w,s,h,f)=>U+w+s+h+f+(F/2**32|0)|0;ge.add5H=G;const z={fromBig:E,split:_,toBig:y,shrSH:d,shrSL:b,rotrSH:o,rotrSL:r,rotrBH:t,rotrBL:e,rotr32H:a,rotr32L:i,rotlSH:n,rotlSL:u,rotlBH:c,rotlBL:p,add:m,add3L:O,add3H:I,add4L:C,add4H:k,add5H:G,add5L:D};return ge.default=z,ge}var Ja;function Af(){if(Ja)return Ue;Ja=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.sha384=Ue.sha512_256=Ue.sha512_224=Ue.sha512=Ue.SHA384=Ue.SHA512_256=Ue.SHA512_224=Ue.SHA512=void 0;const l=Sf(),v=Ef(),E=$t(),[_,y]=v.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),d=new Uint32Array(80),b=new Uint32Array(80);class o extends l.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:i,Al:n,Bh:u,Bl:c,Ch:p,Cl:m,Dh:O,Dl:I,Eh:C,El:k,Fh:D,Fl:G,Gh:z,Gl:F,Hh:U,Hl:w}=this;return[i,n,u,c,p,m,O,I,C,k,D,G,z,F,U,w]}set(i,n,u,c,p,m,O,I,C,k,D,G,z,F,U,w){this.Ah=i|0,this.Al=n|0,this.Bh=u|0,this.Bl=c|0,this.Ch=p|0,this.Cl=m|0,this.Dh=O|0,this.Dl=I|0,this.Eh=C|0,this.El=k|0,this.Fh=D|0,this.Fl=G|0,this.Gh=z|0,this.Gl=F|0,this.Hh=U|0,this.Hl=w|0}process(i,n){for(let f=0;f<16;f++,n+=4)d[f]=i.getUint32(n),b[f]=i.getUint32(n+=4);for(let f=16;f<80;f++){const x=d[f-15]|0,S=b[f-15]|0,B=v.default.rotrSH(x,S,1)^v.default.rotrSH(x,S,8)^v.default.shrSH(x,S,7),R=v.default.rotrSL(x,S,1)^v.default.rotrSL(x,S,8)^v.default.shrSL(x,S,7),j=d[f-2]|0,g=b[f-2]|0,A=v.default.rotrSH(j,g,19)^v.default.rotrBH(j,g,61)^v.default.shrSH(j,g,6),L=v.default.rotrSL(j,g,19)^v.default.rotrBL(j,g,61)^v.default.shrSL(j,g,6),K=v.default.add4L(R,L,b[f-7],b[f-16]),T=v.default.add4H(K,B,A,d[f-7],d[f-16]);d[f]=T|0,b[f]=K|0}let{Ah:u,Al:c,Bh:p,Bl:m,Ch:O,Cl:I,Dh:C,Dl:k,Eh:D,El:G,Fh:z,Fl:F,Gh:U,Gl:w,Hh:s,Hl:h}=this;for(let f=0;f<80;f++){const x=v.default.rotrSH(D,G,14)^v.default.rotrSH(D,G,18)^v.default.rotrBH(D,G,41),S=v.default.rotrSL(D,G,14)^v.default.rotrSL(D,G,18)^v.default.rotrBL(D,G,41),B=D&z^~D&U,R=G&F^~G&w,j=v.default.add5L(h,S,R,y[f],b[f]),g=v.default.add5H(j,s,x,B,_[f],d[f]),A=j|0,L=v.default.rotrSH(u,c,28)^v.default.rotrBH(u,c,34)^v.default.rotrBH(u,c,39),K=v.default.rotrSL(u,c,28)^v.default.rotrBL(u,c,34)^v.default.rotrBL(u,c,39),T=u&p^u&O^p&O,V=c&m^c&I^m&I;s=U|0,h=w|0,U=z|0,w=F|0,z=D|0,F=G|0,{h:D,l:G}=v.default.add(C|0,k|0,g|0,A|0),C=O|0,k=I|0,O=p|0,I=m|0,p=u|0,m=c|0;const J=v.default.add3L(A,K,V);u=v.default.add3H(J,g,L,T),c=J|0}({h:u,l:c}=v.default.add(this.Ah|0,this.Al|0,u|0,c|0)),{h:p,l:m}=v.default.add(this.Bh|0,this.Bl|0,p|0,m|0),{h:O,l:I}=v.default.add(this.Ch|0,this.Cl|0,O|0,I|0),{h:C,l:k}=v.default.add(this.Dh|0,this.Dl|0,C|0,k|0),{h:D,l:G}=v.default.add(this.Eh|0,this.El|0,D|0,G|0),{h:z,l:F}=v.default.add(this.Fh|0,this.Fl|0,z|0,F|0),{h:U,l:w}=v.default.add(this.Gh|0,this.Gl|0,U|0,w|0),{h:s,l:h}=v.default.add(this.Hh|0,this.Hl|0,s|0,h|0),this.set(u,c,p,m,O,I,C,k,D,G,z,F,U,w,s,h)}roundClean(){d.fill(0),b.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Ue.SHA512=o;class r extends o{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}Ue.SHA512_224=r;class t extends o{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}Ue.SHA512_256=t;class e extends o{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}return Ue.SHA384=e,Ue.sha512=(0,E.wrapConstructor)(()=>new o),Ue.sha512_224=(0,E.wrapConstructor)(()=>new r),Ue.sha512_256=(0,E.wrapConstructor)(()=>new t),Ue.sha384=(0,E.wrapConstructor)(()=>new e),Ue}var wt={},Ee={},me={},Ga;function At(){if(Ga)return me;Ga=1;Object.defineProperty(me,"__esModule",{value:!0}),me.notImplemented=me.bitMask=void 0,me.isBytes=_,me.abytes=y,me.abool=d,me.bytesToHex=o,me.numberToHexUnpadded=r,me.hexToNumber=t,me.hexToBytes=i,me.bytesToNumberBE=n,me.bytesToNumberLE=u,me.numberToBytesBE=c,me.numberToBytesLE=p,me.numberToVarBytesBE=m,me.ensureBytes=O,me.concatBytes=I,me.equalBytes=C,me.utf8ToBytes=k,me.inRange=G,me.aInRange=z,me.bitLen=F,me.bitGet=U,me.bitSet=w,me.createHmacDrbg=x,me.validateObject=B,me.memoized=j;const l=BigInt(0),v=BigInt(1),E=BigInt(2);function _(g){return g instanceof Uint8Array||ArrayBuffer.isView(g)&&g.constructor.name==="Uint8Array"}function y(g){if(!_(g))throw new Error("Uint8Array expected")}function d(g,A){if(typeof A!="boolean")throw new Error(g+" boolean expected, got "+A)}const b=Array.from({length:256},(g,A)=>A.toString(16).padStart(2,"0"));function o(g){y(g);let A="";for(let L=0;L<g.length;L++)A+=b[g[L]];return A}function r(g){const A=g.toString(16);return A.length&1?"0"+A:A}function t(g){if(typeof g!="string")throw new Error("hex string expected, got "+typeof g);return g===""?l:BigInt("0x"+g)}const e={_0:48,_9:57,A:65,F:70,a:97,f:102};function a(g){if(g>=e._0&&g<=e._9)return g-e._0;if(g>=e.A&&g<=e.F)return g-(e.A-10);if(g>=e.a&&g<=e.f)return g-(e.a-10)}function i(g){if(typeof g!="string")throw new Error("hex string expected, got "+typeof g);const A=g.length,L=A/2;if(A%2)throw new Error("hex string expected, got unpadded hex of length "+A);const K=new Uint8Array(L);for(let T=0,V=0;T<L;T++,V+=2){const J=a(g.charCodeAt(V)),X=a(g.charCodeAt(V+1));if(J===void 0||X===void 0){const $=g[V]+g[V+1];throw new Error('hex string expected, got non-hex character "'+$+'" at index '+V)}K[T]=J*16+X}return K}function n(g){return t(o(g))}function u(g){return y(g),t(o(Uint8Array.from(g).reverse()))}function c(g,A){return i(g.toString(16).padStart(A*2,"0"))}function p(g,A){return c(g,A).reverse()}function m(g){return i(r(g))}function O(g,A,L){let K;if(typeof A=="string")try{K=i(A)}catch(V){throw new Error(g+" must be hex string or Uint8Array, cause: "+V)}else if(_(A))K=Uint8Array.from(A);else throw new Error(g+" must be hex string or Uint8Array");const T=K.length;if(typeof L=="number"&&T!==L)throw new Error(g+" of length "+L+" expected, got "+T);return K}function I(...g){let A=0;for(let K=0;K<g.length;K++){const T=g[K];y(T),A+=T.length}const L=new Uint8Array(A);for(let K=0,T=0;K<g.length;K++){const V=g[K];L.set(V,T),T+=V.length}return L}function C(g,A){if(g.length!==A.length)return!1;let L=0;for(let K=0;K<g.length;K++)L|=g[K]^A[K];return L===0}function k(g){if(typeof g!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(g))}const D=g=>typeof g=="bigint"&&l<=g;function G(g,A,L){return D(g)&&D(A)&&D(L)&&A<=g&&g<L}function z(g,A,L,K){if(!G(A,L,K))throw new Error("expected valid "+g+": "+L+" <= n < "+K+", got "+A)}function F(g){let A;for(A=0;g>l;g>>=v,A+=1);return A}function U(g,A){return g>>BigInt(A)&v}function w(g,A,L){return g|(L?v:l)<<BigInt(A)}const s=g=>(E<<BigInt(g-1))-v;me.bitMask=s;const h=g=>new Uint8Array(g),f=g=>Uint8Array.from(g);function x(g,A,L){if(typeof g!="number"||g<2)throw new Error("hashLen must be a number");if(typeof A!="number"||A<2)throw new Error("qByteLen must be a number");if(typeof L!="function")throw new Error("hmacFn must be a function");let K=h(g),T=h(g),V=0;const J=()=>{K.fill(1),T.fill(0),V=0},X=(...ee)=>L(T,K,...ee),$=(ee=h())=>{T=X(f([0]),ee),K=X(),ee.length!==0&&(T=X(f([1]),ee),K=X())},H=()=>{if(V++>=1e3)throw new Error("drbg: tried 1000 values");let ee=0;const ce=[];for(;ee<A;){K=X();const te=K.slice();ce.push(te),ee+=K.length}return I(...ce)};return(ee,ce)=>{J(),$(ee);let te;for(;!(te=ce(H()));)$();return J(),te}}const S={bigint:g=>typeof g=="bigint",function:g=>typeof g=="function",boolean:g=>typeof g=="boolean",string:g=>typeof g=="string",stringOrUint8Array:g=>typeof g=="string"||_(g),isSafeInteger:g=>Number.isSafeInteger(g),array:g=>Array.isArray(g),field:(g,A)=>A.Fp.isValid(g),hash:g=>typeof g=="function"&&Number.isSafeInteger(g.outputLen)};function B(g,A,L={}){const K=(T,V,J)=>{const X=S[V];if(typeof X!="function")throw new Error("invalid validator function");const $=g[T];if(!(J&&$===void 0)&&!X($,g))throw new Error("param "+String(T)+" is invalid. Expected "+V+", got "+$)};for(const[T,V]of Object.entries(A))K(T,V,!1);for(const[T,V]of Object.entries(L))K(T,V,!0);return g}const R=()=>{throw new Error("not implemented")};me.notImplemented=R;function j(g){const A=new WeakMap;return(L,...K)=>{const T=A.get(L);if(T!==void 0)return T;const V=g(L,...K);return A.set(L,V),V}}return me}var $a;function Wt(){if($a)return Ee;$a=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.isNegativeLE=void 0,Ee.mod=r,Ee.pow=t,Ee.pow2=e,Ee.invert=a,Ee.tonelliShanks=i,Ee.FpSqrt=n,Ee.validateField=p,Ee.FpPow=m,Ee.FpInvertBatch=O,Ee.FpDiv=I,Ee.FpLegendre=C,Ee.FpIsSquare=k,Ee.nLength=D,Ee.Field=G,Ee.FpSqrtOdd=z,Ee.FpSqrtEven=F,Ee.hashToPrivateScalar=U,Ee.getFieldBytesLength=w,Ee.getMinHashLength=s,Ee.mapHashToField=h;const l=At(),v=BigInt(0),E=BigInt(1),_=BigInt(2),y=BigInt(3),d=BigInt(4),b=BigInt(5),o=BigInt(8);function r(f,x){const S=f%x;return S>=v?S:x+S}function t(f,x,S){if(x<v)throw new Error("invalid exponent, negatives unsupported");if(S<=v)throw new Error("invalid modulus");if(S===E)return v;let B=E;for(;x>v;)x&E&&(B=B*f%S),f=f*f%S,x>>=E;return B}function e(f,x,S){let B=f;for(;x-- >v;)B*=B,B%=S;return B}function a(f,x){if(f===v)throw new Error("invert: expected non-zero number");if(x<=v)throw new Error("invert: expected positive modulus, got "+x);let S=r(f,x),B=x,R=v,j=E;for(;S!==v;){const A=B/S,L=B%S,K=R-j*A;B=S,S=L,R=j,j=K}if(B!==E)throw new Error("invert: does not exist");return r(R,x)}function i(f){const x=(f-E)/_;let S,B,R;for(S=f-E,B=0;S%_===v;S/=_,B++);for(R=_;R<f&&t(R,x,f)!==f-E;R++)if(R>1e3)throw new Error("Cannot find square root: likely non-prime P");if(B===1){const g=(f+E)/d;return function(L,K){const T=L.pow(K,g);if(!L.eql(L.sqr(T),K))throw new Error("Cannot find square root");return T}}const j=(S+E)/_;return function(A,L){if(A.pow(L,x)===A.neg(A.ONE))throw new Error("Cannot find square root");let K=B,T=A.pow(A.mul(A.ONE,R),S),V=A.pow(L,j),J=A.pow(L,S);for(;!A.eql(J,A.ONE);){if(A.eql(J,A.ZERO))return A.ZERO;let X=1;for(let H=A.sqr(J);X<K&&!A.eql(H,A.ONE);X++)H=A.sqr(H);const $=A.pow(T,E<<BigInt(K-X-1));T=A.sqr($),V=A.mul(V,$),J=A.mul(J,T),K=X}return V}}function n(f){if(f%d===y){const x=(f+E)/d;return function(B,R){const j=B.pow(R,x);if(!B.eql(B.sqr(j),R))throw new Error("Cannot find square root");return j}}if(f%o===b){const x=(f-b)/o;return function(B,R){const j=B.mul(R,_),g=B.pow(j,x),A=B.mul(R,g),L=B.mul(B.mul(A,_),g),K=B.mul(A,B.sub(L,B.ONE));if(!B.eql(B.sqr(K),R))throw new Error("Cannot find square root");return K}}return i(f)}const u=(f,x)=>(r(f,x)&E)===E;Ee.isNegativeLE=u;const c=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function p(f){const x={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},S=c.reduce((B,R)=>(B[R]="function",B),x);return(0,l.validateObject)(f,S)}function m(f,x,S){if(S<v)throw new Error("invalid exponent, negatives unsupported");if(S===v)return f.ONE;if(S===E)return x;let B=f.ONE,R=x;for(;S>v;)S&E&&(B=f.mul(B,R)),R=f.sqr(R),S>>=E;return B}function O(f,x){const S=new Array(x.length),B=x.reduce((j,g,A)=>f.is0(g)?j:(S[A]=j,f.mul(j,g)),f.ONE),R=f.inv(B);return x.reduceRight((j,g,A)=>f.is0(g)?j:(S[A]=f.mul(j,S[A]),f.mul(j,g)),R),S}function I(f,x,S){return f.mul(x,typeof S=="bigint"?a(S,f.ORDER):f.inv(S))}function C(f){const x=(f-E)/_;return(S,B)=>S.pow(B,x)}function k(f){const x=C(f.ORDER);return S=>{const B=x(f,S);return f.eql(B,f.ZERO)||f.eql(B,f.ONE)}}function D(f,x){const S=x!==void 0?x:f.toString(2).length,B=Math.ceil(S/8);return{nBitLength:S,nByteLength:B}}function G(f,x,S=!1,B={}){if(f<=v)throw new Error("invalid field: expected ORDER > 0, got "+f);const{nBitLength:R,nByteLength:j}=D(f,x);if(j>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let g;const A=Object.freeze({ORDER:f,isLE:S,BITS:R,BYTES:j,MASK:(0,l.bitMask)(R),ZERO:v,ONE:E,create:L=>r(L,f),isValid:L=>{if(typeof L!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof L);return v<=L&&L<f},is0:L=>L===v,isOdd:L=>(L&E)===E,neg:L=>r(-L,f),eql:(L,K)=>L===K,sqr:L=>r(L*L,f),add:(L,K)=>r(L+K,f),sub:(L,K)=>r(L-K,f),mul:(L,K)=>r(L*K,f),pow:(L,K)=>m(A,L,K),div:(L,K)=>r(L*a(K,f),f),sqrN:L=>L*L,addN:(L,K)=>L+K,subN:(L,K)=>L-K,mulN:(L,K)=>L*K,inv:L=>a(L,f),sqrt:B.sqrt||(L=>(g||(g=n(f)),g(A,L))),invertBatch:L=>O(A,L),cmov:(L,K,T)=>T?K:L,toBytes:L=>S?(0,l.numberToBytesLE)(L,j):(0,l.numberToBytesBE)(L,j),fromBytes:L=>{if(L.length!==j)throw new Error("Field.fromBytes: expected "+j+" bytes, got "+L.length);return S?(0,l.bytesToNumberLE)(L):(0,l.bytesToNumberBE)(L)}});return Object.freeze(A)}function z(f,x){if(!f.isOdd)throw new Error("Field doesn't have isOdd");const S=f.sqrt(x);return f.isOdd(S)?S:f.neg(S)}function F(f,x){if(!f.isOdd)throw new Error("Field doesn't have isOdd");const S=f.sqrt(x);return f.isOdd(S)?f.neg(S):S}function U(f,x,S=!1){f=(0,l.ensureBytes)("privateHash",f);const B=f.length,R=D(x).nByteLength+8;if(R<24||B<R||B>1024)throw new Error("hashToPrivateScalar: expected "+R+"-1024 bytes of input, got "+B);const j=S?(0,l.bytesToNumberLE)(f):(0,l.bytesToNumberBE)(f);return r(j,x-E)+E}function w(f){if(typeof f!="bigint")throw new Error("field order must be bigint");const x=f.toString(2).length;return Math.ceil(x/8)}function s(f){const x=w(f);return x+Math.ceil(x/2)}function h(f,x,S=!1){const B=f.length,R=w(x),j=s(x);if(B<16||B<j||B>1024)throw new Error("expected "+j+"-1024 bytes of input, got "+B);const g=S?(0,l.bytesToNumberLE)(f):(0,l.bytesToNumberBE)(f),A=r(g,x-E)+E;return S?(0,l.numberToBytesLE)(A,R):(0,l.numberToBytesBE)(A,R)}return Ee}var Wa;function iu(){if(Wa)return wt;Wa=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.wNAF=i,wt.pippenger=n,wt.precomputeMSMUnsafe=u,wt.validateBasic=c;const l=Wt(),v=At(),E=BigInt(0),_=BigInt(1);function y(p,m){const O=m.negate();return p?O:m}function d(p,m){if(!Number.isSafeInteger(p)||p<=0||p>m)throw new Error("invalid window size, expected [1.."+m+"], got W="+p)}function b(p,m){d(p,m);const O=Math.ceil(m/p)+1,I=2**(p-1);return{windows:O,windowSize:I}}function o(p,m){if(!Array.isArray(p))throw new Error("array expected");p.forEach((O,I)=>{if(!(O instanceof m))throw new Error("invalid point at index "+I)})}function r(p,m){if(!Array.isArray(p))throw new Error("array of scalars expected");p.forEach((O,I)=>{if(!m.isValid(O))throw new Error("invalid scalar at index "+I)})}const t=new WeakMap,e=new WeakMap;function a(p){return e.get(p)||1}function i(p,m){return{constTimeNegate:y,hasPrecomputes(O){return a(O)!==1},unsafeLadder(O,I,C=p.ZERO){let k=O;for(;I>E;)I&_&&(C=C.add(k)),k=k.double(),I>>=_;return C},precomputeWindow(O,I){const{windows:C,windowSize:k}=b(I,m),D=[];let G=O,z=G;for(let F=0;F<C;F++){z=G,D.push(z);for(let U=1;U<k;U++)z=z.add(G),D.push(z);G=z.double()}return D},wNAF(O,I,C){const{windows:k,windowSize:D}=b(O,m);let G=p.ZERO,z=p.BASE;const F=BigInt(2**O-1),U=2**O,w=BigInt(O);for(let s=0;s<k;s++){const h=s*D;let f=Number(C&F);C>>=w,f>D&&(f-=U,C+=_);const x=h,S=h+Math.abs(f)-1,B=s%2!==0,R=f<0;f===0?z=z.add(y(B,I[x])):G=G.add(y(R,I[S]))}return{p:G,f:z}},wNAFUnsafe(O,I,C,k=p.ZERO){const{windows:D,windowSize:G}=b(O,m),z=BigInt(2**O-1),F=2**O,U=BigInt(O);for(let w=0;w<D;w++){const s=w*G;if(C===E)break;let h=Number(C&z);if(C>>=U,h>G&&(h-=F,C+=_),h===0)continue;let f=I[s+Math.abs(h)-1];h<0&&(f=f.negate()),k=k.add(f)}return k},getPrecomputes(O,I,C){let k=t.get(I);return k||(k=this.precomputeWindow(I,O),O!==1&&t.set(I,C(k))),k},wNAFCached(O,I,C){const k=a(O);return this.wNAF(k,this.getPrecomputes(k,O,C),I)},wNAFCachedUnsafe(O,I,C,k){const D=a(O);return D===1?this.unsafeLadder(O,I,k):this.wNAFUnsafe(D,this.getPrecomputes(D,O,C),I,k)},setWindowSize(O,I){d(I,m),e.set(O,I),t.delete(O)}}}function n(p,m,O,I){if(o(O,p),r(I,m),O.length!==I.length)throw new Error("arrays of points and scalars must have equal length");const C=p.ZERO,k=(0,v.bitLen)(BigInt(O.length)),D=k>12?k-3:k>4?k-2:k?2:1,G=(1<<D)-1,z=new Array(G+1).fill(C),F=Math.floor((m.BITS-1)/D)*D;let U=C;for(let w=F;w>=0;w-=D){z.fill(C);for(let h=0;h<I.length;h++){const f=I[h],x=Number(f>>BigInt(w)&BigInt(G));z[x]=z[x].add(O[h])}let s=C;for(let h=z.length-1,f=C;h>0;h--)f=f.add(z[h]),s=s.add(f);if(U=U.add(s),w!==0)for(let h=0;h<D;h++)U=U.double()}return U}function u(p,m,O,I){d(I,m.BITS),o(O,p);const C=p.ZERO,k=2**I-1,D=Math.ceil(m.BITS/I),G=BigInt((1<<I)-1),z=O.map(F=>{const U=[];for(let w=0,s=F;w<k;w++)U.push(s),s=s.add(F);return U});return F=>{if(r(F,m),F.length>O.length)throw new Error("array of scalars must be smaller than array of points");let U=C;for(let w=0;w<D;w++){if(U!==C)for(let h=0;h<I;h++)U=U.double();const s=BigInt(D*I-(w+1)*I);for(let h=0;h<F.length;h++){const f=F[h],x=Number(f>>s&G);x&&(U=U.add(z[h][x-1]))}}return U}}function c(p){return(0,l.validateField)(p.Fp),(0,v.validateObject)(p,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,l.nLength)(p.n,p.nBitLength),...p,p:p.Fp.ORDER})}return wt}var rr={},Za;function Of(){if(Za)return rr;Za=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.twistedEdwards=e;const l=iu(),v=Wt(),E=At(),_=At(),y=BigInt(0),d=BigInt(1),b=BigInt(2),o=BigInt(8),r={zip215:!0};function t(a){const i=(0,l.validateBasic)(a);return E.validateObject(a,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...i})}function e(a){const i=t(a),{Fp:n,n:u,prehash:c,hash:p,randomBytes:m,nByteLength:O,h:I}=i,C=b<<BigInt(O*8)-d,k=n.create,D=(0,v.Field)(i.n,i.nBitLength),G=i.uvRatio||((X,$)=>{try{return{isValid:!0,value:n.sqrt(X*n.inv($))}}catch{return{isValid:!1,value:y}}}),z=i.adjustScalarBytes||(X=>X),F=i.domain||((X,$,H)=>{if((0,_.abool)("phflag",H),$.length||H)throw new Error("Contexts/pre-hash are not supported");return X});function U(X,$){E.aInRange("coordinate "+X,$,y,C)}function w(X){if(!(X instanceof f))throw new Error("ExtendedPoint expected")}const s=(0,_.memoized)((X,$)=>{const{ex:H,ey:Q,ez:ee}=X,ce=X.is0();$==null&&($=ce?o:n.inv(ee));const te=k(H*$),ae=k(Q*$),ue=k(ee*$);if(ce)return{x:y,y:d};if(ue!==d)throw new Error("invZ was invalid");return{x:te,y:ae}}),h=(0,_.memoized)(X=>{const{a:$,d:H}=i;if(X.is0())throw new Error("bad point: ZERO");const{ex:Q,ey:ee,ez:ce,et:te}=X,ae=k(Q*Q),ue=k(ee*ee),oe=k(ce*ce),W=k(oe*oe),Y=k(ae*$),se=k(oe*k(Y+ue)),fe=k(W+k(H*k(ae*ue)));if(se!==fe)throw new Error("bad point: equation left != right (1)");const ie=k(Q*ee),de=k(ce*te);if(ie!==de)throw new Error("bad point: equation left != right (2)");return!0});class f{constructor($,H,Q,ee){this.ex=$,this.ey=H,this.ez=Q,this.et=ee,U("x",$),U("y",H),U("z",Q),U("t",ee),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine($){if($ instanceof f)throw new Error("extended point not allowed");const{x:H,y:Q}=$||{};return U("x",H),U("y",Q),new f(H,Q,d,k(H*Q))}static normalizeZ($){const H=n.invertBatch($.map(Q=>Q.ez));return $.map((Q,ee)=>Q.toAffine(H[ee])).map(f.fromAffine)}static msm($,H){return(0,l.pippenger)(f,D,$,H)}_setWindowSize($){B.setWindowSize(this,$)}assertValidity(){h(this)}equals($){w($);const{ex:H,ey:Q,ez:ee}=this,{ex:ce,ey:te,ez:ae}=$,ue=k(H*ae),oe=k(ce*ee),W=k(Q*ae),Y=k(te*ee);return ue===oe&&W===Y}is0(){return this.equals(f.ZERO)}negate(){return new f(k(-this.ex),this.ey,this.ez,k(-this.et))}double(){const{a:$}=i,{ex:H,ey:Q,ez:ee}=this,ce=k(H*H),te=k(Q*Q),ae=k(b*k(ee*ee)),ue=k($*ce),oe=H+Q,W=k(k(oe*oe)-ce-te),Y=ue+te,se=Y-ae,fe=ue-te,ie=k(W*se),de=k(Y*fe),be=k(W*fe),he=k(se*Y);return new f(ie,de,he,be)}add($){w($);const{a:H,d:Q}=i,{ex:ee,ey:ce,ez:te,et:ae}=this,{ex:ue,ey:oe,ez:W,et:Y}=$;if(H===BigInt(-1)){const Z=k((ce-ee)*(oe+ue)),re=k((ce+ee)*(oe-ue)),ne=k(re-Z);if(ne===y)return this.double();const pe=k(te*b*Y),xe=k(ae*b*W),ve=xe+pe,_e=re+Z,we=xe-pe,Oe=k(ve*ne),Pe=k(_e*we),Yt=k(ve*we),Ie=k(ne*_e);return new f(Oe,Pe,Ie,Yt)}const se=k(ee*ue),fe=k(ce*oe),ie=k(ae*Q*Y),de=k(te*W),be=k((ee+ce)*(ue+oe)-se-fe),he=de-ie,ye=de+ie,Ae=k(fe-H*se),N=k(be*he),P=k(ye*Ae),M=k(be*Ae),q=k(he*ye);return new f(N,P,q,M)}subtract($){return this.add($.negate())}wNAF($){return B.wNAFCached(this,$,f.normalizeZ)}multiply($){const H=$;E.aInRange("scalar",H,d,u);const{p:Q,f:ee}=this.wNAF(H);return f.normalizeZ([Q,ee])[0]}multiplyUnsafe($,H=f.ZERO){const Q=$;return E.aInRange("scalar",Q,y,u),Q===y?S:this.is0()||Q===d?this:B.wNAFCachedUnsafe(this,Q,f.normalizeZ,H)}isSmallOrder(){return this.multiplyUnsafe(I).is0()}isTorsionFree(){return B.unsafeLadder(this,u).is0()}toAffine($){return s(this,$)}clearCofactor(){const{h:$}=i;return $===d?this:this.multiplyUnsafe($)}static fromHex($,H=!1){const{d:Q,a:ee}=i,ce=n.BYTES;$=(0,_.ensureBytes)("pointHex",$,ce),(0,_.abool)("zip215",H);const te=$.slice(),ae=$[ce-1];te[ce-1]=ae&-129;const ue=E.bytesToNumberLE(te),oe=H?C:n.ORDER;E.aInRange("pointHex.y",ue,y,oe);const W=k(ue*ue),Y=k(W-d),se=k(Q*W-ee);let{isValid:fe,value:ie}=G(Y,se);if(!fe)throw new Error("Point.fromHex: invalid y coordinate");const de=(ie&d)===d,be=(ae&128)!==0;if(!H&&ie===y&&be)throw new Error("Point.fromHex: x=0 and x_0=1");return be!==de&&(ie=k(-ie)),f.fromAffine({x:ie,y:ue})}static fromPrivateKey($){return g($).point}toRawBytes(){const{x:$,y:H}=this.toAffine(),Q=E.numberToBytesLE(H,n.BYTES);return Q[Q.length-1]|=$&d?128:0,Q}toHex(){return E.bytesToHex(this.toRawBytes())}}f.BASE=new f(i.Gx,i.Gy,d,k(i.Gx*i.Gy)),f.ZERO=new f(y,d,d,y);const{BASE:x,ZERO:S}=f,B=(0,l.wNAF)(f,O*8);function R(X){return(0,v.mod)(X,u)}function j(X){return R(E.bytesToNumberLE(X))}function g(X){const $=n.BYTES;X=(0,_.ensureBytes)("private key",X,$);const H=(0,_.ensureBytes)("hashed private key",p(X),2*$),Q=z(H.slice(0,$)),ee=H.slice($,2*$),ce=j(Q),te=x.multiply(ce),ae=te.toRawBytes();return{head:Q,prefix:ee,scalar:ce,point:te,pointBytes:ae}}function A(X){return g(X).pointBytes}function L(X=new Uint8Array,...$){const H=E.concatBytes(...$);return j(p(F(H,(0,_.ensureBytes)("context",X),!!c)))}function K(X,$,H={}){X=(0,_.ensureBytes)("message",X),c&&(X=c(X));const{prefix:Q,scalar:ee,pointBytes:ce}=g($),te=L(H.context,Q,X),ae=x.multiply(te).toRawBytes(),ue=L(H.context,ae,ce,X),oe=R(te+ue*ee);E.aInRange("signature.s",oe,y,u);const W=E.concatBytes(ae,E.numberToBytesLE(oe,n.BYTES));return(0,_.ensureBytes)("result",W,n.BYTES*2)}const T=r;function V(X,$,H,Q=T){const{context:ee,zip215:ce}=Q,te=n.BYTES;X=(0,_.ensureBytes)("signature",X,2*te),$=(0,_.ensureBytes)("message",$),H=(0,_.ensureBytes)("publicKey",H,te),ce!==void 0&&(0,_.abool)("zip215",ce),c&&($=c($));const ae=E.bytesToNumberLE(X.slice(te,2*te));let ue,oe,W;try{ue=f.fromHex(H,ce),oe=f.fromHex(X.slice(0,te),ce),W=x.multiplyUnsafe(ae)}catch{return!1}if(!ce&&ue.isSmallOrder())return!1;const Y=L(ee,oe.toRawBytes(),ue.toRawBytes(),$);return oe.add(ue.multiplyUnsafe(Y)).subtract(W).clearCofactor().equals(f.ZERO)}return x._setWindowSize(8),{CURVE:i,getPublicKey:A,sign:K,verify:V,ExtendedPoint:f,utils:{getExtendedPublicKey:g,randomPrivateKey:()=>m(n.BYTES),precompute(X=8,$=f.BASE){return $._setWindowSize(X),$.multiply(BigInt(3)),$}}}}return rr}var ht={},Xa;function Pf(){if(Xa)return ht;Xa=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.expand_message_xmd=b,ht.expand_message_xof=o,ht.hash_to_field=r,ht.isogenyMap=t,ht.createHasher=e;const l=Wt(),v=At(),E=v.bytesToNumberBE;function _(a,i){if(d(a),d(i),a<0||a>=1<<8*i)throw new Error("invalid I2OSP input: "+a);const n=Array.from({length:i}).fill(0);for(let u=i-1;u>=0;u--)n[u]=a&255,a>>>=8;return new Uint8Array(n)}function y(a,i){const n=new Uint8Array(a.length);for(let u=0;u<a.length;u++)n[u]=a[u]^i[u];return n}function d(a){if(!Number.isSafeInteger(a))throw new Error("number expected")}function b(a,i,n,u){(0,v.abytes)(a),(0,v.abytes)(i),d(n),i.length>255&&(i=u((0,v.concatBytes)((0,v.utf8ToBytes)("H2C-OVERSIZE-DST-"),i)));const{outputLen:c,blockLen:p}=u,m=Math.ceil(n/c);if(n>65535||m>255)throw new Error("expand_message_xmd: invalid lenInBytes");const O=(0,v.concatBytes)(i,_(i.length,1)),I=_(0,p),C=_(n,2),k=new Array(m),D=u((0,v.concatBytes)(I,a,C,_(0,1),O));k[0]=u((0,v.concatBytes)(D,_(1,1),O));for(let z=1;z<=m;z++){const F=[y(D,k[z-1]),_(z+1,1),O];k[z]=u((0,v.concatBytes)(...F))}return(0,v.concatBytes)(...k).slice(0,n)}function o(a,i,n,u,c){if((0,v.abytes)(a),(0,v.abytes)(i),d(n),i.length>255){const p=Math.ceil(2*u/8);i=c.create({dkLen:p}).update((0,v.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(i).digest()}if(n>65535||i.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return c.create({dkLen:n}).update(a).update(_(n,2)).update(i).update(_(i.length,1)).digest()}function r(a,i,n){(0,v.validateObject)(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:u,k:c,m:p,hash:m,expand:O,DST:I}=n;(0,v.abytes)(a),d(i);const C=typeof I=="string"?(0,v.utf8ToBytes)(I):I,k=u.toString(2).length,D=Math.ceil((k+c)/8),G=i*p*D;let z;if(O==="xmd")z=b(a,C,G,m);else if(O==="xof")z=o(a,C,G,c,m);else if(O==="_internal_pass")z=a;else throw new Error('expand must be "xmd" or "xof"');const F=new Array(i);for(let U=0;U<i;U++){const w=new Array(p);for(let s=0;s<p;s++){const h=D*(s+U*p),f=z.subarray(h,h+D);w[s]=(0,l.mod)(E(f),u)}F[U]=w}return F}function t(a,i){const n=i.map(u=>Array.from(u).reverse());return(u,c)=>{const[p,m,O,I]=n.map(C=>C.reduce((k,D)=>a.add(a.mul(k,u),D)));return u=a.div(p,m),c=a.mul(c,a.div(O,I)),{x:u,y:c}}}function e(a,i,n){if(typeof i!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(u,c){const p=r(u,2,{...n,DST:n.DST,...c}),m=a.fromAffine(i(p[0])),O=a.fromAffine(i(p[1])),I=m.add(O).clearCofactor();return I.assertValidity(),I},encodeToCurve(u,c){const p=r(u,1,{...n,DST:n.encodeDST,...c}),m=a.fromAffine(i(p[0])).clearCofactor();return m.assertValidity(),m},mapToCurve(u){if(!Array.isArray(u))throw new Error("mapToCurve: expected array of bigints");for(const p of u)if(typeof p!="bigint")throw new Error("mapToCurve: expected array of bigints");const c=a.fromAffine(i(u)).clearCofactor();return c.assertValidity(),c}}}return ht}var nr={},Ya;function If(){if(Ya)return nr;Ya=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.montgomery=d;const l=Wt(),v=At(),E=BigInt(0),_=BigInt(1);function y(b){return(0,v.validateObject)(b,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...b})}function d(b){const o=y(b),{P:r}=o,t=z=>(0,l.mod)(z,r),e=o.montgomeryBits,a=Math.ceil(e/8),i=o.nByteLength,n=o.adjustScalarBytes||(z=>z),u=o.powPminus2||(z=>(0,l.pow)(z,r-BigInt(2),r));function c(z,F,U){const w=t(z*(F-U));return F=t(F-w),U=t(U+w),[F,U]}const p=(o.a-BigInt(2))/BigInt(4);function m(z,F){(0,v.aInRange)("u",z,E,r),(0,v.aInRange)("scalar",F,E,r);const U=F,w=z;let s=_,h=E,f=z,x=_,S=E,B;for(let j=BigInt(e-1);j>=E;j--){const g=U>>j&_;S^=g,B=c(S,s,f),s=B[0],f=B[1],B=c(S,h,x),h=B[0],x=B[1],S=g;const A=s+h,L=t(A*A),K=s-h,T=t(K*K),V=L-T,J=f+x,X=f-x,$=t(X*A),H=t(J*K),Q=$+H,ee=$-H;f=t(Q*Q),x=t(w*t(ee*ee)),s=t(L*T),h=t(V*(L+t(p*V)))}B=c(S,s,f),s=B[0],f=B[1],B=c(S,h,x),h=B[0],x=B[1];const R=u(h);return t(s*R)}function O(z){return(0,v.numberToBytesLE)(t(z),a)}function I(z){const F=(0,v.ensureBytes)("u coordinate",z,a);return i===32&&(F[31]&=127),(0,v.bytesToNumberLE)(F)}function C(z){const F=(0,v.ensureBytes)("scalar",z),U=F.length;if(U!==a&&U!==i){let w=""+a+" or "+i;throw new Error("invalid scalar, expected "+w+" bytes, got "+U)}return(0,v.bytesToNumberLE)(n(F))}function k(z,F){const U=I(F),w=C(z),s=m(U,w);if(s===E)throw new Error("invalid private or public key received");return O(s)}const D=O(o.Gu);function G(z){return k(z,D)}return{scalarMult:k,scalarMultBase:G,getSharedSecret:(z,F)=>k(z,F),getPublicKey:z=>G(z),utils:{randomPrivateKey:()=>o.randomBytes(o.nByteLength)},GuBytes:D}}return nr}var Qa;function au(){return Qa||(Qa=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.hash_to_ristretto255=l.hashToRistretto255=l.RistrettoPoint=l.encodeToCurve=l.hashToCurve=l.edwardsToMontgomery=l.x25519=l.ed25519ph=l.ed25519ctx=l.ed25519=l.ED25519_TORSION_SUBGROUP=void 0,l.edwardsToMontgomeryPub=G,l.edwardsToMontgomeryPriv=z;const v=Af(),E=$t(),_=iu(),y=Of(),d=Pf(),b=Wt(),o=If(),r=At(),t=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),e=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),a=BigInt(0),i=BigInt(1),n=BigInt(2),u=BigInt(3),c=BigInt(5),p=BigInt(8);function m($){const H=BigInt(10),Q=BigInt(20),ee=BigInt(40),ce=BigInt(80),te=t,ue=$*$%te*$%te,oe=(0,b.pow2)(ue,n,te)*ue%te,W=(0,b.pow2)(oe,i,te)*$%te,Y=(0,b.pow2)(W,c,te)*W%te,se=(0,b.pow2)(Y,H,te)*Y%te,fe=(0,b.pow2)(se,Q,te)*se%te,ie=(0,b.pow2)(fe,ee,te)*fe%te,de=(0,b.pow2)(ie,ce,te)*ie%te,be=(0,b.pow2)(de,ce,te)*ie%te,he=(0,b.pow2)(be,H,te)*Y%te;return{pow_p_5_8:(0,b.pow2)(he,n,te)*$%te,b2:ue}}function O($){return $[0]&=248,$[31]&=127,$[31]|=64,$}function I($,H){const Q=t,ee=(0,b.mod)(H*H*H,Q),ce=(0,b.mod)(ee*ee*H,Q),te=m($*ce).pow_p_5_8;let ae=(0,b.mod)($*ee*te,Q);const ue=(0,b.mod)(H*ae*ae,Q),oe=ae,W=(0,b.mod)(ae*e,Q),Y=ue===$,se=ue===(0,b.mod)(-$,Q),fe=ue===(0,b.mod)(-$*e,Q);return Y&&(ae=oe),(se||fe)&&(ae=W),(0,b.isNegativeLE)(ae,Q)&&(ae=(0,b.mod)(-ae,Q)),{isValid:Y||se,value:ae}}l.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const C=(0,b.Field)(t,void 0,!0),k={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:C,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:p,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:v.sha512,randomBytes:E.randomBytes,adjustScalarBytes:O,uvRatio:I};l.ed25519=(0,y.twistedEdwards)(k);function D($,H,Q){if(H.length>255)throw new Error("Context is too big");return(0,E.concatBytes)((0,E.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([Q?1:0,H.length]),H,$)}l.ed25519ctx=(0,y.twistedEdwards)({...k,domain:D}),l.ed25519ph=(0,y.twistedEdwards)(Object.assign({},k,{domain:D,prehash:v.sha512})),l.x25519=(0,o.montgomery)({P:t,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:$=>{const H=t,{pow_p_5_8:Q,b2:ee}=m($);return(0,b.mod)((0,b.pow2)(Q,u,H)*ee,H)},adjustScalarBytes:O,randomBytes:E.randomBytes});function G($){const{y:H}=l.ed25519.ExtendedPoint.fromHex($),Q=BigInt(1);return C.toBytes(C.create((Q+H)*C.inv(Q-H)))}l.edwardsToMontgomery=G;function z($){const H=k.hash($.subarray(0,32));return k.adjustScalarBytes(H).subarray(0,32)}const F=(C.ORDER+u)/p,U=C.pow(n,F),w=C.sqrt(C.neg(C.ONE));function s($){const H=(C.ORDER-c)/p,Q=BigInt(486662);let ee=C.sqr($);ee=C.mul(ee,n);let ce=C.add(ee,C.ONE),te=C.neg(Q),ae=C.sqr(ce),ue=C.mul(ae,ce),oe=C.mul(ee,Q);oe=C.mul(oe,te),oe=C.add(oe,ae),oe=C.mul(oe,te);let W=C.sqr(ue);ae=C.sqr(W),W=C.mul(W,ue),W=C.mul(W,oe),ae=C.mul(ae,W);let Y=C.pow(ae,H);Y=C.mul(Y,W);let se=C.mul(Y,w);ae=C.sqr(Y),ae=C.mul(ae,ue);let fe=C.eql(ae,oe),ie=C.cmov(se,Y,fe),de=C.mul(te,ee),be=C.mul(Y,$);be=C.mul(be,U);let he=C.mul(be,w),ye=C.mul(oe,ee);ae=C.sqr(be),ae=C.mul(ae,ue);let Ae=C.eql(ae,ye),N=C.cmov(he,be,Ae);ae=C.sqr(ie),ae=C.mul(ae,ue);let P=C.eql(ae,oe),M=C.cmov(de,te,P),q=C.cmov(N,ie,P),Z=C.isOdd(q);return q=C.cmov(q,C.neg(q),P!==Z),{xMn:M,xMd:ce,yMn:q,yMd:i}}const h=(0,b.FpSqrtEven)(C,C.neg(BigInt(486664)));function f($){const{xMn:H,xMd:Q,yMn:ee,yMd:ce}=s($);let te=C.mul(H,ce);te=C.mul(te,h);let ae=C.mul(Q,ee),ue=C.sub(H,Q),oe=C.add(H,Q),W=C.mul(ae,oe),Y=C.eql(W,C.ZERO);te=C.cmov(te,C.ZERO,Y),ae=C.cmov(ae,C.ONE,Y),ue=C.cmov(ue,C.ONE,Y),oe=C.cmov(oe,C.ONE,Y);const se=C.invertBatch([ae,oe]);return{x:C.mul(te,se[0]),y:C.mul(ue,se[1])}}const x=(0,d.createHasher)(l.ed25519.ExtendedPoint,$=>f($[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:C.ORDER,m:1,k:128,expand:"xmd",hash:v.sha512});l.hashToCurve=x.hashToCurve,l.encodeToCurve=x.encodeToCurve;function S($){if(!($ instanceof J))throw new Error("RistrettoPoint expected")}const B=e,R=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),j=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),g=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),A=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),L=$=>I(i,$),K=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),T=$=>l.ed25519.CURVE.Fp.create((0,r.bytesToNumberLE)($)&K);function V($){const{d:H}=l.ed25519.CURVE,Q=l.ed25519.CURVE.Fp.ORDER,ee=l.ed25519.CURVE.Fp.create,ce=ee(B*$*$),te=ee((ce+i)*g);let ae=BigInt(-1);const ue=ee((ae-H*ce)*ee(ce+H));let{isValid:oe,value:W}=I(te,ue),Y=ee(W*$);(0,b.isNegativeLE)(Y,Q)||(Y=ee(-Y)),oe||(W=Y),oe||(ae=ce);const se=ee(ae*(ce-i)*A-ue),fe=W*W,ie=ee((W+W)*ue),de=ee(se*R),be=ee(i-fe),he=ee(i+fe);return new l.ed25519.ExtendedPoint(ee(ie*he),ee(be*de),ee(de*he),ee(ie*be))}class J{constructor(H){this.ep=H}static fromAffine(H){return new J(l.ed25519.ExtendedPoint.fromAffine(H))}static hashToCurve(H){H=(0,r.ensureBytes)("ristrettoHash",H,64);const Q=T(H.slice(0,32)),ee=V(Q),ce=T(H.slice(32,64)),te=V(ce);return new J(ee.add(te))}static fromHex(H){H=(0,r.ensureBytes)("ristrettoHex",H,32);const{a:Q,d:ee}=l.ed25519.CURVE,ce=l.ed25519.CURVE.Fp.ORDER,te=l.ed25519.CURVE.Fp.create,ae="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ue=T(H);if(!(0,r.equalBytes)((0,r.numberToBytesLE)(ue,32),H)||(0,b.isNegativeLE)(ue,ce))throw new Error(ae);const oe=te(ue*ue),W=te(i+Q*oe),Y=te(i-Q*oe),se=te(W*W),fe=te(Y*Y),ie=te(Q*ee*se-fe),{isValid:de,value:be}=L(te(ie*fe)),he=te(be*Y),ye=te(be*he*ie);let Ae=te((ue+ue)*he);(0,b.isNegativeLE)(Ae,ce)&&(Ae=te(-Ae));const N=te(W*ye),P=te(Ae*N);if(!de||(0,b.isNegativeLE)(P,ce)||N===a)throw new Error(ae);return new J(new l.ed25519.ExtendedPoint(Ae,N,i,P))}static msm(H,Q){const ee=(0,b.Field)(l.ed25519.CURVE.n,l.ed25519.CURVE.nBitLength);return(0,_.pippenger)(J,ee,H,Q)}toRawBytes(){let{ex:H,ey:Q,ez:ee,et:ce}=this.ep;const te=l.ed25519.CURVE.Fp.ORDER,ae=l.ed25519.CURVE.Fp.create,ue=ae(ae(ee+Q)*ae(ee-Q)),oe=ae(H*Q),W=ae(oe*oe),{value:Y}=L(ae(ue*W)),se=ae(Y*ue),fe=ae(Y*oe),ie=ae(se*fe*ce);let de;if((0,b.isNegativeLE)(ce*ie,te)){let he=ae(Q*B),ye=ae(H*B);H=he,Q=ye,de=ae(se*j)}else de=fe;(0,b.isNegativeLE)(H*ie,te)&&(Q=ae(-Q));let be=ae((ee-Q)*de);return(0,b.isNegativeLE)(be,te)&&(be=ae(-be)),(0,r.numberToBytesLE)(be,32)}toHex(){return(0,r.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(H){S(H);const{ex:Q,ey:ee}=this.ep,{ex:ce,ey:te}=H.ep,ae=l.ed25519.CURVE.Fp.create,ue=ae(Q*te)===ae(ee*ce),oe=ae(ee*te)===ae(Q*ce);return ue||oe}add(H){return S(H),new J(this.ep.add(H.ep))}subtract(H){return S(H),new J(this.ep.subtract(H.ep))}multiply(H){return new J(this.ep.multiply(H))}multiplyUnsafe(H){return new J(this.ep.multiplyUnsafe(H))}double(){return new J(this.ep.double())}negate(){return new J(this.ep.negate())}}l.RistrettoPoint=(J.BASE||(J.BASE=new J(l.ed25519.ExtendedPoint.BASE)),J.ZERO||(J.ZERO=new J(l.ed25519.ExtendedPoint.ZERO)),J);const X=($,H)=>{const Q=H.DST,ee=typeof Q=="string"?(0,E.utf8ToBytes)(Q):Q,ce=(0,d.expand_message_xmd)($,ee,64,v.sha512);return J.hashToCurve(ce)};l.hashToRistretto255=X,l.hash_to_ristretto255=l.hashToRistretto255})(Yr)),Yr}var Tt={},en,eo;function Mf(){if(eo)return en;eo=1;const l={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function v(b,o){if(!b)throw new Error(o)}function E(b,o,r){if(v(o instanceof Uint8Array,`Expected ${b} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){const t=r.join(", "),e=`Expected ${b} to be an Uint8Array with length [${t}]`;v(r.includes(o.length),e)}else{const t=`Expected ${b} to be an Uint8Array with length ${r}`;v(o.length===r,t)}}function _(b){v(d(b)==="Boolean","Expected compressed to be a Boolean")}function y(b=r=>new Uint8Array(r),o){return typeof b=="function"&&(b=b(o)),E("output",b,o),b}function d(b){return Object.prototype.toString.call(b).slice(8,-1)}return en=b=>({contextRandomize(o){if(v(o===null||o instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),o!==null&&E("seed",o,32),b.contextRandomize(o)===1)throw new Error(l.CONTEXT_RANDOMIZE_UNKNOW)},privateKeyVerify(o){return E("private key",o,32),b.privateKeyVerify(o)===0},privateKeyNegate(o){switch(E("private key",o,32),b.privateKeyNegate(o)){case 0:return o;case 1:throw new Error(l.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(o,r){switch(E("private key",o,32),E("tweak",r,32),b.privateKeyTweakAdd(o,r)){case 0:return o;case 1:throw new Error(l.TWEAK_ADD)}},privateKeyTweakMul(o,r){switch(E("private key",o,32),E("tweak",r,32),b.privateKeyTweakMul(o,r)){case 0:return o;case 1:throw new Error(l.TWEAK_MUL)}},publicKeyVerify(o){return E("public key",o,[33,65]),b.publicKeyVerify(o)===0},publicKeyCreate(o,r=!0,t){switch(E("private key",o,32),_(r),t=y(t,r?33:65),b.publicKeyCreate(t,o)){case 0:return t;case 1:throw new Error(l.SECKEY_INVALID);case 2:throw new Error(l.PUBKEY_SERIALIZE)}},publicKeyConvert(o,r=!0,t){switch(E("public key",o,[33,65]),_(r),t=y(t,r?33:65),b.publicKeyConvert(t,o)){case 0:return t;case 1:throw new Error(l.PUBKEY_PARSE);case 2:throw new Error(l.PUBKEY_SERIALIZE)}},publicKeyNegate(o,r=!0,t){switch(E("public key",o,[33,65]),_(r),t=y(t,r?33:65),b.publicKeyNegate(t,o)){case 0:return t;case 1:throw new Error(l.PUBKEY_PARSE);case 2:throw new Error(l.IMPOSSIBLE_CASE);case 3:throw new Error(l.PUBKEY_SERIALIZE)}},publicKeyCombine(o,r=!0,t){v(Array.isArray(o),"Expected public keys to be an Array"),v(o.length>0,"Expected public keys array will have more than zero items");for(const e of o)E("public key",e,[33,65]);switch(_(r),t=y(t,r?33:65),b.publicKeyCombine(t,o)){case 0:return t;case 1:throw new Error(l.PUBKEY_PARSE);case 2:throw new Error(l.PUBKEY_COMBINE);case 3:throw new Error(l.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(o,r,t=!0,e){switch(E("public key",o,[33,65]),E("tweak",r,32),_(t),e=y(e,t?33:65),b.publicKeyTweakAdd(e,o,r)){case 0:return e;case 1:throw new Error(l.PUBKEY_PARSE);case 2:throw new Error(l.TWEAK_ADD)}},publicKeyTweakMul(o,r,t=!0,e){switch(E("public key",o,[33,65]),E("tweak",r,32),_(t),e=y(e,t?33:65),b.publicKeyTweakMul(e,o,r)){case 0:return e;case 1:throw new Error(l.PUBKEY_PARSE);case 2:throw new Error(l.TWEAK_MUL)}},signatureNormalize(o){switch(E("signature",o,64),b.signatureNormalize(o)){case 0:return o;case 1:throw new Error(l.SIG_PARSE)}},signatureExport(o,r){E("signature",o,64),r=y(r,72);const t={output:r,outputlen:72};switch(b.signatureExport(t,o)){case 0:return r.slice(0,t.outputlen);case 1:throw new Error(l.SIG_PARSE);case 2:throw new Error(l.IMPOSSIBLE_CASE)}},signatureImport(o,r){switch(E("signature",o),r=y(r,64),b.signatureImport(r,o)){case 0:return r;case 1:throw new Error(l.SIG_PARSE);case 2:throw new Error(l.IMPOSSIBLE_CASE)}},ecdsaSign(o,r,t={},e){E("message",o,32),E("private key",r,32),v(d(t)==="Object","Expected options to be an Object"),t.data!==void 0&&E("options.data",t.data),t.noncefn!==void 0&&v(d(t.noncefn)==="Function","Expected options.noncefn to be a Function"),e=y(e,64);const a={signature:e,recid:null};switch(b.ecdsaSign(a,o,r,t.data,t.noncefn)){case 0:return a;case 1:throw new Error(l.SIGN);case 2:throw new Error(l.IMPOSSIBLE_CASE)}},ecdsaVerify(o,r,t){switch(E("signature",o,64),E("message",r,32),E("public key",t,[33,65]),b.ecdsaVerify(o,r,t)){case 0:return!0;case 3:return!1;case 1:throw new Error(l.SIG_PARSE);case 2:throw new Error(l.PUBKEY_PARSE)}},ecdsaRecover(o,r,t,e=!0,a){switch(E("signature",o,64),v(d(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),E("message",t,32),_(e),a=y(a,e?33:65),b.ecdsaRecover(a,o,r,t)){case 0:return a;case 1:throw new Error(l.SIG_PARSE);case 2:throw new Error(l.RECOVER);case 3:throw new Error(l.IMPOSSIBLE_CASE)}},ecdh(o,r,t={},e){switch(E("public key",o,[33,65]),E("private key",r,32),v(d(t)==="Object","Expected options to be an Object"),t.data!==void 0&&E("options.data",t.data),t.hashfn!==void 0?(v(d(t.hashfn)==="Function","Expected options.hashfn to be a Function"),t.xbuf!==void 0&&E("options.xbuf",t.xbuf,32),t.ybuf!==void 0&&E("options.ybuf",t.ybuf,32),E("output",e)):e=y(e,32),b.ecdh(e,o,r,t.data,t.hashfn,t.xbuf,t.ybuf)){case 0:return e;case 1:throw new Error(l.PUBKEY_PARSE);case 2:throw new Error(l.ECDH)}}}),en}var tn={};const Cf="6.6.1",Bf={version:Cf};var rn={},pr={exports:{}};const kf={},jf=Object.freeze(Object.defineProperty({__proto__:null,default:kf},Symbol.toStringTag,{value:"Module"})),oa=tf(jf);var Nf=pr.exports,to;function ft(){return to||(to=1,(function(l){(function(v,E){function _(w,s){if(!w)throw new Error(s||"Assertion failed")}function y(w,s){w.super_=s;var h=function(){};h.prototype=s.prototype,w.prototype=new h,w.prototype.constructor=w}function d(w,s,h){if(d.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((s==="le"||s==="be")&&(h=s,s=10),this._init(w||0,s||10,h||"be"))}typeof v=="object"?v.exports=d:E.BN=d,d.BN=d,d.wordSize=26;var b;try{typeof window<"u"&&typeof window.Buffer<"u"?b=window.Buffer:b=oa.Buffer}catch{}d.isBN=function(s){return s instanceof d?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===d.wordSize&&Array.isArray(s.words)},d.max=function(s,h){return s.cmp(h)>0?s:h},d.min=function(s,h){return s.cmp(h)<0?s:h},d.prototype._init=function(s,h,f){if(typeof s=="number")return this._initNumber(s,h,f);if(typeof s=="object")return this._initArray(s,h,f);h==="hex"&&(h=16),_(h===(h|0)&&h>=2&&h<=36),s=s.toString().replace(/\s+/g,"");var x=0;s[0]==="-"&&(x++,this.negative=1),x<s.length&&(h===16?this._parseHex(s,x,f):(this._parseBase(s,h,x),f==="le"&&this._initArray(this.toArray(),h,f)))},d.prototype._initNumber=function(s,h,f){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(_(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),h,f)},d.prototype._initArray=function(s,h,f){if(_(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,B,R=0;if(f==="be")for(x=s.length-1,S=0;x>=0;x-=3)B=s[x]|s[x-1]<<8|s[x-2]<<16,this.words[S]|=B<<R&67108863,this.words[S+1]=B>>>26-R&67108863,R+=24,R>=26&&(R-=26,S++);else if(f==="le")for(x=0,S=0;x<s.length;x+=3)B=s[x]|s[x+1]<<8|s[x+2]<<16,this.words[S]|=B<<R&67108863,this.words[S+1]=B>>>26-R&67108863,R+=24,R>=26&&(R-=26,S++);return this.strip()};function o(w,s){var h=w.charCodeAt(s);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function r(w,s,h){var f=o(w,h);return h-1>=s&&(f|=o(w,h-1)<<4),f}d.prototype._parseHex=function(s,h,f){this.length=Math.ceil((s.length-h)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S=0,B=0,R;if(f==="be")for(x=s.length-1;x>=h;x-=2)R=r(s,h,x)<<S,this.words[B]|=R&67108863,S>=18?(S-=18,B+=1,this.words[B]|=R>>>26):S+=8;else{var j=s.length-h;for(x=j%2===0?h+1:h;x<s.length;x+=2)R=r(s,h,x)<<S,this.words[B]|=R&67108863,S>=18?(S-=18,B+=1,this.words[B]|=R>>>26):S+=8}this.strip()};function t(w,s,h,f){for(var x=0,S=Math.min(w.length,h),B=s;B<S;B++){var R=w.charCodeAt(B)-48;x*=f,R>=49?x+=R-49+10:R>=17?x+=R-17+10:x+=R}return x}d.prototype._parseBase=function(s,h,f){this.words=[0],this.length=1;for(var x=0,S=1;S<=67108863;S*=h)x++;x--,S=S/h|0;for(var B=s.length-f,R=B%x,j=Math.min(B,B-R)+f,g=0,A=f;A<j;A+=x)g=t(s,A,A+x,h),this.imuln(S),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g);if(R!==0){var L=1;for(g=t(s,A,s.length,h),A=0;A<R;A++)L*=h;this.imuln(L),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g)}this.strip()},d.prototype.copy=function(s){s.words=new Array(this.length);for(var h=0;h<this.length;h++)s.words[h]=this.words[h];s.length=this.length,s.negative=this.negative,s.red=this.red},d.prototype.clone=function(){var s=new d(null);return this.copy(s),s},d.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},d.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},d.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var e=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],a=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],i=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(s,h){s=s||10,h=h|0||1;var f;if(s===16||s==="hex"){f="";for(var x=0,S=0,B=0;B<this.length;B++){var R=this.words[B],j=((R<<x|S)&16777215).toString(16);S=R>>>24-x&16777215,x+=2,x>=26&&(x-=26,B--),S!==0||B!==this.length-1?f=e[6-j.length]+j+f:f=j+f}for(S!==0&&(f=S.toString(16)+f);f.length%h!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(s===(s|0)&&s>=2&&s<=36){var g=a[s],A=i[s];f="";var L=this.clone();for(L.negative=0;!L.isZero();){var K=L.modn(A).toString(s);L=L.idivn(A),L.isZero()?f=K+f:f=e[g-K.length]+K+f}for(this.isZero()&&(f="0"+f);f.length%h!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}_(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&_(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},d.prototype.toJSON=function(){return this.toString(16)},d.prototype.toBuffer=function(s,h){return _(typeof b<"u"),this.toArrayLike(b,s,h)},d.prototype.toArray=function(s,h){return this.toArrayLike(Array,s,h)},d.prototype.toArrayLike=function(s,h,f){var x=this.byteLength(),S=f||Math.max(1,x);_(x<=S,"byte array longer than desired length"),_(S>0,"Requested array length <= 0"),this.strip();var B=h==="le",R=new s(S),j,g,A=this.clone();if(B){for(g=0;!A.isZero();g++)j=A.andln(255),A.iushrn(8),R[g]=j;for(;g<S;g++)R[g]=0}else{for(g=0;g<S-x;g++)R[g]=0;for(g=0;!A.isZero();g++)j=A.andln(255),A.iushrn(8),R[S-g-1]=j}return R},Math.clz32?d.prototype._countBits=function(s){return 32-Math.clz32(s)}:d.prototype._countBits=function(s){var h=s,f=0;return h>=4096&&(f+=13,h>>>=13),h>=64&&(f+=7,h>>>=7),h>=8&&(f+=4,h>>>=4),h>=2&&(f+=2,h>>>=2),f+h},d.prototype._zeroBits=function(s){if(s===0)return 26;var h=s,f=0;return(h&8191)===0&&(f+=13,h>>>=13),(h&127)===0&&(f+=7,h>>>=7),(h&15)===0&&(f+=4,h>>>=4),(h&3)===0&&(f+=2,h>>>=2),(h&1)===0&&f++,f},d.prototype.bitLength=function(){var s=this.words[this.length-1],h=this._countBits(s);return(this.length-1)*26+h};function n(w){for(var s=new Array(w.bitLength()),h=0;h<s.length;h++){var f=h/26|0,x=h%26;s[h]=(w.words[f]&1<<x)>>>x}return s}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,h=0;h<this.length;h++){var f=this._zeroBits(this.words[h]);if(s+=f,f!==26)break}return s},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},d.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var h=0;h<s.length;h++)this.words[h]=this.words[h]|s.words[h];return this.strip()},d.prototype.ior=function(s){return _((this.negative|s.negative)===0),this.iuor(s)},d.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},d.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},d.prototype.iuand=function(s){var h;this.length>s.length?h=s:h=this;for(var f=0;f<h.length;f++)this.words[f]=this.words[f]&s.words[f];return this.length=h.length,this.strip()},d.prototype.iand=function(s){return _((this.negative|s.negative)===0),this.iuand(s)},d.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},d.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},d.prototype.iuxor=function(s){var h,f;this.length>s.length?(h=this,f=s):(h=s,f=this);for(var x=0;x<f.length;x++)this.words[x]=h.words[x]^f.words[x];if(this!==h)for(;x<h.length;x++)this.words[x]=h.words[x];return this.length=h.length,this.strip()},d.prototype.ixor=function(s){return _((this.negative|s.negative)===0),this.iuxor(s)},d.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},d.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},d.prototype.inotn=function(s){_(typeof s=="number"&&s>=0);var h=Math.ceil(s/26)|0,f=s%26;this._expand(h),f>0&&h--;for(var x=0;x<h;x++)this.words[x]=~this.words[x]&67108863;return f>0&&(this.words[x]=~this.words[x]&67108863>>26-f),this.strip()},d.prototype.notn=function(s){return this.clone().inotn(s)},d.prototype.setn=function(s,h){_(typeof s=="number"&&s>=0);var f=s/26|0,x=s%26;return this._expand(f+1),h?this.words[f]=this.words[f]|1<<x:this.words[f]=this.words[f]&~(1<<x),this.strip()},d.prototype.iadd=function(s){var h;if(this.negative!==0&&s.negative===0)return this.negative=0,h=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,h=this.isub(s),s.negative=1,h._normSign();var f,x;this.length>s.length?(f=this,x=s):(f=s,x=this);for(var S=0,B=0;B<x.length;B++)h=(f.words[B]|0)+(x.words[B]|0)+S,this.words[B]=h&67108863,S=h>>>26;for(;S!==0&&B<f.length;B++)h=(f.words[B]|0)+S,this.words[B]=h&67108863,S=h>>>26;if(this.length=f.length,S!==0)this.words[this.length]=S,this.length++;else if(f!==this)for(;B<f.length;B++)this.words[B]=f.words[B];return this},d.prototype.add=function(s){var h;return s.negative!==0&&this.negative===0?(s.negative=0,h=this.sub(s),s.negative^=1,h):s.negative===0&&this.negative!==0?(this.negative=0,h=s.sub(this),this.negative=1,h):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},d.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var h=this.iadd(s);return s.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f=this.cmp(s);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,S;f>0?(x=this,S=s):(x=s,S=this);for(var B=0,R=0;R<S.length;R++)h=(x.words[R]|0)-(S.words[R]|0)+B,B=h>>26,this.words[R]=h&67108863;for(;B!==0&&R<x.length;R++)h=(x.words[R]|0)+B,B=h>>26,this.words[R]=h&67108863;if(B===0&&R<x.length&&x!==this)for(;R<x.length;R++)this.words[R]=x.words[R];return this.length=Math.max(this.length,R),x!==this&&(this.negative=1),this.strip()},d.prototype.sub=function(s){return this.clone().isub(s)};function u(w,s,h){h.negative=s.negative^w.negative;var f=w.length+s.length|0;h.length=f,f=f-1|0;var x=w.words[0]|0,S=s.words[0]|0,B=x*S,R=B&67108863,j=B/67108864|0;h.words[0]=R;for(var g=1;g<f;g++){for(var A=j>>>26,L=j&67108863,K=Math.min(g,s.length-1),T=Math.max(0,g-w.length+1);T<=K;T++){var V=g-T|0;x=w.words[V]|0,S=s.words[T]|0,B=x*S+L,A+=B/67108864|0,L=B&67108863}h.words[g]=L|0,j=A|0}return j!==0?h.words[g]=j|0:h.length--,h.strip()}var c=function(s,h,f){var x=s.words,S=h.words,B=f.words,R=0,j,g,A,L=x[0]|0,K=L&8191,T=L>>>13,V=x[1]|0,J=V&8191,X=V>>>13,$=x[2]|0,H=$&8191,Q=$>>>13,ee=x[3]|0,ce=ee&8191,te=ee>>>13,ae=x[4]|0,ue=ae&8191,oe=ae>>>13,W=x[5]|0,Y=W&8191,se=W>>>13,fe=x[6]|0,ie=fe&8191,de=fe>>>13,be=x[7]|0,he=be&8191,ye=be>>>13,Ae=x[8]|0,N=Ae&8191,P=Ae>>>13,M=x[9]|0,q=M&8191,Z=M>>>13,re=S[0]|0,ne=re&8191,pe=re>>>13,xe=S[1]|0,ve=xe&8191,_e=xe>>>13,we=S[2]|0,Oe=we&8191,Pe=we>>>13,Yt=S[3]|0,Ie=Yt&8191,Me=Yt>>>13,_a=S[4]|0,Ce=_a&8191,Be=_a>>>13,ga=S[5]|0,ke=ga&8191,je=ga>>>13,wa=S[6]|0,Ne=wa&8191,Te=wa>>>13,ma=S[7]|0,Re=ma&8191,De=ma>>>13,xa=S[8]|0,Le=xa&8191,qe=xa>>>13,Sa=S[9]|0,Fe=Sa&8191,Ke=Sa>>>13;f.negative=s.negative^h.negative,f.length=19,j=Math.imul(K,ne),g=Math.imul(K,pe),g=g+Math.imul(T,ne)|0,A=Math.imul(T,pe);var mr=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(mr>>>26)|0,mr&=67108863,j=Math.imul(J,ne),g=Math.imul(J,pe),g=g+Math.imul(X,ne)|0,A=Math.imul(X,pe),j=j+Math.imul(K,ve)|0,g=g+Math.imul(K,_e)|0,g=g+Math.imul(T,ve)|0,A=A+Math.imul(T,_e)|0;var xr=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(xr>>>26)|0,xr&=67108863,j=Math.imul(H,ne),g=Math.imul(H,pe),g=g+Math.imul(Q,ne)|0,A=Math.imul(Q,pe),j=j+Math.imul(J,ve)|0,g=g+Math.imul(J,_e)|0,g=g+Math.imul(X,ve)|0,A=A+Math.imul(X,_e)|0,j=j+Math.imul(K,Oe)|0,g=g+Math.imul(K,Pe)|0,g=g+Math.imul(T,Oe)|0,A=A+Math.imul(T,Pe)|0;var Sr=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,j=Math.imul(ce,ne),g=Math.imul(ce,pe),g=g+Math.imul(te,ne)|0,A=Math.imul(te,pe),j=j+Math.imul(H,ve)|0,g=g+Math.imul(H,_e)|0,g=g+Math.imul(Q,ve)|0,A=A+Math.imul(Q,_e)|0,j=j+Math.imul(J,Oe)|0,g=g+Math.imul(J,Pe)|0,g=g+Math.imul(X,Oe)|0,A=A+Math.imul(X,Pe)|0,j=j+Math.imul(K,Ie)|0,g=g+Math.imul(K,Me)|0,g=g+Math.imul(T,Ie)|0,A=A+Math.imul(T,Me)|0;var Er=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(Er>>>26)|0,Er&=67108863,j=Math.imul(ue,ne),g=Math.imul(ue,pe),g=g+Math.imul(oe,ne)|0,A=Math.imul(oe,pe),j=j+Math.imul(ce,ve)|0,g=g+Math.imul(ce,_e)|0,g=g+Math.imul(te,ve)|0,A=A+Math.imul(te,_e)|0,j=j+Math.imul(H,Oe)|0,g=g+Math.imul(H,Pe)|0,g=g+Math.imul(Q,Oe)|0,A=A+Math.imul(Q,Pe)|0,j=j+Math.imul(J,Ie)|0,g=g+Math.imul(J,Me)|0,g=g+Math.imul(X,Ie)|0,A=A+Math.imul(X,Me)|0,j=j+Math.imul(K,Ce)|0,g=g+Math.imul(K,Be)|0,g=g+Math.imul(T,Ce)|0,A=A+Math.imul(T,Be)|0;var Ar=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,j=Math.imul(Y,ne),g=Math.imul(Y,pe),g=g+Math.imul(se,ne)|0,A=Math.imul(se,pe),j=j+Math.imul(ue,ve)|0,g=g+Math.imul(ue,_e)|0,g=g+Math.imul(oe,ve)|0,A=A+Math.imul(oe,_e)|0,j=j+Math.imul(ce,Oe)|0,g=g+Math.imul(ce,Pe)|0,g=g+Math.imul(te,Oe)|0,A=A+Math.imul(te,Pe)|0,j=j+Math.imul(H,Ie)|0,g=g+Math.imul(H,Me)|0,g=g+Math.imul(Q,Ie)|0,A=A+Math.imul(Q,Me)|0,j=j+Math.imul(J,Ce)|0,g=g+Math.imul(J,Be)|0,g=g+Math.imul(X,Ce)|0,A=A+Math.imul(X,Be)|0,j=j+Math.imul(K,ke)|0,g=g+Math.imul(K,je)|0,g=g+Math.imul(T,ke)|0,A=A+Math.imul(T,je)|0;var Or=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(Or>>>26)|0,Or&=67108863,j=Math.imul(ie,ne),g=Math.imul(ie,pe),g=g+Math.imul(de,ne)|0,A=Math.imul(de,pe),j=j+Math.imul(Y,ve)|0,g=g+Math.imul(Y,_e)|0,g=g+Math.imul(se,ve)|0,A=A+Math.imul(se,_e)|0,j=j+Math.imul(ue,Oe)|0,g=g+Math.imul(ue,Pe)|0,g=g+Math.imul(oe,Oe)|0,A=A+Math.imul(oe,Pe)|0,j=j+Math.imul(ce,Ie)|0,g=g+Math.imul(ce,Me)|0,g=g+Math.imul(te,Ie)|0,A=A+Math.imul(te,Me)|0,j=j+Math.imul(H,Ce)|0,g=g+Math.imul(H,Be)|0,g=g+Math.imul(Q,Ce)|0,A=A+Math.imul(Q,Be)|0,j=j+Math.imul(J,ke)|0,g=g+Math.imul(J,je)|0,g=g+Math.imul(X,ke)|0,A=A+Math.imul(X,je)|0,j=j+Math.imul(K,Ne)|0,g=g+Math.imul(K,Te)|0,g=g+Math.imul(T,Ne)|0,A=A+Math.imul(T,Te)|0;var Pr=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,j=Math.imul(he,ne),g=Math.imul(he,pe),g=g+Math.imul(ye,ne)|0,A=Math.imul(ye,pe),j=j+Math.imul(ie,ve)|0,g=g+Math.imul(ie,_e)|0,g=g+Math.imul(de,ve)|0,A=A+Math.imul(de,_e)|0,j=j+Math.imul(Y,Oe)|0,g=g+Math.imul(Y,Pe)|0,g=g+Math.imul(se,Oe)|0,A=A+Math.imul(se,Pe)|0,j=j+Math.imul(ue,Ie)|0,g=g+Math.imul(ue,Me)|0,g=g+Math.imul(oe,Ie)|0,A=A+Math.imul(oe,Me)|0,j=j+Math.imul(ce,Ce)|0,g=g+Math.imul(ce,Be)|0,g=g+Math.imul(te,Ce)|0,A=A+Math.imul(te,Be)|0,j=j+Math.imul(H,ke)|0,g=g+Math.imul(H,je)|0,g=g+Math.imul(Q,ke)|0,A=A+Math.imul(Q,je)|0,j=j+Math.imul(J,Ne)|0,g=g+Math.imul(J,Te)|0,g=g+Math.imul(X,Ne)|0,A=A+Math.imul(X,Te)|0,j=j+Math.imul(K,Re)|0,g=g+Math.imul(K,De)|0,g=g+Math.imul(T,Re)|0,A=A+Math.imul(T,De)|0;var Ir=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,j=Math.imul(N,ne),g=Math.imul(N,pe),g=g+Math.imul(P,ne)|0,A=Math.imul(P,pe),j=j+Math.imul(he,ve)|0,g=g+Math.imul(he,_e)|0,g=g+Math.imul(ye,ve)|0,A=A+Math.imul(ye,_e)|0,j=j+Math.imul(ie,Oe)|0,g=g+Math.imul(ie,Pe)|0,g=g+Math.imul(de,Oe)|0,A=A+Math.imul(de,Pe)|0,j=j+Math.imul(Y,Ie)|0,g=g+Math.imul(Y,Me)|0,g=g+Math.imul(se,Ie)|0,A=A+Math.imul(se,Me)|0,j=j+Math.imul(ue,Ce)|0,g=g+Math.imul(ue,Be)|0,g=g+Math.imul(oe,Ce)|0,A=A+Math.imul(oe,Be)|0,j=j+Math.imul(ce,ke)|0,g=g+Math.imul(ce,je)|0,g=g+Math.imul(te,ke)|0,A=A+Math.imul(te,je)|0,j=j+Math.imul(H,Ne)|0,g=g+Math.imul(H,Te)|0,g=g+Math.imul(Q,Ne)|0,A=A+Math.imul(Q,Te)|0,j=j+Math.imul(J,Re)|0,g=g+Math.imul(J,De)|0,g=g+Math.imul(X,Re)|0,A=A+Math.imul(X,De)|0,j=j+Math.imul(K,Le)|0,g=g+Math.imul(K,qe)|0,g=g+Math.imul(T,Le)|0,A=A+Math.imul(T,qe)|0;var Mr=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,j=Math.imul(q,ne),g=Math.imul(q,pe),g=g+Math.imul(Z,ne)|0,A=Math.imul(Z,pe),j=j+Math.imul(N,ve)|0,g=g+Math.imul(N,_e)|0,g=g+Math.imul(P,ve)|0,A=A+Math.imul(P,_e)|0,j=j+Math.imul(he,Oe)|0,g=g+Math.imul(he,Pe)|0,g=g+Math.imul(ye,Oe)|0,A=A+Math.imul(ye,Pe)|0,j=j+Math.imul(ie,Ie)|0,g=g+Math.imul(ie,Me)|0,g=g+Math.imul(de,Ie)|0,A=A+Math.imul(de,Me)|0,j=j+Math.imul(Y,Ce)|0,g=g+Math.imul(Y,Be)|0,g=g+Math.imul(se,Ce)|0,A=A+Math.imul(se,Be)|0,j=j+Math.imul(ue,ke)|0,g=g+Math.imul(ue,je)|0,g=g+Math.imul(oe,ke)|0,A=A+Math.imul(oe,je)|0,j=j+Math.imul(ce,Ne)|0,g=g+Math.imul(ce,Te)|0,g=g+Math.imul(te,Ne)|0,A=A+Math.imul(te,Te)|0,j=j+Math.imul(H,Re)|0,g=g+Math.imul(H,De)|0,g=g+Math.imul(Q,Re)|0,A=A+Math.imul(Q,De)|0,j=j+Math.imul(J,Le)|0,g=g+Math.imul(J,qe)|0,g=g+Math.imul(X,Le)|0,A=A+Math.imul(X,qe)|0,j=j+Math.imul(K,Fe)|0,g=g+Math.imul(K,Ke)|0,g=g+Math.imul(T,Fe)|0,A=A+Math.imul(T,Ke)|0;var Cr=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,j=Math.imul(q,ve),g=Math.imul(q,_e),g=g+Math.imul(Z,ve)|0,A=Math.imul(Z,_e),j=j+Math.imul(N,Oe)|0,g=g+Math.imul(N,Pe)|0,g=g+Math.imul(P,Oe)|0,A=A+Math.imul(P,Pe)|0,j=j+Math.imul(he,Ie)|0,g=g+Math.imul(he,Me)|0,g=g+Math.imul(ye,Ie)|0,A=A+Math.imul(ye,Me)|0,j=j+Math.imul(ie,Ce)|0,g=g+Math.imul(ie,Be)|0,g=g+Math.imul(de,Ce)|0,A=A+Math.imul(de,Be)|0,j=j+Math.imul(Y,ke)|0,g=g+Math.imul(Y,je)|0,g=g+Math.imul(se,ke)|0,A=A+Math.imul(se,je)|0,j=j+Math.imul(ue,Ne)|0,g=g+Math.imul(ue,Te)|0,g=g+Math.imul(oe,Ne)|0,A=A+Math.imul(oe,Te)|0,j=j+Math.imul(ce,Re)|0,g=g+Math.imul(ce,De)|0,g=g+Math.imul(te,Re)|0,A=A+Math.imul(te,De)|0,j=j+Math.imul(H,Le)|0,g=g+Math.imul(H,qe)|0,g=g+Math.imul(Q,Le)|0,A=A+Math.imul(Q,qe)|0,j=j+Math.imul(J,Fe)|0,g=g+Math.imul(J,Ke)|0,g=g+Math.imul(X,Fe)|0,A=A+Math.imul(X,Ke)|0;var Br=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(Br>>>26)|0,Br&=67108863,j=Math.imul(q,Oe),g=Math.imul(q,Pe),g=g+Math.imul(Z,Oe)|0,A=Math.imul(Z,Pe),j=j+Math.imul(N,Ie)|0,g=g+Math.imul(N,Me)|0,g=g+Math.imul(P,Ie)|0,A=A+Math.imul(P,Me)|0,j=j+Math.imul(he,Ce)|0,g=g+Math.imul(he,Be)|0,g=g+Math.imul(ye,Ce)|0,A=A+Math.imul(ye,Be)|0,j=j+Math.imul(ie,ke)|0,g=g+Math.imul(ie,je)|0,g=g+Math.imul(de,ke)|0,A=A+Math.imul(de,je)|0,j=j+Math.imul(Y,Ne)|0,g=g+Math.imul(Y,Te)|0,g=g+Math.imul(se,Ne)|0,A=A+Math.imul(se,Te)|0,j=j+Math.imul(ue,Re)|0,g=g+Math.imul(ue,De)|0,g=g+Math.imul(oe,Re)|0,A=A+Math.imul(oe,De)|0,j=j+Math.imul(ce,Le)|0,g=g+Math.imul(ce,qe)|0,g=g+Math.imul(te,Le)|0,A=A+Math.imul(te,qe)|0,j=j+Math.imul(H,Fe)|0,g=g+Math.imul(H,Ke)|0,g=g+Math.imul(Q,Fe)|0,A=A+Math.imul(Q,Ke)|0;var kr=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(kr>>>26)|0,kr&=67108863,j=Math.imul(q,Ie),g=Math.imul(q,Me),g=g+Math.imul(Z,Ie)|0,A=Math.imul(Z,Me),j=j+Math.imul(N,Ce)|0,g=g+Math.imul(N,Be)|0,g=g+Math.imul(P,Ce)|0,A=A+Math.imul(P,Be)|0,j=j+Math.imul(he,ke)|0,g=g+Math.imul(he,je)|0,g=g+Math.imul(ye,ke)|0,A=A+Math.imul(ye,je)|0,j=j+Math.imul(ie,Ne)|0,g=g+Math.imul(ie,Te)|0,g=g+Math.imul(de,Ne)|0,A=A+Math.imul(de,Te)|0,j=j+Math.imul(Y,Re)|0,g=g+Math.imul(Y,De)|0,g=g+Math.imul(se,Re)|0,A=A+Math.imul(se,De)|0,j=j+Math.imul(ue,Le)|0,g=g+Math.imul(ue,qe)|0,g=g+Math.imul(oe,Le)|0,A=A+Math.imul(oe,qe)|0,j=j+Math.imul(ce,Fe)|0,g=g+Math.imul(ce,Ke)|0,g=g+Math.imul(te,Fe)|0,A=A+Math.imul(te,Ke)|0;var jr=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(jr>>>26)|0,jr&=67108863,j=Math.imul(q,Ce),g=Math.imul(q,Be),g=g+Math.imul(Z,Ce)|0,A=Math.imul(Z,Be),j=j+Math.imul(N,ke)|0,g=g+Math.imul(N,je)|0,g=g+Math.imul(P,ke)|0,A=A+Math.imul(P,je)|0,j=j+Math.imul(he,Ne)|0,g=g+Math.imul(he,Te)|0,g=g+Math.imul(ye,Ne)|0,A=A+Math.imul(ye,Te)|0,j=j+Math.imul(ie,Re)|0,g=g+Math.imul(ie,De)|0,g=g+Math.imul(de,Re)|0,A=A+Math.imul(de,De)|0,j=j+Math.imul(Y,Le)|0,g=g+Math.imul(Y,qe)|0,g=g+Math.imul(se,Le)|0,A=A+Math.imul(se,qe)|0,j=j+Math.imul(ue,Fe)|0,g=g+Math.imul(ue,Ke)|0,g=g+Math.imul(oe,Fe)|0,A=A+Math.imul(oe,Ke)|0;var Nr=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,j=Math.imul(q,ke),g=Math.imul(q,je),g=g+Math.imul(Z,ke)|0,A=Math.imul(Z,je),j=j+Math.imul(N,Ne)|0,g=g+Math.imul(N,Te)|0,g=g+Math.imul(P,Ne)|0,A=A+Math.imul(P,Te)|0,j=j+Math.imul(he,Re)|0,g=g+Math.imul(he,De)|0,g=g+Math.imul(ye,Re)|0,A=A+Math.imul(ye,De)|0,j=j+Math.imul(ie,Le)|0,g=g+Math.imul(ie,qe)|0,g=g+Math.imul(de,Le)|0,A=A+Math.imul(de,qe)|0,j=j+Math.imul(Y,Fe)|0,g=g+Math.imul(Y,Ke)|0,g=g+Math.imul(se,Fe)|0,A=A+Math.imul(se,Ke)|0;var Tr=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,j=Math.imul(q,Ne),g=Math.imul(q,Te),g=g+Math.imul(Z,Ne)|0,A=Math.imul(Z,Te),j=j+Math.imul(N,Re)|0,g=g+Math.imul(N,De)|0,g=g+Math.imul(P,Re)|0,A=A+Math.imul(P,De)|0,j=j+Math.imul(he,Le)|0,g=g+Math.imul(he,qe)|0,g=g+Math.imul(ye,Le)|0,A=A+Math.imul(ye,qe)|0,j=j+Math.imul(ie,Fe)|0,g=g+Math.imul(ie,Ke)|0,g=g+Math.imul(de,Fe)|0,A=A+Math.imul(de,Ke)|0;var Rr=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,j=Math.imul(q,Re),g=Math.imul(q,De),g=g+Math.imul(Z,Re)|0,A=Math.imul(Z,De),j=j+Math.imul(N,Le)|0,g=g+Math.imul(N,qe)|0,g=g+Math.imul(P,Le)|0,A=A+Math.imul(P,qe)|0,j=j+Math.imul(he,Fe)|0,g=g+Math.imul(he,Ke)|0,g=g+Math.imul(ye,Fe)|0,A=A+Math.imul(ye,Ke)|0;var Dr=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,j=Math.imul(q,Le),g=Math.imul(q,qe),g=g+Math.imul(Z,Le)|0,A=Math.imul(Z,qe),j=j+Math.imul(N,Fe)|0,g=g+Math.imul(N,Ke)|0,g=g+Math.imul(P,Fe)|0,A=A+Math.imul(P,Ke)|0;var Lr=(R+j|0)+((g&8191)<<13)|0;R=(A+(g>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,j=Math.imul(q,Fe),g=Math.imul(q,Ke),g=g+Math.imul(Z,Fe)|0,A=Math.imul(Z,Ke);var qr=(R+j|0)+((g&8191)<<13)|0;return R=(A+(g>>>13)|0)+(qr>>>26)|0,qr&=67108863,B[0]=mr,B[1]=xr,B[2]=Sr,B[3]=Er,B[4]=Ar,B[5]=Or,B[6]=Pr,B[7]=Ir,B[8]=Mr,B[9]=Cr,B[10]=Br,B[11]=kr,B[12]=jr,B[13]=Nr,B[14]=Tr,B[15]=Rr,B[16]=Dr,B[17]=Lr,B[18]=qr,R!==0&&(B[19]=R,f.length++),f};Math.imul||(c=u);function p(w,s,h){h.negative=s.negative^w.negative,h.length=w.length+s.length;for(var f=0,x=0,S=0;S<h.length-1;S++){var B=x;x=0;for(var R=f&67108863,j=Math.min(S,s.length-1),g=Math.max(0,S-w.length+1);g<=j;g++){var A=S-g,L=w.words[A]|0,K=s.words[g]|0,T=L*K,V=T&67108863;B=B+(T/67108864|0)|0,V=V+R|0,R=V&67108863,B=B+(V>>>26)|0,x+=B>>>26,B&=67108863}h.words[S]=R,f=B,B=x}return f!==0?h.words[S]=f:h.length--,h.strip()}function m(w,s,h){var f=new O;return f.mulp(w,s,h)}d.prototype.mulTo=function(s,h){var f,x=this.length+s.length;return this.length===10&&s.length===10?f=c(this,s,h):x<63?f=u(this,s,h):x<1024?f=p(this,s,h):f=m(this,s,h),f};function O(w,s){this.x=w,this.y=s}O.prototype.makeRBT=function(s){for(var h=new Array(s),f=d.prototype._countBits(s)-1,x=0;x<s;x++)h[x]=this.revBin(x,f,s);return h},O.prototype.revBin=function(s,h,f){if(s===0||s===f-1)return s;for(var x=0,S=0;S<h;S++)x|=(s&1)<<h-S-1,s>>=1;return x},O.prototype.permute=function(s,h,f,x,S,B){for(var R=0;R<B;R++)x[R]=h[s[R]],S[R]=f[s[R]]},O.prototype.transform=function(s,h,f,x,S,B){this.permute(B,s,h,f,x,S);for(var R=1;R<S;R<<=1)for(var j=R<<1,g=Math.cos(2*Math.PI/j),A=Math.sin(2*Math.PI/j),L=0;L<S;L+=j)for(var K=g,T=A,V=0;V<R;V++){var J=f[L+V],X=x[L+V],$=f[L+V+R],H=x[L+V+R],Q=K*$-T*H;H=K*H+T*$,$=Q,f[L+V]=J+$,x[L+V]=X+H,f[L+V+R]=J-$,x[L+V+R]=X-H,V!==j&&(Q=g*K-A*T,T=g*T+A*K,K=Q)}},O.prototype.guessLen13b=function(s,h){var f=Math.max(h,s)|1,x=f&1,S=0;for(f=f/2|0;f;f=f>>>1)S++;return 1<<S+1+x},O.prototype.conjugate=function(s,h,f){if(!(f<=1))for(var x=0;x<f/2;x++){var S=s[x];s[x]=s[f-x-1],s[f-x-1]=S,S=h[x],h[x]=-h[f-x-1],h[f-x-1]=-S}},O.prototype.normalize13b=function(s,h){for(var f=0,x=0;x<h/2;x++){var S=Math.round(s[2*x+1]/h)*8192+Math.round(s[2*x]/h)+f;s[x]=S&67108863,S<67108864?f=0:f=S/67108864|0}return s},O.prototype.convert13b=function(s,h,f,x){for(var S=0,B=0;B<h;B++)S=S+(s[B]|0),f[2*B]=S&8191,S=S>>>13,f[2*B+1]=S&8191,S=S>>>13;for(B=2*h;B<x;++B)f[B]=0;_(S===0),_((S&-8192)===0)},O.prototype.stub=function(s){for(var h=new Array(s),f=0;f<s;f++)h[f]=0;return h},O.prototype.mulp=function(s,h,f){var x=2*this.guessLen13b(s.length,h.length),S=this.makeRBT(x),B=this.stub(x),R=new Array(x),j=new Array(x),g=new Array(x),A=new Array(x),L=new Array(x),K=new Array(x),T=f.words;T.length=x,this.convert13b(s.words,s.length,R,x),this.convert13b(h.words,h.length,A,x),this.transform(R,B,j,g,x,S),this.transform(A,B,L,K,x,S);for(var V=0;V<x;V++){var J=j[V]*L[V]-g[V]*K[V];g[V]=j[V]*K[V]+g[V]*L[V],j[V]=J}return this.conjugate(j,g,x),this.transform(j,g,T,B,x,S),this.conjugate(T,B,x),this.normalize13b(T,x),f.negative=s.negative^h.negative,f.length=s.length+h.length,f.strip()},d.prototype.mul=function(s){var h=new d(null);return h.words=new Array(this.length+s.length),this.mulTo(s,h)},d.prototype.mulf=function(s){var h=new d(null);return h.words=new Array(this.length+s.length),m(this,s,h)},d.prototype.imul=function(s){return this.clone().mulTo(s,this)},d.prototype.imuln=function(s){_(typeof s=="number"),_(s<67108864);for(var h=0,f=0;f<this.length;f++){var x=(this.words[f]|0)*s,S=(x&67108863)+(h&67108863);h>>=26,h+=x/67108864|0,h+=S>>>26,this.words[f]=S&67108863}return h!==0&&(this.words[f]=h,this.length++),this.length=s===0?1:this.length,this},d.prototype.muln=function(s){return this.clone().imuln(s)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(s){var h=n(s);if(h.length===0)return new d(1);for(var f=this,x=0;x<h.length&&h[x]===0;x++,f=f.sqr());if(++x<h.length)for(var S=f.sqr();x<h.length;x++,S=S.sqr())h[x]!==0&&(f=f.mul(S));return f},d.prototype.iushln=function(s){_(typeof s=="number"&&s>=0);var h=s%26,f=(s-h)/26,x=67108863>>>26-h<<26-h,S;if(h!==0){var B=0;for(S=0;S<this.length;S++){var R=this.words[S]&x,j=(this.words[S]|0)-R<<h;this.words[S]=j|B,B=R>>>26-h}B&&(this.words[S]=B,this.length++)}if(f!==0){for(S=this.length-1;S>=0;S--)this.words[S+f]=this.words[S];for(S=0;S<f;S++)this.words[S]=0;this.length+=f}return this.strip()},d.prototype.ishln=function(s){return _(this.negative===0),this.iushln(s)},d.prototype.iushrn=function(s,h,f){_(typeof s=="number"&&s>=0);var x;h?x=(h-h%26)/26:x=0;var S=s%26,B=Math.min((s-S)/26,this.length),R=67108863^67108863>>>S<<S,j=f;if(x-=B,x=Math.max(0,x),j){for(var g=0;g<B;g++)j.words[g]=this.words[g];j.length=B}if(B!==0)if(this.length>B)for(this.length-=B,g=0;g<this.length;g++)this.words[g]=this.words[g+B];else this.words[0]=0,this.length=1;var A=0;for(g=this.length-1;g>=0&&(A!==0||g>=x);g--){var L=this.words[g]|0;this.words[g]=A<<26-S|L>>>S,A=L&R}return j&&A!==0&&(j.words[j.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function(s,h,f){return _(this.negative===0),this.iushrn(s,h,f)},d.prototype.shln=function(s){return this.clone().ishln(s)},d.prototype.ushln=function(s){return this.clone().iushln(s)},d.prototype.shrn=function(s){return this.clone().ishrn(s)},d.prototype.ushrn=function(s){return this.clone().iushrn(s)},d.prototype.testn=function(s){_(typeof s=="number"&&s>=0);var h=s%26,f=(s-h)/26,x=1<<h;if(this.length<=f)return!1;var S=this.words[f];return!!(S&x)},d.prototype.imaskn=function(s){_(typeof s=="number"&&s>=0);var h=s%26,f=(s-h)/26;if(_(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(h!==0&&f++,this.length=Math.min(f,this.length),h!==0){var x=67108863^67108863>>>h<<h;this.words[this.length-1]&=x}return this.length===0&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.maskn=function(s){return this.clone().imaskn(s)},d.prototype.iaddn=function(s){return _(typeof s=="number"),_(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},d.prototype._iaddn=function(s){this.words[0]+=s;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},d.prototype.isubn=function(s){if(_(typeof s=="number"),_(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},d.prototype.addn=function(s){return this.clone().iaddn(s)},d.prototype.subn=function(s){return this.clone().isubn(s)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(s,h,f){var x=s.length+f,S;this._expand(x);var B,R=0;for(S=0;S<s.length;S++){B=(this.words[S+f]|0)+R;var j=(s.words[S]|0)*h;B-=j&67108863,R=(B>>26)-(j/67108864|0),this.words[S+f]=B&67108863}for(;S<this.length-f;S++)B=(this.words[S+f]|0)+R,R=B>>26,this.words[S+f]=B&67108863;if(R===0)return this.strip();for(_(R===-1),R=0,S=0;S<this.length;S++)B=-(this.words[S]|0)+R,R=B>>26,this.words[S]=B&67108863;return this.negative=1,this.strip()},d.prototype._wordDiv=function(s,h){var f=this.length-s.length,x=this.clone(),S=s,B=S.words[S.length-1]|0,R=this._countBits(B);f=26-R,f!==0&&(S=S.ushln(f),x.iushln(f),B=S.words[S.length-1]|0);var j=x.length-S.length,g;if(h!=="mod"){g=new d(null),g.length=j+1,g.words=new Array(g.length);for(var A=0;A<g.length;A++)g.words[A]=0}var L=x.clone()._ishlnsubmul(S,1,j);L.negative===0&&(x=L,g&&(g.words[j]=1));for(var K=j-1;K>=0;K--){var T=(x.words[S.length+K]|0)*67108864+(x.words[S.length+K-1]|0);for(T=Math.min(T/B|0,67108863),x._ishlnsubmul(S,T,K);x.negative!==0;)T--,x.negative=0,x._ishlnsubmul(S,1,K),x.isZero()||(x.negative^=1);g&&(g.words[K]=T)}return g&&g.strip(),x.strip(),h!=="div"&&f!==0&&x.iushrn(f),{div:g||null,mod:x}},d.prototype.divmod=function(s,h,f){if(_(!s.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var x,S,B;return this.negative!==0&&s.negative===0?(B=this.neg().divmod(s,h),h!=="mod"&&(x=B.div.neg()),h!=="div"&&(S=B.mod.neg(),f&&S.negative!==0&&S.iadd(s)),{div:x,mod:S}):this.negative===0&&s.negative!==0?(B=this.divmod(s.neg(),h),h!=="mod"&&(x=B.div.neg()),{div:x,mod:B.mod}):(this.negative&s.negative)!==0?(B=this.neg().divmod(s.neg(),h),h!=="div"&&(S=B.mod.neg(),f&&S.negative!==0&&S.isub(s)),{div:B.div,mod:S}):s.length>this.length||this.cmp(s)<0?{div:new d(0),mod:this}:s.length===1?h==="div"?{div:this.divn(s.words[0]),mod:null}:h==="mod"?{div:null,mod:new d(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new d(this.modn(s.words[0]))}:this._wordDiv(s,h)},d.prototype.div=function(s){return this.divmod(s,"div",!1).div},d.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},d.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},d.prototype.divRound=function(s){var h=this.divmod(s);if(h.mod.isZero())return h.div;var f=h.div.negative!==0?h.mod.isub(s):h.mod,x=s.ushrn(1),S=s.andln(1),B=f.cmp(x);return B<0||S===1&&B===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},d.prototype.modn=function(s){_(s<=67108863);for(var h=(1<<26)%s,f=0,x=this.length-1;x>=0;x--)f=(h*f+(this.words[x]|0))%s;return f},d.prototype.idivn=function(s){_(s<=67108863);for(var h=0,f=this.length-1;f>=0;f--){var x=(this.words[f]|0)+h*67108864;this.words[f]=x/s|0,h=x%s}return this.strip()},d.prototype.divn=function(s){return this.clone().idivn(s)},d.prototype.egcd=function(s){_(s.negative===0),_(!s.isZero());var h=this,f=s.clone();h.negative!==0?h=h.umod(s):h=h.clone();for(var x=new d(1),S=new d(0),B=new d(0),R=new d(1),j=0;h.isEven()&&f.isEven();)h.iushrn(1),f.iushrn(1),++j;for(var g=f.clone(),A=h.clone();!h.isZero();){for(var L=0,K=1;(h.words[0]&K)===0&&L<26;++L,K<<=1);if(L>0)for(h.iushrn(L);L-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(g),S.isub(A)),x.iushrn(1),S.iushrn(1);for(var T=0,V=1;(f.words[0]&V)===0&&T<26;++T,V<<=1);if(T>0)for(f.iushrn(T);T-- >0;)(B.isOdd()||R.isOdd())&&(B.iadd(g),R.isub(A)),B.iushrn(1),R.iushrn(1);h.cmp(f)>=0?(h.isub(f),x.isub(B),S.isub(R)):(f.isub(h),B.isub(x),R.isub(S))}return{a:B,b:R,gcd:f.iushln(j)}},d.prototype._invmp=function(s){_(s.negative===0),_(!s.isZero());var h=this,f=s.clone();h.negative!==0?h=h.umod(s):h=h.clone();for(var x=new d(1),S=new d(0),B=f.clone();h.cmpn(1)>0&&f.cmpn(1)>0;){for(var R=0,j=1;(h.words[0]&j)===0&&R<26;++R,j<<=1);if(R>0)for(h.iushrn(R);R-- >0;)x.isOdd()&&x.iadd(B),x.iushrn(1);for(var g=0,A=1;(f.words[0]&A)===0&&g<26;++g,A<<=1);if(g>0)for(f.iushrn(g);g-- >0;)S.isOdd()&&S.iadd(B),S.iushrn(1);h.cmp(f)>=0?(h.isub(f),x.isub(S)):(f.isub(h),S.isub(x))}var L;return h.cmpn(1)===0?L=x:L=S,L.cmpn(0)<0&&L.iadd(s),L},d.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var h=this.clone(),f=s.clone();h.negative=0,f.negative=0;for(var x=0;h.isEven()&&f.isEven();x++)h.iushrn(1),f.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;f.isEven();)f.iushrn(1);var S=h.cmp(f);if(S<0){var B=h;h=f,f=B}else if(S===0||f.cmpn(1)===0)break;h.isub(f)}while(!0);return f.iushln(x)},d.prototype.invm=function(s){return this.egcd(s).a.umod(s)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(s){return this.words[0]&s},d.prototype.bincn=function(s){_(typeof s=="number");var h=s%26,f=(s-h)/26,x=1<<h;if(this.length<=f)return this._expand(f+1),this.words[f]|=x,this;for(var S=x,B=f;S!==0&&B<this.length;B++){var R=this.words[B]|0;R+=S,S=R>>>26,R&=67108863,this.words[B]=R}return S!==0&&(this.words[B]=S,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(s){var h=s<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var f;if(this.length>1)f=1;else{h&&(s=-s),_(s<=67108863,"Number is too big");var x=this.words[0]|0;f=x===s?0:x<s?-1:1}return this.negative!==0?-f|0:f},d.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var h=this.ucmp(s);return this.negative!==0?-h|0:h},d.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var h=0,f=this.length-1;f>=0;f--){var x=this.words[f]|0,S=s.words[f]|0;if(x!==S){x<S?h=-1:x>S&&(h=1);break}}return h},d.prototype.gtn=function(s){return this.cmpn(s)===1},d.prototype.gt=function(s){return this.cmp(s)===1},d.prototype.gten=function(s){return this.cmpn(s)>=0},d.prototype.gte=function(s){return this.cmp(s)>=0},d.prototype.ltn=function(s){return this.cmpn(s)===-1},d.prototype.lt=function(s){return this.cmp(s)===-1},d.prototype.lten=function(s){return this.cmpn(s)<=0},d.prototype.lte=function(s){return this.cmp(s)<=0},d.prototype.eqn=function(s){return this.cmpn(s)===0},d.prototype.eq=function(s){return this.cmp(s)===0},d.red=function(s){return new F(s)},d.prototype.toRed=function(s){return _(!this.red,"Already a number in reduction context"),_(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},d.prototype.fromRed=function(){return _(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(s){return this.red=s,this},d.prototype.forceRed=function(s){return _(!this.red,"Already a number in reduction context"),this._forceRed(s)},d.prototype.redAdd=function(s){return _(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},d.prototype.redIAdd=function(s){return _(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},d.prototype.redSub=function(s){return _(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},d.prototype.redISub=function(s){return _(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},d.prototype.redShl=function(s){return _(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},d.prototype.redMul=function(s){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},d.prototype.redIMul=function(s){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},d.prototype.redSqr=function(){return _(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return _(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return _(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return _(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return _(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(s){return _(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var I={k256:null,p224:null,p192:null,p25519:null};function C(w,s){this.name=w,this.p=new d(s,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var s=new d(null);return s.words=new Array(Math.ceil(this.n/13)),s},C.prototype.ireduce=function(s){var h=s,f;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),f=h.bitLength();while(f>this.n);var x=f<this.n?-1:h.ucmp(this.p);return x===0?(h.words[0]=0,h.length=1):x>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},C.prototype.split=function(s,h){s.iushrn(this.n,0,h)},C.prototype.imulK=function(s){return s.imul(this.k)};function k(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}y(k,C),k.prototype.split=function(s,h){for(var f=4194303,x=Math.min(s.length,9),S=0;S<x;S++)h.words[S]=s.words[S];if(h.length=x,s.length<=9){s.words[0]=0,s.length=1;return}var B=s.words[9];for(h.words[h.length++]=B&f,S=10;S<s.length;S++){var R=s.words[S]|0;s.words[S-10]=(R&f)<<4|B>>>22,B=R}B>>>=22,s.words[S-10]=B,B===0&&s.length>10?s.length-=10:s.length-=9},k.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var h=0,f=0;f<s.length;f++){var x=s.words[f]|0;h+=x*977,s.words[f]=h&67108863,h=x*64+(h/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function D(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}y(D,C);function G(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}y(G,C);function z(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}y(z,C),z.prototype.imulK=function(s){for(var h=0,f=0;f<s.length;f++){var x=(s.words[f]|0)*19+h,S=x&67108863;x>>>=26,s.words[f]=S,h=x}return h!==0&&(s.words[s.length++]=h),s},d._prime=function(s){if(I[s])return I[s];var h;if(s==="k256")h=new k;else if(s==="p224")h=new D;else if(s==="p192")h=new G;else if(s==="p25519")h=new z;else throw new Error("Unknown prime "+s);return I[s]=h,h};function F(w){if(typeof w=="string"){var s=d._prime(w);this.m=s.p,this.prime=s}else _(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}F.prototype._verify1=function(s){_(s.negative===0,"red works only with positives"),_(s.red,"red works only with red numbers")},F.prototype._verify2=function(s,h){_((s.negative|h.negative)===0,"red works only with positives"),_(s.red&&s.red===h.red,"red works only with red numbers")},F.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},F.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},F.prototype.add=function(s,h){this._verify2(s,h);var f=s.add(h);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},F.prototype.iadd=function(s,h){this._verify2(s,h);var f=s.iadd(h);return f.cmp(this.m)>=0&&f.isub(this.m),f},F.prototype.sub=function(s,h){this._verify2(s,h);var f=s.sub(h);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},F.prototype.isub=function(s,h){this._verify2(s,h);var f=s.isub(h);return f.cmpn(0)<0&&f.iadd(this.m),f},F.prototype.shl=function(s,h){return this._verify1(s),this.imod(s.ushln(h))},F.prototype.imul=function(s,h){return this._verify2(s,h),this.imod(s.imul(h))},F.prototype.mul=function(s,h){return this._verify2(s,h),this.imod(s.mul(h))},F.prototype.isqr=function(s){return this.imul(s,s.clone())},F.prototype.sqr=function(s){return this.mul(s,s)},F.prototype.sqrt=function(s){if(s.isZero())return s.clone();var h=this.m.andln(3);if(_(h%2===1),h===3){var f=this.m.add(new d(1)).iushrn(2);return this.pow(s,f)}for(var x=this.m.subn(1),S=0;!x.isZero()&&x.andln(1)===0;)S++,x.iushrn(1);_(!x.isZero());var B=new d(1).toRed(this),R=B.redNeg(),j=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new d(2*g*g).toRed(this);this.pow(g,j).cmp(R)!==0;)g.redIAdd(R);for(var A=this.pow(g,x),L=this.pow(s,x.addn(1).iushrn(1)),K=this.pow(s,x),T=S;K.cmp(B)!==0;){for(var V=K,J=0;V.cmp(B)!==0;J++)V=V.redSqr();_(J<T);var X=this.pow(A,new d(1).iushln(T-J-1));L=L.redMul(X),A=X.redSqr(),K=K.redMul(A),T=J}return L},F.prototype.invm=function(s){var h=s._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},F.prototype.pow=function(s,h){if(h.isZero())return new d(1).toRed(this);if(h.cmpn(1)===0)return s.clone();var f=4,x=new Array(1<<f);x[0]=new d(1).toRed(this),x[1]=s;for(var S=2;S<x.length;S++)x[S]=this.mul(x[S-1],s);var B=x[0],R=0,j=0,g=h.bitLength()%26;for(g===0&&(g=26),S=h.length-1;S>=0;S--){for(var A=h.words[S],L=g-1;L>=0;L--){var K=A>>L&1;if(B!==x[0]&&(B=this.sqr(B)),K===0&&R===0){j=0;continue}R<<=1,R|=K,j++,!(j!==f&&(S!==0||L!==0))&&(B=this.mul(B,x[R]),j=0,R=0)}g=26}return B},F.prototype.convertTo=function(s){var h=s.umod(this.m);return h===s?h.clone():h},F.prototype.convertFrom=function(s){var h=s.clone();return h.red=null,h},d.mont=function(s){return new U(s)};function U(w){F.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y(U,F),U.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},U.prototype.convertFrom=function(s){var h=this.imod(s.mul(this.rinv));return h.red=null,h},U.prototype.imul=function(s,h){if(s.isZero()||h.isZero())return s.words[0]=0,s.length=1,s;var f=s.imul(h),x=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=f.isub(x).iushrn(this.shift),B=S;return S.cmp(this.m)>=0?B=S.isub(this.m):S.cmpn(0)<0&&(B=S.iadd(this.m)),B._forceRed(this)},U.prototype.mul=function(s,h){if(s.isZero()||h.isZero())return new d(0)._forceRed(this);var f=s.mul(h),x=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=f.isub(x).iushrn(this.shift),B=S;return S.cmp(this.m)>=0?B=S.isub(this.m):S.cmpn(0)<0&&(B=S.iadd(this.m)),B._forceRed(this)},U.prototype.invm=function(s){var h=this.imod(s._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(l,Nf)})(pr)),pr.exports}var nn,ro;function Ot(){if(ro)return nn;ro=1,nn=l;function l(v,E){if(!v)throw new Error(E||"Assertion failed")}return l.equal=function(E,_,y){if(E!=_)throw new Error(y||"Assertion failed: "+E+" != "+_)},nn}var an={},no;function ou(){return no||(no=1,(function(l){var v=l;function E(d,b){if(Array.isArray(d))return d.slice();if(!d)return[];var o=[];if(typeof d!="string"){for(var r=0;r<d.length;r++)o[r]=d[r]|0;return o}if(b==="hex"){d=d.replace(/[^a-z0-9]+/ig,""),d.length%2!==0&&(d="0"+d);for(var r=0;r<d.length;r+=2)o.push(parseInt(d[r]+d[r+1],16))}else for(var r=0;r<d.length;r++){var t=d.charCodeAt(r),e=t>>8,a=t&255;e?o.push(e,a):o.push(a)}return o}v.toArray=E;function _(d){return d.length===1?"0"+d:d}v.zero2=_;function y(d){for(var b="",o=0;o<d.length;o++)b+=_(d[o].toString(16));return b}v.toHex=y,v.encode=function(b,o){return o==="hex"?y(b):b}})(an)),an}var io;function Ye(){return io||(io=1,(function(l){var v=l,E=ft(),_=Ot(),y=ou();v.assert=_,v.toArray=y.toArray,v.zero2=y.zero2,v.toHex=y.toHex,v.encode=y.encode;function d(e,a,i){var n=new Array(Math.max(e.bitLength(),i)+1),u;for(u=0;u<n.length;u+=1)n[u]=0;var c=1<<a+1,p=e.clone();for(u=0;u<n.length;u++){var m,O=p.andln(c-1);p.isOdd()?(O>(c>>1)-1?m=(c>>1)-O:m=O,p.isubn(m)):m=0,n[u]=m,p.iushrn(1)}return n}v.getNAF=d;function b(e,a){var i=[[],[]];e=e.clone(),a=a.clone();for(var n=0,u=0,c;e.cmpn(-n)>0||a.cmpn(-u)>0;){var p=e.andln(3)+n&3,m=a.andln(3)+u&3;p===3&&(p=-1),m===3&&(m=-1);var O;(p&1)===0?O=0:(c=e.andln(7)+n&7,(c===3||c===5)&&m===2?O=-p:O=p),i[0].push(O);var I;(m&1)===0?I=0:(c=a.andln(7)+u&7,(c===3||c===5)&&p===2?I=-m:I=m),i[1].push(I),2*n===O+1&&(n=1-n),2*u===I+1&&(u=1-u),e.iushrn(1),a.iushrn(1)}return i}v.getJSF=b;function o(e,a,i){var n="_"+a;e.prototype[a]=function(){return this[n]!==void 0?this[n]:this[n]=i.call(this)}}v.cachedProperty=o;function r(e){return typeof e=="string"?v.toArray(e,"hex"):e}v.parseBytes=r;function t(e){return new E(e,"hex","le")}v.intFromLE=t})(rn)),rn}var ir={exports:{}},ao;function su(){if(ao)return ir.exports;ao=1;var l;ir.exports=function(y){return l||(l=new v(null)),l.generate(y)};function v(_){this.rand=_}if(ir.exports.Rand=v,v.prototype.generate=function(y){return this._rand(y)},v.prototype._rand=function(y){if(this.rand.getBytes)return this.rand.getBytes(y);for(var d=new Uint8Array(y),b=0;b<d.length;b++)d[b]=this.rand.getByte();return d},typeof self=="object")self.crypto&&self.crypto.getRandomValues?v.prototype._rand=function(y){var d=new Uint8Array(y);return self.crypto.getRandomValues(d),d}:self.msCrypto&&self.msCrypto.getRandomValues?v.prototype._rand=function(y){var d=new Uint8Array(y);return self.msCrypto.getRandomValues(d),d}:typeof window=="object"&&(v.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var E=oa;if(typeof E.randomBytes!="function")throw new Error("Not supported");v.prototype._rand=function(y){return E.randomBytes(y)}}catch{}return ir.exports}var on={},sn,oo;function _r(){if(oo)return sn;oo=1;var l=ft(),v=Ye(),E=v.getNAF,_=v.getJSF,y=v.assert;function d(o,r){this.type=o,this.p=new l(r.p,16),this.red=r.prime?l.red(r.prime):l.mont(this.p),this.zero=new l(0).toRed(this.red),this.one=new l(1).toRed(this.red),this.two=new l(2).toRed(this.red),this.n=r.n&&new l(r.n,16),this.g=r.g&&this.pointFromJSON(r.g,r.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}sn=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(r,t){y(r.precomputed);var e=r._getDoubles(),a=E(t,1,this._bitLength),i=(1<<e.step+1)-(e.step%2===0?2:1);i/=3;var n=[],u,c;for(u=0;u<a.length;u+=e.step){c=0;for(var p=u+e.step-1;p>=u;p--)c=(c<<1)+a[p];n.push(c)}for(var m=this.jpoint(null,null,null),O=this.jpoint(null,null,null),I=i;I>0;I--){for(u=0;u<n.length;u++)c=n[u],c===I?O=O.mixedAdd(e.points[u]):c===-I&&(O=O.mixedAdd(e.points[u].neg()));m=m.add(O)}return m.toP()},d.prototype._wnafMul=function(r,t){var e=4,a=r._getNAFPoints(e);e=a.wnd;for(var i=a.points,n=E(t,e,this._bitLength),u=this.jpoint(null,null,null),c=n.length-1;c>=0;c--){for(var p=0;c>=0&&n[c]===0;c--)p++;if(c>=0&&p++,u=u.dblp(p),c<0)break;var m=n[c];y(m!==0),r.type==="affine"?m>0?u=u.mixedAdd(i[m-1>>1]):u=u.mixedAdd(i[-m-1>>1].neg()):m>0?u=u.add(i[m-1>>1]):u=u.add(i[-m-1>>1].neg())}return r.type==="affine"?u.toP():u},d.prototype._wnafMulAdd=function(r,t,e,a,i){var n=this._wnafT1,u=this._wnafT2,c=this._wnafT3,p=0,m,O,I;for(m=0;m<a;m++){I=t[m];var C=I._getNAFPoints(r);n[m]=C.wnd,u[m]=C.points}for(m=a-1;m>=1;m-=2){var k=m-1,D=m;if(n[k]!==1||n[D]!==1){c[k]=E(e[k],n[k],this._bitLength),c[D]=E(e[D],n[D],this._bitLength),p=Math.max(c[k].length,p),p=Math.max(c[D].length,p);continue}var G=[t[k],null,null,t[D]];t[k].y.cmp(t[D].y)===0?(G[1]=t[k].add(t[D]),G[2]=t[k].toJ().mixedAdd(t[D].neg())):t[k].y.cmp(t[D].y.redNeg())===0?(G[1]=t[k].toJ().mixedAdd(t[D]),G[2]=t[k].add(t[D].neg())):(G[1]=t[k].toJ().mixedAdd(t[D]),G[2]=t[k].toJ().mixedAdd(t[D].neg()));var z=[-3,-1,-5,-7,0,7,5,1,3],F=_(e[k],e[D]);for(p=Math.max(F[0].length,p),c[k]=new Array(p),c[D]=new Array(p),O=0;O<p;O++){var U=F[0][O]|0,w=F[1][O]|0;c[k][O]=z[(U+1)*3+(w+1)],c[D][O]=0,u[k]=G}}var s=this.jpoint(null,null,null),h=this._wnafT4;for(m=p;m>=0;m--){for(var f=0;m>=0;){var x=!0;for(O=0;O<a;O++)h[O]=c[O][m]|0,h[O]!==0&&(x=!1);if(!x)break;f++,m--}if(m>=0&&f++,s=s.dblp(f),m<0)break;for(O=0;O<a;O++){var S=h[O];S!==0&&(S>0?I=u[O][S-1>>1]:S<0&&(I=u[O][-S-1>>1].neg()),I.type==="affine"?s=s.mixedAdd(I):s=s.add(I))}}for(m=0;m<a;m++)u[m]=null;return i?s:s.toP()};function b(o,r){this.curve=o,this.type=r,this.precomputed=null}return d.BasePoint=b,b.prototype.eq=function(){throw new Error("Not implemented")},b.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(r,t){r=v.toArray(r,t);var e=this.p.byteLength();if((r[0]===4||r[0]===6||r[0]===7)&&r.length-1===2*e){r[0]===6?y(r[r.length-1]%2===0):r[0]===7&&y(r[r.length-1]%2===1);var a=this.point(r.slice(1,1+e),r.slice(1+e,1+2*e));return a}else if((r[0]===2||r[0]===3)&&r.length-1===e)return this.pointFromX(r.slice(1,1+e),r[0]===3);throw new Error("Unknown point format")},b.prototype.encodeCompressed=function(r){return this.encode(r,!0)},b.prototype._encode=function(r){var t=this.curve.p.byteLength(),e=this.getX().toArray("be",t);return r?[this.getY().isEven()?2:3].concat(e):[4].concat(e,this.getY().toArray("be",t))},b.prototype.encode=function(r,t){return v.encode(this._encode(t),r)},b.prototype.precompute=function(r){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,r),t.beta=this._getBeta(),this.precomputed=t,this},b.prototype._hasDoubles=function(r){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((r.bitLength()+1)/t.step):!1},b.prototype._getDoubles=function(r,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var e=[this],a=this,i=0;i<t;i+=r){for(var n=0;n<r;n++)a=a.dbl();e.push(a)}return{step:r,points:e}},b.prototype._getNAFPoints=function(r){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],e=(1<<r)-1,a=e===1?null:this.dbl(),i=1;i<e;i++)t[i]=t[i-1].add(a);return{wnd:r,points:t}},b.prototype._getBeta=function(){return null},b.prototype.dblp=function(r){for(var t=this,e=0;e<r;e++)t=t.dbl();return t},sn}var ar={exports:{}},so;function gr(){return so||(so=1,typeof Object.create=="function"?ar.exports=function(v,E){E&&(v.super_=E,v.prototype=Object.create(E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}))}:ar.exports=function(v,E){if(E){v.super_=E;var _=function(){};_.prototype=E.prototype,v.prototype=new _,v.prototype.constructor=v}}),ar.exports}var cn,co;function Tf(){if(co)return cn;co=1;var l=Ye(),v=ft(),E=gr(),_=_r(),y=l.assert;function d(r){_.call(this,"short",r),this.a=new v(r.a,16).toRed(this.red),this.b=new v(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}E(d,_),cn=d,d.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var e,a;if(t.beta)e=new v(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=i[0].cmp(i[1])<0?i[0]:i[1],e=e.toRed(this.red)}if(t.lambda)a=new v(t.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(e))===0?a=n[0]:(a=n[1],y(this.g.mul(a).x.cmp(this.g.x.redMul(e))===0))}var u;return t.basis?u=t.basis.map(function(c){return{a:new v(c.a,16),b:new v(c.b,16)}}):u=this._getEndoBasis(a),{beta:e,lambda:a,basis:u}}},d.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:v.mont(t),a=new v(2).toRed(e).redInvm(),i=a.redNeg(),n=new v(3).toRed(e).redNeg().redSqrt().redMul(a),u=i.redAdd(n).fromRed(),c=i.redSub(n).fromRed();return[u,c]},d.prototype._getEndoBasis=function(t){for(var e=this.n.ushrn(Math.floor(this.n.bitLength()/2)),a=t,i=this.n.clone(),n=new v(1),u=new v(0),c=new v(0),p=new v(1),m,O,I,C,k,D,G,z=0,F,U;a.cmpn(0)!==0;){var w=i.div(a);F=i.sub(w.mul(a)),U=c.sub(w.mul(n));var s=p.sub(w.mul(u));if(!I&&F.cmp(e)<0)m=G.neg(),O=n,I=F.neg(),C=U;else if(I&&++z===2)break;G=F,i=a,a=F,c=n,n=U,p=u,u=s}k=F.neg(),D=U;var h=I.sqr().add(C.sqr()),f=k.sqr().add(D.sqr());return f.cmp(h)>=0&&(k=m,D=O),I.negative&&(I=I.neg(),C=C.neg()),k.negative&&(k=k.neg(),D=D.neg()),[{a:I,b:C},{a:k,b:D}]},d.prototype._endoSplit=function(t){var e=this.endo.basis,a=e[0],i=e[1],n=i.b.mul(t).divRound(this.n),u=a.b.neg().mul(t).divRound(this.n),c=n.mul(a.a),p=u.mul(i.a),m=n.mul(a.b),O=u.mul(i.b),I=t.sub(c).sub(p),C=m.add(O).neg();return{k1:I,k2:C}},d.prototype.pointFromX=function(t,e){t=new v(t,16),t.red||(t=t.toRed(this.red));var a=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=a.redSqrt();if(i.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(e&&!n||!e&&n)&&(i=i.redNeg()),this.point(t,i)},d.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,a=t.y,i=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return a.redSqr().redISub(n).cmpn(0)===0},d.prototype._endoWnafMulAdd=function(t,e,a){for(var i=this._endoWnafT1,n=this._endoWnafT2,u=0;u<t.length;u++){var c=this._endoSplit(e[u]),p=t[u],m=p._getBeta();c.k1.negative&&(c.k1.ineg(),p=p.neg(!0)),c.k2.negative&&(c.k2.ineg(),m=m.neg(!0)),i[u*2]=p,i[u*2+1]=m,n[u*2]=c.k1,n[u*2+1]=c.k2}for(var O=this._wnafMulAdd(1,i,n,u*2,a),I=0;I<u*2;I++)i[I]=null,n[I]=null;return O};function b(r,t,e,a){_.BasePoint.call(this,r,"affine"),t===null&&e===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new v(t,16),this.y=new v(e,16),a&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}E(b,_.BasePoint),d.prototype.point=function(t,e,a){return new b(this,t,e,a)},d.prototype.pointFromJSON=function(t,e){return b.fromJSON(this,t,e)},b.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var a=this.curve,i=function(n){return a.point(n.x.redMul(a.endo.beta),n.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},b.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},b.fromJSON=function(t,e,a){typeof e=="string"&&(e=JSON.parse(e));var i=t.point(e[0],e[1],a);if(!e[2])return i;function n(c){return t.point(c[0],c[1],a)}var u=e[2];return i.precomputed={beta:null,doubles:u.doubles&&{step:u.doubles.step,points:[i].concat(u.doubles.points.map(n))},naf:u.naf&&{wnd:u.naf.wnd,points:[i].concat(u.naf.points.map(n))}},i},b.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},b.prototype.isInfinity=function(){return this.inf},b.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var e=this.y.redSub(t.y);e.cmpn(0)!==0&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var a=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,i)},b.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var e=this.curve.a,a=this.x.redSqr(),i=t.redInvm(),n=a.redAdd(a).redIAdd(a).redIAdd(e).redMul(i),u=n.redSqr().redISub(this.x.redAdd(this.x)),c=n.redMul(this.x.redSub(u)).redISub(this.y);return this.curve.point(u,c)},b.prototype.getX=function(){return this.x.fromRed()},b.prototype.getY=function(){return this.y.fromRed()},b.prototype.mul=function(t){return t=new v(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},b.prototype.mulAdd=function(t,e,a){var i=[this,e],n=[t,a];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},b.prototype.jmulAdd=function(t,e,a){var i=[this,e],n=[t,a];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},b.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)},b.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var a=this.precomputed,i=function(n){return n.neg()};e.precomputed={naf:a.naf&&{wnd:a.naf.wnd,points:a.naf.points.map(i)},doubles:a.doubles&&{step:a.doubles.step,points:a.doubles.points.map(i)}}}return e},b.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function o(r,t,e,a){_.BasePoint.call(this,r,"jacobian"),t===null&&e===null&&a===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new v(0)):(this.x=new v(t,16),this.y=new v(e,16),this.z=new v(a,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return E(o,_.BasePoint),d.prototype.jpoint=function(t,e,a){return new o(this,t,e,a)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),a=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(a,i)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),a=this.z.redSqr(),i=this.x.redMul(e),n=t.x.redMul(a),u=this.y.redMul(e.redMul(t.z)),c=t.y.redMul(a.redMul(this.z)),p=i.redSub(n),m=u.redSub(c);if(p.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var O=p.redSqr(),I=O.redMul(p),C=i.redMul(O),k=m.redSqr().redIAdd(I).redISub(C).redISub(C),D=m.redMul(C.redISub(k)).redISub(u.redMul(I)),G=this.z.redMul(t.z).redMul(p);return this.curve.jpoint(k,D,G)},o.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),a=this.x,i=t.x.redMul(e),n=this.y,u=t.y.redMul(e).redMul(this.z),c=a.redSub(i),p=n.redSub(u);if(c.cmpn(0)===0)return p.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=c.redSqr(),O=m.redMul(c),I=a.redMul(m),C=p.redSqr().redIAdd(O).redISub(I).redISub(I),k=p.redMul(I.redISub(C)).redISub(n.redMul(O)),D=this.z.redMul(c);return this.curve.jpoint(C,k,D)},o.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var a=this;for(e=0;e<t;e++)a=a.dbl();return a}var i=this.curve.a,n=this.curve.tinv,u=this.x,c=this.y,p=this.z,m=p.redSqr().redSqr(),O=c.redAdd(c);for(e=0;e<t;e++){var I=u.redSqr(),C=O.redSqr(),k=C.redSqr(),D=I.redAdd(I).redIAdd(I).redIAdd(i.redMul(m)),G=u.redMul(C),z=D.redSqr().redISub(G.redAdd(G)),F=G.redISub(z),U=D.redMul(F);U=U.redIAdd(U).redISub(k);var w=O.redMul(p);e+1<t&&(m=m.redMul(k)),u=z,p=w,O=U}return this.curve.jpoint(u,O.redMul(n),p)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var t,e,a;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),u=n.redSqr(),c=this.x.redAdd(n).redSqr().redISub(i).redISub(u);c=c.redIAdd(c);var p=i.redAdd(i).redIAdd(i),m=p.redSqr().redISub(c).redISub(c),O=u.redIAdd(u);O=O.redIAdd(O),O=O.redIAdd(O),t=m,e=p.redMul(c.redISub(m)).redISub(O),a=this.y.redAdd(this.y)}else{var I=this.x.redSqr(),C=this.y.redSqr(),k=C.redSqr(),D=this.x.redAdd(C).redSqr().redISub(I).redISub(k);D=D.redIAdd(D);var G=I.redAdd(I).redIAdd(I),z=G.redSqr(),F=k.redIAdd(k);F=F.redIAdd(F),F=F.redIAdd(F),t=z.redISub(D).redISub(D),e=G.redMul(D.redISub(t)).redISub(F),a=this.y.redMul(this.z),a=a.redIAdd(a)}return this.curve.jpoint(t,e,a)},o.prototype._threeDbl=function(){var t,e,a;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),u=n.redSqr(),c=this.x.redAdd(n).redSqr().redISub(i).redISub(u);c=c.redIAdd(c);var p=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),m=p.redSqr().redISub(c).redISub(c);t=m;var O=u.redIAdd(u);O=O.redIAdd(O),O=O.redIAdd(O),e=p.redMul(c.redISub(m)).redISub(O),a=this.y.redAdd(this.y)}else{var I=this.z.redSqr(),C=this.y.redSqr(),k=this.x.redMul(C),D=this.x.redSub(I).redMul(this.x.redAdd(I));D=D.redAdd(D).redIAdd(D);var G=k.redIAdd(k);G=G.redIAdd(G);var z=G.redAdd(G);t=D.redSqr().redISub(z),a=this.y.redAdd(this.z).redSqr().redISub(C).redISub(I);var F=C.redSqr();F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F),e=D.redMul(G.redISub(t)).redISub(F)}return this.curve.jpoint(t,e,a)},o.prototype._dbl=function(){var t=this.curve.a,e=this.x,a=this.y,i=this.z,n=i.redSqr().redSqr(),u=e.redSqr(),c=a.redSqr(),p=u.redAdd(u).redIAdd(u).redIAdd(t.redMul(n)),m=e.redAdd(e);m=m.redIAdd(m);var O=m.redMul(c),I=p.redSqr().redISub(O.redAdd(O)),C=O.redISub(I),k=c.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var D=p.redMul(C).redISub(k),G=a.redAdd(a).redMul(i);return this.curve.jpoint(I,D,G)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),a=this.z.redSqr(),i=e.redSqr(),n=t.redAdd(t).redIAdd(t),u=n.redSqr(),c=this.x.redAdd(e).redSqr().redISub(t).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(u);var p=c.redSqr(),m=i.redIAdd(i);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var O=n.redIAdd(c).redSqr().redISub(u).redISub(p).redISub(m),I=e.redMul(O);I=I.redIAdd(I),I=I.redIAdd(I);var C=this.x.redMul(p).redISub(I);C=C.redIAdd(C),C=C.redIAdd(C);var k=this.y.redMul(O.redMul(m.redISub(O)).redISub(c.redMul(p)));k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var D=this.z.redAdd(c).redSqr().redISub(a).redISub(p);return this.curve.jpoint(C,k,D)},o.prototype.mul=function(t,e){return t=new v(t,e),this.curve._wnafMul(this,t)},o.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),a=t.z.redSqr();if(this.x.redMul(a).redISub(t.x.redMul(e)).cmpn(0)!==0)return!1;var i=e.redMul(this.z),n=a.redMul(t.z);return this.y.redMul(n).redISub(t.y.redMul(i)).cmpn(0)===0},o.prototype.eqXToP=function(t){var e=this.z.redSqr(),a=t.toRed(this.curve.red).redMul(e);if(this.x.cmp(a)===0)return!0;for(var i=t.clone(),n=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(a.redIAdd(n),this.x.cmp(a)===0)return!0}},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0},cn}var un,uo;function Rf(){if(uo)return un;uo=1;var l=ft(),v=gr(),E=_r(),_=Ye();function y(b){E.call(this,"mont",b),this.a=new l(b.a,16).toRed(this.red),this.b=new l(b.b,16).toRed(this.red),this.i4=new l(4).toRed(this.red).redInvm(),this.two=new l(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}v(y,E),un=y,y.prototype.validate=function(o){var r=o.normalize().x,t=r.redSqr(),e=t.redMul(r).redAdd(t.redMul(this.a)).redAdd(r),a=e.redSqrt();return a.redSqr().cmp(e)===0};function d(b,o,r){E.BasePoint.call(this,b,"projective"),o===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new l(o,16),this.z=new l(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return v(d,E.BasePoint),y.prototype.decodePoint=function(o,r){return this.point(_.toArray(o,r),1)},y.prototype.point=function(o,r){return new d(this,o,r)},y.prototype.pointFromJSON=function(o){return d.fromJSON(this,o)},d.prototype.precompute=function(){},d.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},d.fromJSON=function(o,r){return new d(o,r[0],r[1]||o.one)},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0},d.prototype.dbl=function(){var o=this.x.redAdd(this.z),r=o.redSqr(),t=this.x.redSub(this.z),e=t.redSqr(),a=r.redSub(e),i=r.redMul(e),n=a.redMul(e.redAdd(this.curve.a24.redMul(a)));return this.curve.point(i,n)},d.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.diffAdd=function(o,r){var t=this.x.redAdd(this.z),e=this.x.redSub(this.z),a=o.x.redAdd(o.z),i=o.x.redSub(o.z),n=i.redMul(t),u=a.redMul(e),c=r.z.redMul(n.redAdd(u).redSqr()),p=r.x.redMul(n.redISub(u).redSqr());return this.curve.point(c,p)},d.prototype.mul=function(o){for(var r=o.clone(),t=this,e=this.curve.point(null,null),a=this,i=[];r.cmpn(0)!==0;r.iushrn(1))i.push(r.andln(1));for(var n=i.length-1;n>=0;n--)i[n]===0?(t=t.diffAdd(e,a),e=e.dbl()):(e=t.diffAdd(e,a),t=t.dbl());return e},d.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.eq=function(o){return this.getX().cmp(o.getX())===0},d.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},un}var fn,fo;function Df(){if(fo)return fn;fo=1;var l=Ye(),v=ft(),E=gr(),_=_r(),y=l.assert;function d(o){this.twisted=(o.a|0)!==1,this.mOneA=this.twisted&&(o.a|0)===-1,this.extended=this.mOneA,_.call(this,"edwards",o),this.a=new v(o.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new v(o.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new v(o.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),y(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(o.c|0)===1}E(d,_),fn=d,d.prototype._mulA=function(r){return this.mOneA?r.redNeg():this.a.redMul(r)},d.prototype._mulC=function(r){return this.oneC?r:this.c.redMul(r)},d.prototype.jpoint=function(r,t,e,a){return this.point(r,t,e,a)},d.prototype.pointFromX=function(r,t){r=new v(r,16),r.red||(r=r.toRed(this.red));var e=r.redSqr(),a=this.c2.redSub(this.a.redMul(e)),i=this.one.redSub(this.c2.redMul(this.d).redMul(e)),n=a.redMul(i.redInvm()),u=n.redSqrt();if(u.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var c=u.fromRed().isOdd();return(t&&!c||!t&&c)&&(u=u.redNeg()),this.point(r,u)},d.prototype.pointFromY=function(r,t){r=new v(r,16),r.red||(r=r.toRed(this.red));var e=r.redSqr(),a=e.redSub(this.c2),i=e.redMul(this.d).redMul(this.c2).redSub(this.a),n=a.redMul(i.redInvm());if(n.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,r)}var u=n.redSqrt();if(u.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");return u.fromRed().isOdd()!==t&&(u=u.redNeg()),this.point(u,r)},d.prototype.validate=function(r){if(r.isInfinity())return!0;r.normalize();var t=r.x.redSqr(),e=r.y.redSqr(),a=t.redMul(this.a).redAdd(e),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(e)));return a.cmp(i)===0};function b(o,r,t,e,a){_.BasePoint.call(this,o,"projective"),r===null&&t===null&&e===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new v(r,16),this.y=new v(t,16),this.z=e?new v(e,16):this.curve.one,this.t=a&&new v(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return E(b,_.BasePoint),d.prototype.pointFromJSON=function(r){return b.fromJSON(this,r)},d.prototype.point=function(r,t,e,a){return new b(this,r,t,e,a)},b.fromJSON=function(r,t){return new b(r,t[0],t[1],t[2])},b.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},b.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},b.prototype._extDbl=function(){var r=this.x.redSqr(),t=this.y.redSqr(),e=this.z.redSqr();e=e.redIAdd(e);var a=this.curve._mulA(r),i=this.x.redAdd(this.y).redSqr().redISub(r).redISub(t),n=a.redAdd(t),u=n.redSub(e),c=a.redSub(t),p=i.redMul(u),m=n.redMul(c),O=i.redMul(c),I=u.redMul(n);return this.curve.point(p,m,I,O)},b.prototype._projDbl=function(){var r=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),e=this.y.redSqr(),a,i,n,u,c,p;if(this.curve.twisted){u=this.curve._mulA(t);var m=u.redAdd(e);this.zOne?(a=r.redSub(t).redSub(e).redMul(m.redSub(this.curve.two)),i=m.redMul(u.redSub(e)),n=m.redSqr().redSub(m).redSub(m)):(c=this.z.redSqr(),p=m.redSub(c).redISub(c),a=r.redSub(t).redISub(e).redMul(p),i=m.redMul(u.redSub(e)),n=m.redMul(p))}else u=t.redAdd(e),c=this.curve._mulC(this.z).redSqr(),p=u.redSub(c).redSub(c),a=this.curve._mulC(r.redISub(u)).redMul(p),i=this.curve._mulC(u).redMul(t.redISub(e)),n=u.redMul(p);return this.curve.point(a,i,n)},b.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},b.prototype._extAdd=function(r){var t=this.y.redSub(this.x).redMul(r.y.redSub(r.x)),e=this.y.redAdd(this.x).redMul(r.y.redAdd(r.x)),a=this.t.redMul(this.curve.dd).redMul(r.t),i=this.z.redMul(r.z.redAdd(r.z)),n=e.redSub(t),u=i.redSub(a),c=i.redAdd(a),p=e.redAdd(t),m=n.redMul(u),O=c.redMul(p),I=n.redMul(p),C=u.redMul(c);return this.curve.point(m,O,C,I)},b.prototype._projAdd=function(r){var t=this.z.redMul(r.z),e=t.redSqr(),a=this.x.redMul(r.x),i=this.y.redMul(r.y),n=this.curve.d.redMul(a).redMul(i),u=e.redSub(n),c=e.redAdd(n),p=this.x.redAdd(this.y).redMul(r.x.redAdd(r.y)).redISub(a).redISub(i),m=t.redMul(u).redMul(p),O,I;return this.curve.twisted?(O=t.redMul(c).redMul(i.redSub(this.curve._mulA(a))),I=u.redMul(c)):(O=t.redMul(c).redMul(i.redSub(a)),I=this.curve._mulC(u).redMul(c)),this.curve.point(m,O,I)},b.prototype.add=function(r){return this.isInfinity()?r:r.isInfinity()?this:this.curve.extended?this._extAdd(r):this._projAdd(r)},b.prototype.mul=function(r){return this._hasDoubles(r)?this.curve._fixedNafMul(this,r):this.curve._wnafMul(this,r)},b.prototype.mulAdd=function(r,t,e){return this.curve._wnafMulAdd(1,[this,t],[r,e],2,!1)},b.prototype.jmulAdd=function(r,t,e){return this.curve._wnafMulAdd(1,[this,t],[r,e],2,!0)},b.prototype.normalize=function(){if(this.zOne)return this;var r=this.z.redInvm();return this.x=this.x.redMul(r),this.y=this.y.redMul(r),this.t&&(this.t=this.t.redMul(r)),this.z=this.curve.one,this.zOne=!0,this},b.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},b.prototype.getX=function(){return this.normalize(),this.x.fromRed()},b.prototype.getY=function(){return this.normalize(),this.y.fromRed()},b.prototype.eq=function(r){return this===r||this.getX().cmp(r.getX())===0&&this.getY().cmp(r.getY())===0},b.prototype.eqXToP=function(r){var t=r.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var e=r.clone(),a=this.curve.redN.redMul(this.z);;){if(e.iadd(this.curve.n),e.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(a),this.x.cmp(t)===0)return!0}},b.prototype.toP=b.prototype.normalize,b.prototype.mixedAdd=b.prototype.add,fn}var lo;function cu(){return lo||(lo=1,(function(l){var v=l;v.base=_r(),v.short=Tf(),v.mont=Rf(),v.edwards=Df()})(on)),on}var dn={},ln={},Se={},ho;function it(){if(ho)return Se;ho=1;var l=Ot(),v=gr();Se.inherits=v;function E(s,h){return(s.charCodeAt(h)&64512)!==55296||h<0||h+1>=s.length?!1:(s.charCodeAt(h+1)&64512)===56320}function _(s,h){if(Array.isArray(s))return s.slice();if(!s)return[];var f=[];if(typeof s=="string")if(h){if(h==="hex")for(s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s),S=0;S<s.length;S+=2)f.push(parseInt(s[S]+s[S+1],16))}else for(var x=0,S=0;S<s.length;S++){var B=s.charCodeAt(S);B<128?f[x++]=B:B<2048?(f[x++]=B>>6|192,f[x++]=B&63|128):E(s,S)?(B=65536+((B&1023)<<10)+(s.charCodeAt(++S)&1023),f[x++]=B>>18|240,f[x++]=B>>12&63|128,f[x++]=B>>6&63|128,f[x++]=B&63|128):(f[x++]=B>>12|224,f[x++]=B>>6&63|128,f[x++]=B&63|128)}else for(S=0;S<s.length;S++)f[S]=s[S]|0;return f}Se.toArray=_;function y(s){for(var h="",f=0;f<s.length;f++)h+=o(s[f].toString(16));return h}Se.toHex=y;function d(s){var h=s>>>24|s>>>8&65280|s<<8&16711680|(s&255)<<24;return h>>>0}Se.htonl=d;function b(s,h){for(var f="",x=0;x<s.length;x++){var S=s[x];h==="little"&&(S=d(S)),f+=r(S.toString(16))}return f}Se.toHex32=b;function o(s){return s.length===1?"0"+s:s}Se.zero2=o;function r(s){return s.length===7?"0"+s:s.length===6?"00"+s:s.length===5?"000"+s:s.length===4?"0000"+s:s.length===3?"00000"+s:s.length===2?"000000"+s:s.length===1?"0000000"+s:s}Se.zero8=r;function t(s,h,f,x){var S=f-h;l(S%4===0);for(var B=new Array(S/4),R=0,j=h;R<B.length;R++,j+=4){var g;x==="big"?g=s[j]<<24|s[j+1]<<16|s[j+2]<<8|s[j+3]:g=s[j+3]<<24|s[j+2]<<16|s[j+1]<<8|s[j],B[R]=g>>>0}return B}Se.join32=t;function e(s,h){for(var f=new Array(s.length*4),x=0,S=0;x<s.length;x++,S+=4){var B=s[x];h==="big"?(f[S]=B>>>24,f[S+1]=B>>>16&255,f[S+2]=B>>>8&255,f[S+3]=B&255):(f[S+3]=B>>>24,f[S+2]=B>>>16&255,f[S+1]=B>>>8&255,f[S]=B&255)}return f}Se.split32=e;function a(s,h){return s>>>h|s<<32-h}Se.rotr32=a;function i(s,h){return s<<h|s>>>32-h}Se.rotl32=i;function n(s,h){return s+h>>>0}Se.sum32=n;function u(s,h,f){return s+h+f>>>0}Se.sum32_3=u;function c(s,h,f,x){return s+h+f+x>>>0}Se.sum32_4=c;function p(s,h,f,x,S){return s+h+f+x+S>>>0}Se.sum32_5=p;function m(s,h,f,x){var S=s[h],B=s[h+1],R=x+B>>>0,j=(R<x?1:0)+f+S;s[h]=j>>>0,s[h+1]=R}Se.sum64=m;function O(s,h,f,x){var S=h+x>>>0,B=(S<h?1:0)+s+f;return B>>>0}Se.sum64_hi=O;function I(s,h,f,x){var S=h+x;return S>>>0}Se.sum64_lo=I;function C(s,h,f,x,S,B,R,j){var g=0,A=h;A=A+x>>>0,g+=A<h?1:0,A=A+B>>>0,g+=A<B?1:0,A=A+j>>>0,g+=A<j?1:0;var L=s+f+S+R+g;return L>>>0}Se.sum64_4_hi=C;function k(s,h,f,x,S,B,R,j){var g=h+x+B+j;return g>>>0}Se.sum64_4_lo=k;function D(s,h,f,x,S,B,R,j,g,A){var L=0,K=h;K=K+x>>>0,L+=K<h?1:0,K=K+B>>>0,L+=K<B?1:0,K=K+j>>>0,L+=K<j?1:0,K=K+A>>>0,L+=K<A?1:0;var T=s+f+S+R+g+L;return T>>>0}Se.sum64_5_hi=D;function G(s,h,f,x,S,B,R,j,g,A){var L=h+x+B+j+A;return L>>>0}Se.sum64_5_lo=G;function z(s,h,f){var x=h<<32-f|s>>>f;return x>>>0}Se.rotr64_hi=z;function F(s,h,f){var x=s<<32-f|h>>>f;return x>>>0}Se.rotr64_lo=F;function U(s,h,f){return s>>>f}Se.shr64_hi=U;function w(s,h,f){var x=s<<32-f|h>>>f;return x>>>0}return Se.shr64_lo=w,Se}var hn={},po;function Zt(){if(po)return hn;po=1;var l=it(),v=Ot();function E(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return hn.BlockHash=E,E.prototype.update=function(y,d){if(y=l.toArray(y,d),this.pending?this.pending=this.pending.concat(y):this.pending=y,this.pendingTotal+=y.length,this.pending.length>=this._delta8){y=this.pending;var b=y.length%this._delta8;this.pending=y.slice(y.length-b,y.length),this.pending.length===0&&(this.pending=null),y=l.join32(y,0,y.length-b,this.endian);for(var o=0;o<y.length;o+=this._delta32)this._update(y,o,o+this._delta32)}return this},E.prototype.digest=function(y){return this.update(this._pad()),v(this.pending===null),this._digest(y)},E.prototype._pad=function(){var y=this.pendingTotal,d=this._delta8,b=d-(y+this.padLength)%d,o=new Array(b+this.padLength);o[0]=128;for(var r=1;r<b;r++)o[r]=0;if(y<<=3,this.endian==="big"){for(var t=8;t<this.padLength;t++)o[r++]=0;o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=y>>>24&255,o[r++]=y>>>16&255,o[r++]=y>>>8&255,o[r++]=y&255}else for(o[r++]=y&255,o[r++]=y>>>8&255,o[r++]=y>>>16&255,o[r++]=y>>>24&255,o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=0,t=8;t<this.padLength;t++)o[r++]=0;return o},hn}var mt={},rt={},bo;function uu(){if(bo)return rt;bo=1;var l=it(),v=l.rotr32;function E(e,a,i,n){if(e===0)return _(a,i,n);if(e===1||e===3)return d(a,i,n);if(e===2)return y(a,i,n)}rt.ft_1=E;function _(e,a,i){return e&a^~e&i}rt.ch32=_;function y(e,a,i){return e&a^e&i^a&i}rt.maj32=y;function d(e,a,i){return e^a^i}rt.p32=d;function b(e){return v(e,2)^v(e,13)^v(e,22)}rt.s0_256=b;function o(e){return v(e,6)^v(e,11)^v(e,25)}rt.s1_256=o;function r(e){return v(e,7)^v(e,18)^e>>>3}rt.g0_256=r;function t(e){return v(e,17)^v(e,19)^e>>>10}return rt.g1_256=t,rt}var pn,yo;function Lf(){if(yo)return pn;yo=1;var l=it(),v=Zt(),E=uu(),_=l.rotl32,y=l.sum32,d=l.sum32_5,b=E.ft_1,o=v.BlockHash,r=[1518500249,1859775393,2400959708,3395469782];function t(){if(!(this instanceof t))return new t;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return l.inherits(t,o),pn=t,t.blockSize=512,t.outSize=160,t.hmacStrength=80,t.padLength=64,t.prototype._update=function(a,i){for(var n=this.W,u=0;u<16;u++)n[u]=a[i+u];for(;u<n.length;u++)n[u]=_(n[u-3]^n[u-8]^n[u-14]^n[u-16],1);var c=this.h[0],p=this.h[1],m=this.h[2],O=this.h[3],I=this.h[4];for(u=0;u<n.length;u++){var C=~~(u/20),k=d(_(c,5),b(C,p,m,O),I,n[u],r[C]);I=O,O=m,m=_(p,30),p=c,c=k}this.h[0]=y(this.h[0],c),this.h[1]=y(this.h[1],p),this.h[2]=y(this.h[2],m),this.h[3]=y(this.h[3],O),this.h[4]=y(this.h[4],I)},t.prototype._digest=function(a){return a==="hex"?l.toHex32(this.h,"big"):l.split32(this.h,"big")},pn}var bn,vo;function fu(){if(vo)return bn;vo=1;var l=it(),v=Zt(),E=uu(),_=Ot(),y=l.sum32,d=l.sum32_4,b=l.sum32_5,o=E.ch32,r=E.maj32,t=E.s0_256,e=E.s1_256,a=E.g0_256,i=E.g1_256,n=v.BlockHash,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function c(){if(!(this instanceof c))return new c;n.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=u,this.W=new Array(64)}return l.inherits(c,n),bn=c,c.blockSize=512,c.outSize=256,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(m,O){for(var I=this.W,C=0;C<16;C++)I[C]=m[O+C];for(;C<I.length;C++)I[C]=d(i(I[C-2]),I[C-7],a(I[C-15]),I[C-16]);var k=this.h[0],D=this.h[1],G=this.h[2],z=this.h[3],F=this.h[4],U=this.h[5],w=this.h[6],s=this.h[7];for(_(this.k.length===I.length),C=0;C<I.length;C++){var h=b(s,e(F),o(F,U,w),this.k[C],I[C]),f=y(t(k),r(k,D,G));s=w,w=U,U=F,F=y(z,h),z=G,G=D,D=k,k=y(h,f)}this.h[0]=y(this.h[0],k),this.h[1]=y(this.h[1],D),this.h[2]=y(this.h[2],G),this.h[3]=y(this.h[3],z),this.h[4]=y(this.h[4],F),this.h[5]=y(this.h[5],U),this.h[6]=y(this.h[6],w),this.h[7]=y(this.h[7],s)},c.prototype._digest=function(m){return m==="hex"?l.toHex32(this.h,"big"):l.split32(this.h,"big")},bn}var yn,_o;function qf(){if(_o)return yn;_o=1;var l=it(),v=fu();function E(){if(!(this instanceof E))return new E;v.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return l.inherits(E,v),yn=E,E.blockSize=512,E.outSize=224,E.hmacStrength=192,E.padLength=64,E.prototype._digest=function(y){return y==="hex"?l.toHex32(this.h.slice(0,7),"big"):l.split32(this.h.slice(0,7),"big")},yn}var vn,go;function du(){if(go)return vn;go=1;var l=it(),v=Zt(),E=Ot(),_=l.rotr64_hi,y=l.rotr64_lo,d=l.shr64_hi,b=l.shr64_lo,o=l.sum64,r=l.sum64_hi,t=l.sum64_lo,e=l.sum64_4_hi,a=l.sum64_4_lo,i=l.sum64_5_hi,n=l.sum64_5_lo,u=v.BlockHash,c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function p(){if(!(this instanceof p))return new p;u.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=c,this.W=new Array(160)}l.inherits(p,u),vn=p,p.blockSize=1024,p.outSize=512,p.hmacStrength=192,p.padLength=128,p.prototype._prepareBlock=function(f,x){for(var S=this.W,B=0;B<32;B++)S[B]=f[x+B];for(;B<S.length;B+=2){var R=w(S[B-4],S[B-3]),j=s(S[B-4],S[B-3]),g=S[B-14],A=S[B-13],L=F(S[B-30],S[B-29]),K=U(S[B-30],S[B-29]),T=S[B-32],V=S[B-31];S[B]=e(R,j,g,A,L,K,T,V),S[B+1]=a(R,j,g,A,L,K,T,V)}},p.prototype._update=function(f,x){this._prepareBlock(f,x);var S=this.W,B=this.h[0],R=this.h[1],j=this.h[2],g=this.h[3],A=this.h[4],L=this.h[5],K=this.h[6],T=this.h[7],V=this.h[8],J=this.h[9],X=this.h[10],$=this.h[11],H=this.h[12],Q=this.h[13],ee=this.h[14],ce=this.h[15];E(this.k.length===S.length);for(var te=0;te<S.length;te+=2){var ae=ee,ue=ce,oe=G(V,J),W=z(V,J),Y=m(V,J,X,$,H),se=O(V,J,X,$,H,Q),fe=this.k[te],ie=this.k[te+1],de=S[te],be=S[te+1],he=i(ae,ue,oe,W,Y,se,fe,ie,de,be),ye=n(ae,ue,oe,W,Y,se,fe,ie,de,be);ae=k(B,R),ue=D(B,R),oe=I(B,R,j,g,A),W=C(B,R,j,g,A,L);var Ae=r(ae,ue,oe,W),N=t(ae,ue,oe,W);ee=H,ce=Q,H=X,Q=$,X=V,$=J,V=r(K,T,he,ye),J=t(T,T,he,ye),K=A,T=L,A=j,L=g,j=B,g=R,B=r(he,ye,Ae,N),R=t(he,ye,Ae,N)}o(this.h,0,B,R),o(this.h,2,j,g),o(this.h,4,A,L),o(this.h,6,K,T),o(this.h,8,V,J),o(this.h,10,X,$),o(this.h,12,H,Q),o(this.h,14,ee,ce)},p.prototype._digest=function(f){return f==="hex"?l.toHex32(this.h,"big"):l.split32(this.h,"big")};function m(h,f,x,S,B){var R=h&x^~h&B;return R<0&&(R+=4294967296),R}function O(h,f,x,S,B,R){var j=f&S^~f&R;return j<0&&(j+=4294967296),j}function I(h,f,x,S,B){var R=h&x^h&B^x&B;return R<0&&(R+=4294967296),R}function C(h,f,x,S,B,R){var j=f&S^f&R^S&R;return j<0&&(j+=4294967296),j}function k(h,f){var x=_(h,f,28),S=_(f,h,2),B=_(f,h,7),R=x^S^B;return R<0&&(R+=4294967296),R}function D(h,f){var x=y(h,f,28),S=y(f,h,2),B=y(f,h,7),R=x^S^B;return R<0&&(R+=4294967296),R}function G(h,f){var x=_(h,f,14),S=_(h,f,18),B=_(f,h,9),R=x^S^B;return R<0&&(R+=4294967296),R}function z(h,f){var x=y(h,f,14),S=y(h,f,18),B=y(f,h,9),R=x^S^B;return R<0&&(R+=4294967296),R}function F(h,f){var x=_(h,f,1),S=_(h,f,8),B=d(h,f,7),R=x^S^B;return R<0&&(R+=4294967296),R}function U(h,f){var x=y(h,f,1),S=y(h,f,8),B=b(h,f,7),R=x^S^B;return R<0&&(R+=4294967296),R}function w(h,f){var x=_(h,f,19),S=_(f,h,29),B=d(h,f,6),R=x^S^B;return R<0&&(R+=4294967296),R}function s(h,f){var x=y(h,f,19),S=y(f,h,29),B=b(h,f,6),R=x^S^B;return R<0&&(R+=4294967296),R}return vn}var _n,wo;function Ff(){if(wo)return _n;wo=1;var l=it(),v=du();function E(){if(!(this instanceof E))return new E;v.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return l.inherits(E,v),_n=E,E.blockSize=1024,E.outSize=384,E.hmacStrength=192,E.padLength=128,E.prototype._digest=function(y){return y==="hex"?l.toHex32(this.h.slice(0,12),"big"):l.split32(this.h.slice(0,12),"big")},_n}var mo;function Kf(){return mo||(mo=1,mt.sha1=Lf(),mt.sha224=qf(),mt.sha256=fu(),mt.sha384=Ff(),mt.sha512=du()),mt}var gn={},xo;function Uf(){if(xo)return gn;xo=1;var l=it(),v=Zt(),E=l.rotl32,_=l.sum32,y=l.sum32_3,d=l.sum32_4,b=v.BlockHash;function o(){if(!(this instanceof o))return new o;b.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}l.inherits(o,b),gn.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(p,m){for(var O=this.h[0],I=this.h[1],C=this.h[2],k=this.h[3],D=this.h[4],G=O,z=I,F=C,U=k,w=D,s=0;s<80;s++){var h=_(E(d(O,r(s,I,C,k),p[a[s]+m],t(s)),n[s]),D);O=D,D=k,k=E(C,10),C=I,I=h,h=_(E(d(G,r(79-s,z,F,U),p[i[s]+m],e(s)),u[s]),w),G=w,w=U,U=E(F,10),F=z,z=h}h=y(this.h[1],C,U),this.h[1]=y(this.h[2],k,w),this.h[2]=y(this.h[3],D,G),this.h[3]=y(this.h[4],O,z),this.h[4]=y(this.h[0],I,F),this.h[0]=h},o.prototype._digest=function(p){return p==="hex"?l.toHex32(this.h,"little"):l.split32(this.h,"little")};function r(c,p,m,O){return c<=15?p^m^O:c<=31?p&m|~p&O:c<=47?(p|~m)^O:c<=63?p&O|m&~O:p^(m|~O)}function t(c){return c<=15?0:c<=31?1518500249:c<=47?1859775393:c<=63?2400959708:2840853838}function e(c){return c<=15?1352829926:c<=31?1548603684:c<=47?1836072691:c<=63?2053994217:0}var a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],n=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return gn}var wn,So;function zf(){if(So)return wn;So=1;var l=it(),v=Ot();function E(_,y,d){if(!(this instanceof E))return new E(_,y,d);this.Hash=_,this.blockSize=_.blockSize/8,this.outSize=_.outSize/8,this.inner=null,this.outer=null,this._init(l.toArray(y,d))}return wn=E,E.prototype._init=function(y){y.length>this.blockSize&&(y=new this.Hash().update(y).digest()),v(y.length<=this.blockSize);for(var d=y.length;d<this.blockSize;d++)y.push(0);for(d=0;d<y.length;d++)y[d]^=54;for(this.inner=new this.Hash().update(y),d=0;d<y.length;d++)y[d]^=106;this.outer=new this.Hash().update(y)},E.prototype.update=function(y,d){return this.inner.update(y,d),this},E.prototype.digest=function(y){return this.outer.update(this.inner.digest()),this.outer.digest(y)},wn}var Eo;function sa(){return Eo||(Eo=1,(function(l){var v=l;v.utils=it(),v.common=Zt(),v.sha=Kf(),v.ripemd=Uf(),v.hmac=zf(),v.sha1=v.sha.sha1,v.sha256=v.sha.sha256,v.sha224=v.sha.sha224,v.sha384=v.sha.sha384,v.sha512=v.sha.sha512,v.ripemd160=v.ripemd.ripemd160})(ln)),ln}var mn,Ao;function Hf(){return Ao||(Ao=1,mn={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),mn}var Oo;function ca(){return Oo||(Oo=1,(function(l){var v=l,E=sa(),_=cu(),y=Ye(),d=y.assert;function b(t){t.type==="short"?this.curve=new _.short(t):t.type==="edwards"?this.curve=new _.edwards(t):this.curve=new _.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,d(this.g.validate(),"Invalid curve"),d(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}v.PresetCurve=b;function o(t,e){Object.defineProperty(v,t,{configurable:!0,enumerable:!0,get:function(){var a=new b(e);return Object.defineProperty(v,t,{configurable:!0,enumerable:!0,value:a}),a}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:E.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:E.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:E.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:E.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:E.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:E.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:E.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var r;try{r=Hf()}catch{r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:E.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})})(dn)),dn}var xn,Po;function Vf(){if(Po)return xn;Po=1;var l=sa(),v=ou(),E=Ot();function _(y){if(!(this instanceof _))return new _(y);this.hash=y.hash,this.predResist=!!y.predResist,this.outLen=this.hash.outSize,this.minEntropy=y.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var d=v.toArray(y.entropy,y.entropyEnc||"hex"),b=v.toArray(y.nonce,y.nonceEnc||"hex"),o=v.toArray(y.pers,y.persEnc||"hex");E(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(d,b,o)}return xn=_,_.prototype._init=function(d,b,o){var r=d.concat(b).concat(o);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var t=0;t<this.V.length;t++)this.K[t]=0,this.V[t]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},_.prototype._hmac=function(){return new l.hmac(this.hash,this.K)},_.prototype._update=function(d){var b=this._hmac().update(this.V).update([0]);d&&(b=b.update(d)),this.K=b.digest(),this.V=this._hmac().update(this.V).digest(),d&&(this.K=this._hmac().update(this.V).update([1]).update(d).digest(),this.V=this._hmac().update(this.V).digest())},_.prototype.reseed=function(d,b,o,r){typeof b!="string"&&(r=o,o=b,b=null),d=v.toArray(d,b),o=v.toArray(o,r),E(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(d.concat(o||[])),this._reseed=1},_.prototype.generate=function(d,b,o,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof b!="string"&&(r=o,o=b,b=null),o&&(o=v.toArray(o,r||"hex"),this._update(o));for(var t=[];t.length<d;)this.V=this._hmac().update(this.V).digest(),t=t.concat(this.V);var e=t.slice(0,d);return this._update(o),this._reseed++,v.encode(e,b)},xn}var Sn,Io;function Jf(){if(Io)return Sn;Io=1;var l=ft(),v=Ye(),E=v.assert;function _(y,d){this.ec=y,this.priv=null,this.pub=null,d.priv&&this._importPrivate(d.priv,d.privEnc),d.pub&&this._importPublic(d.pub,d.pubEnc)}return Sn=_,_.fromPublic=function(d,b,o){return b instanceof _?b:new _(d,{pub:b,pubEnc:o})},_.fromPrivate=function(d,b,o){return b instanceof _?b:new _(d,{priv:b,privEnc:o})},_.prototype.validate=function(){var d=this.getPublic();return d.isInfinity()?{result:!1,reason:"Invalid public key"}:d.validate()?d.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},_.prototype.getPublic=function(d,b){return typeof d=="string"&&(b=d,d=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),b?this.pub.encode(b,d):this.pub},_.prototype.getPrivate=function(d){return d==="hex"?this.priv.toString(16,2):this.priv},_.prototype._importPrivate=function(d,b){this.priv=new l(d,b||16),this.priv=this.priv.umod(this.ec.curve.n)},_.prototype._importPublic=function(d,b){if(d.x||d.y){this.ec.curve.type==="mont"?E(d.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&E(d.x&&d.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(d.x,d.y);return}this.pub=this.ec.curve.decodePoint(d,b)},_.prototype.derive=function(d){return d.validate()||E(d.validate(),"public point not validated"),d.mul(this.priv).getX()},_.prototype.sign=function(d,b,o){return this.ec.sign(d,this,b,o)},_.prototype.verify=function(d,b,o){return this.ec.verify(d,b,this,void 0,o)},_.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},Sn}var En,Mo;function Gf(){if(Mo)return En;Mo=1;var l=ft(),v=Ye(),E=v.assert;function _(r,t){if(r instanceof _)return r;this._importDER(r,t)||(E(r.r&&r.s,"Signature without r or s"),this.r=new l(r.r,16),this.s=new l(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}En=_;function y(){this.place=0}function d(r,t){var e=r[t.place++];if(!(e&128))return e;var a=e&15;if(a===0||a>4||r[t.place]===0)return!1;for(var i=0,n=0,u=t.place;n<a;n++,u++)i<<=8,i|=r[u],i>>>=0;return i<=127?!1:(t.place=u,i)}function b(r){for(var t=0,e=r.length-1;!r[t]&&!(r[t+1]&128)&&t<e;)t++;return t===0?r:r.slice(t)}_.prototype._importDER=function(t,e){t=v.toArray(t,e);var a=new y;if(t[a.place++]!==48)return!1;var i=d(t,a);if(i===!1||i+a.place!==t.length||t[a.place++]!==2)return!1;var n=d(t,a);if(n===!1||(t[a.place]&128)!==0)return!1;var u=t.slice(a.place,n+a.place);if(a.place+=n,t[a.place++]!==2)return!1;var c=d(t,a);if(c===!1||t.length!==c+a.place||(t[a.place]&128)!==0)return!1;var p=t.slice(a.place,c+a.place);if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;return this.r=new l(u),this.s=new l(p),this.recoveryParam=null,!0};function o(r,t){if(t<128){r.push(t);return}var e=1+(Math.log(t)/Math.LN2>>>3);for(r.push(e|128);--e;)r.push(t>>>(e<<3)&255);r.push(t)}return _.prototype.toDER=function(t){var e=this.r.toArray(),a=this.s.toArray();for(e[0]&128&&(e=[0].concat(e)),a[0]&128&&(a=[0].concat(a)),e=b(e),a=b(a);!a[0]&&!(a[1]&128);)a=a.slice(1);var i=[2];o(i,e.length),i=i.concat(e),i.push(2),o(i,a.length);var n=i.concat(a),u=[48];return o(u,n.length),u=u.concat(n),v.encode(u,t)},En}var An,Co;function $f(){if(Co)return An;Co=1;var l=ft(),v=Vf(),E=Ye(),_=ca(),y=su(),d=E.assert,b=Jf(),o=Gf();function r(t){if(!(this instanceof r))return new r(t);typeof t=="string"&&(d(Object.prototype.hasOwnProperty.call(_,t),"Unknown curve "+t),t=_[t]),t instanceof _.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}return An=r,r.prototype.keyPair=function(e){return new b(this,e)},r.prototype.keyFromPrivate=function(e,a){return b.fromPrivate(this,e,a)},r.prototype.keyFromPublic=function(e,a){return b.fromPublic(this,e,a)},r.prototype.genKeyPair=function(e){e||(e={});for(var a=new v({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||y(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new l(2));;){var u=new l(a.generate(i));if(!(u.cmp(n)>0))return u.iaddn(1),this.keyFromPrivate(u)}},r.prototype._truncateToN=function(e,a,i){var n;if(l.isBN(e)||typeof e=="number")e=new l(e,16),n=e.byteLength();else if(typeof e=="object")n=e.length,e=new l(e,16);else{var u=e.toString();n=u.length+1>>>1,e=new l(u,16)}typeof i!="number"&&(i=n*8);var c=i-this.n.bitLength();return c>0&&(e=e.ushrn(c)),!a&&e.cmp(this.n)>=0?e.sub(this.n):e},r.prototype.sign=function(e,a,i,n){if(typeof i=="object"&&(n=i,i=null),n||(n={}),typeof e!="string"&&typeof e!="number"&&!l.isBN(e)){d(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),d(e.length>>>0===e.length);for(var u=0;u<e.length;u++)d((e[u]&255)===e[u])}a=this.keyFromPrivate(a,i),e=this._truncateToN(e,!1,n.msgBitLength),d(!e.isNeg(),"Can not sign a negative message");var c=this.n.byteLength(),p=a.getPrivate().toArray("be",c),m=e.toArray("be",c);d(new l(m).eq(e),"Can not sign message");for(var O=new v({hash:this.hash,entropy:p,nonce:m,pers:n.pers,persEnc:n.persEnc||"utf8"}),I=this.n.sub(new l(1)),C=0;;C++){var k=n.k?n.k(C):new l(O.generate(this.n.byteLength()));if(k=this._truncateToN(k,!0),!(k.cmpn(1)<=0||k.cmp(I)>=0)){var D=this.g.mul(k);if(!D.isInfinity()){var G=D.getX(),z=G.umod(this.n);if(z.cmpn(0)!==0){var F=k.invm(this.n).mul(z.mul(a.getPrivate()).iadd(e));if(F=F.umod(this.n),F.cmpn(0)!==0){var U=(D.getY().isOdd()?1:0)|(G.cmp(z)!==0?2:0);return n.canonical&&F.cmp(this.nh)>0&&(F=this.n.sub(F),U^=1),new o({r:z,s:F,recoveryParam:U})}}}}}},r.prototype.verify=function(e,a,i,n,u){u||(u={}),e=this._truncateToN(e,!1,u.msgBitLength),i=this.keyFromPublic(i,n),a=new o(a,"hex");var c=a.r,p=a.s;if(c.cmpn(1)<0||c.cmp(this.n)>=0||p.cmpn(1)<0||p.cmp(this.n)>=0)return!1;var m=p.invm(this.n),O=m.mul(e).umod(this.n),I=m.mul(c).umod(this.n),C;return this.curve._maxwellTrick?(C=this.g.jmulAdd(O,i.getPublic(),I),C.isInfinity()?!1:C.eqXToP(c)):(C=this.g.mulAdd(O,i.getPublic(),I),C.isInfinity()?!1:C.getX().umod(this.n).cmp(c)===0)},r.prototype.recoverPubKey=function(t,e,a,i){d((3&a)===a,"The recovery param is more than two bits"),e=new o(e,i);var n=this.n,u=new l(t),c=e.r,p=e.s,m=a&1,O=a>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&O)throw new Error("Unable to find sencond key candinate");O?c=this.curve.pointFromX(c.add(this.curve.n),m):c=this.curve.pointFromX(c,m);var I=e.r.invm(n),C=n.sub(u).mul(I).umod(n),k=p.mul(I).umod(n);return this.g.mulAdd(C,c,k)},r.prototype.getKeyRecoveryParam=function(t,e,a,i){if(e=new o(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var u;try{u=this.recoverPubKey(t,e,n)}catch{continue}if(u.eq(a))return n}throw new Error("Unable to find valid recovery factor")},An}var On,Bo;function Wf(){if(Bo)return On;Bo=1;var l=Ye(),v=l.assert,E=l.parseBytes,_=l.cachedProperty;function y(d,b){this.eddsa=d,this._secret=E(b.secret),d.isPoint(b.pub)?this._pub=b.pub:this._pubBytes=E(b.pub)}return y.fromPublic=function(b,o){return o instanceof y?o:new y(b,{pub:o})},y.fromSecret=function(b,o){return o instanceof y?o:new y(b,{secret:o})},y.prototype.secret=function(){return this._secret},_(y,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),_(y,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),_(y,"privBytes",function(){var b=this.eddsa,o=this.hash(),r=b.encodingLength-1,t=o.slice(0,b.encodingLength);return t[0]&=248,t[r]&=127,t[r]|=64,t}),_(y,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),_(y,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),_(y,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),y.prototype.sign=function(b){return v(this._secret,"KeyPair can only verify"),this.eddsa.sign(b,this)},y.prototype.verify=function(b,o){return this.eddsa.verify(b,o,this)},y.prototype.getSecret=function(b){return v(this._secret,"KeyPair is public only"),l.encode(this.secret(),b)},y.prototype.getPublic=function(b){return l.encode(this.pubBytes(),b)},On=y,On}var Pn,ko;function Zf(){if(ko)return Pn;ko=1;var l=ft(),v=Ye(),E=v.assert,_=v.cachedProperty,y=v.parseBytes;function d(b,o){this.eddsa=b,typeof o!="object"&&(o=y(o)),Array.isArray(o)&&(E(o.length===b.encodingLength*2,"Signature has invalid size"),o={R:o.slice(0,b.encodingLength),S:o.slice(b.encodingLength)}),E(o.R&&o.S,"Signature without R or S"),b.isPoint(o.R)&&(this._R=o.R),o.S instanceof l&&(this._S=o.S),this._Rencoded=Array.isArray(o.R)?o.R:o.Rencoded,this._Sencoded=Array.isArray(o.S)?o.S:o.Sencoded}return _(d,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),_(d,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),_(d,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),_(d,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),d.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},d.prototype.toHex=function(){return v.encode(this.toBytes(),"hex").toUpperCase()},Pn=d,Pn}var In,jo;function Xf(){if(jo)return In;jo=1;var l=sa(),v=ca(),E=Ye(),_=E.assert,y=E.parseBytes,d=Wf(),b=Zf();function o(r){if(_(r==="ed25519","only tested with ed25519 so far"),!(this instanceof o))return new o(r);r=v[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=l.sha512}return In=o,o.prototype.sign=function(t,e){t=y(t);var a=this.keyFromSecret(e),i=this.hashInt(a.messagePrefix(),t),n=this.g.mul(i),u=this.encodePoint(n),c=this.hashInt(u,a.pubBytes(),t).mul(a.priv()),p=i.add(c).umod(this.curve.n);return this.makeSignature({R:n,S:p,Rencoded:u})},o.prototype.verify=function(t,e,a){if(t=y(t),e=this.makeSignature(e),e.S().gte(e.eddsa.curve.n)||e.S().isNeg())return!1;var i=this.keyFromPublic(a),n=this.hashInt(e.Rencoded(),i.pubBytes(),t),u=this.g.mul(e.S()),c=e.R().add(i.pub().mul(n));return c.eq(u)},o.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return E.intFromLE(t.digest()).umod(this.curve.n)},o.prototype.keyFromPublic=function(t){return d.fromPublic(this,t)},o.prototype.keyFromSecret=function(t){return d.fromSecret(this,t)},o.prototype.makeSignature=function(t){return t instanceof b?t:new b(this,t)},o.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},o.prototype.decodePoint=function(t){t=E.parseBytes(t);var e=t.length-1,a=t.slice(0,e).concat(t[e]&-129),i=(t[e]&128)!==0,n=E.intFromLE(a);return this.curve.pointFromY(n,i)},o.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},o.prototype.decodeInt=function(t){return E.intFromLE(t)},o.prototype.isPoint=function(t){return t instanceof this.pointClass},In}var No;function Yf(){return No||(No=1,(function(l){var v=l;v.version=Bf.version,v.utils=Ye(),v.rand=su(),v.curve=cu(),v.curves=ca(),v.ec=$f(),v.eddsa=Xf()})(tn)),tn}var Mn,To;function Qf(){if(To)return Mn;To=1;const l=Yf().ec,v=new l("secp256k1"),E=v.curve,_=E.n.constructor;function y(r,t){let e=new _(t);if(e.cmp(E.p)>=0)return null;e=e.toRed(E.red);let a=e.redSqr().redIMul(e).redIAdd(E.b).redSqrt();r===3!==a.isOdd()&&(a=a.redNeg());const i=e.redSqr().redIMul(e);return a.redSqr().redISub(i.redIAdd(E.b)).isZero()?v.keyPair({pub:{x:e,y:a}}):null}function d(r,t,e){let a=new _(t),i=new _(e);if(a.cmp(E.p)>=0||i.cmp(E.p)>=0||(a=a.toRed(E.red),i=i.toRed(E.red),(r===6||r===7)&&i.isOdd()!==(r===7)))return null;const n=a.redSqr().redIMul(a);return i.redSqr().redISub(n.redIAdd(E.b)).isZero()?v.keyPair({pub:{x:a,y:i}}):null}function b(r){const t=r[0];switch(t){case 2:case 3:return r.length!==33?null:y(t,r.subarray(1,33));case 4:case 6:case 7:return r.length!==65?null:d(t,r.subarray(1,33),r.subarray(33,65));default:return null}}function o(r,t){const e=t.encode(null,r.length===33);for(let a=0;a<r.length;++a)r[a]=e[a]}return Mn={contextRandomize(){return 0},privateKeyVerify(r){const t=new _(r);return t.cmp(E.n)<0&&!t.isZero()?0:1},privateKeyNegate(r){const t=new _(r),e=E.n.sub(t).umod(E.n).toArrayLike(Uint8Array,"be",32);return r.set(e),0},privateKeyTweakAdd(r,t){const e=new _(t);if(e.cmp(E.n)>=0||(e.iadd(new _(r)),e.cmp(E.n)>=0&&e.isub(E.n),e.isZero()))return 1;const a=e.toArrayLike(Uint8Array,"be",32);return r.set(a),0},privateKeyTweakMul(r,t){let e=new _(t);if(e.cmp(E.n)>=0||e.isZero())return 1;e.imul(new _(r)),e.cmp(E.n)>=0&&(e=e.umod(E.n));const a=e.toArrayLike(Uint8Array,"be",32);return r.set(a),0},publicKeyVerify(r){return b(r)===null?1:0},publicKeyCreate(r,t){const e=new _(t);if(e.cmp(E.n)>=0||e.isZero())return 1;const a=v.keyFromPrivate(t).getPublic();return o(r,a),0},publicKeyConvert(r,t){const e=b(t);if(e===null)return 1;const a=e.getPublic();return o(r,a),0},publicKeyNegate(r,t){const e=b(t);if(e===null)return 1;const a=e.getPublic();return a.y=a.y.redNeg(),o(r,a),0},publicKeyCombine(r,t){const e=new Array(t.length);for(let i=0;i<t.length;++i)if(e[i]=b(t[i]),e[i]===null)return 1;let a=e[0].getPublic();for(let i=1;i<e.length;++i)a=a.add(e[i].pub);return a.isInfinity()?2:(o(r,a),0)},publicKeyTweakAdd(r,t,e){const a=b(t);if(a===null)return 1;if(e=new _(e),e.cmp(E.n)>=0)return 2;const i=a.getPublic().add(E.g.mul(e));return i.isInfinity()?2:(o(r,i),0)},publicKeyTweakMul(r,t,e){const a=b(t);if(a===null)return 1;if(e=new _(e),e.cmp(E.n)>=0||e.isZero())return 2;const i=a.getPublic().mul(e);return o(r,i),0},signatureNormalize(r){const t=new _(r.subarray(0,32)),e=new _(r.subarray(32,64));return t.cmp(E.n)>=0||e.cmp(E.n)>=0?1:(e.cmp(v.nh)===1&&r.set(E.n.sub(e).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(r,t){const e=t.subarray(0,32),a=t.subarray(32,64);if(new _(e).cmp(E.n)>=0||new _(a).cmp(E.n)>=0)return 1;const{output:i}=r;let n=i.subarray(4,37);n[0]=0,n.set(e,1);let u=33,c=0;for(;u>1&&n[c]===0&&!(n[c+1]&128);--u,++c);if(n=n.subarray(c),n[0]&128||u>1&&n[0]===0&&!(n[1]&128))return 1;let p=i.subarray(39,72);p[0]=0,p.set(a,1);let m=33,O=0;for(;m>1&&p[O]===0&&!(p[O+1]&128);--m,++O);return p=p.subarray(O),p[0]&128||m>1&&p[0]===0&&!(p[1]&128)?1:(r.outputlen=6+u+m,i[0]=48,i[1]=r.outputlen-2,i[2]=2,i[3]=n.length,i.set(n,4),i[4+u]=2,i[5+u]=p.length,i.set(p,6+u),0)},signatureImport(r,t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return 1;const e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return 1;const a=t[5+e];if(a===0||6+e+a!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||a>1&&t[e+6]===0&&!(t[e+7]&128))return 1;let i=t.subarray(4,4+e);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let n=t.subarray(6+e);if(n.length===33&&n[0]===0&&(n=n.slice(1)),n.length>32)throw new Error("S length is too long");let u=new _(i);u.cmp(E.n)>=0&&(u=new _(0));let c=new _(t.subarray(6+e));return c.cmp(E.n)>=0&&(c=new _(0)),r.set(u.toArrayLike(Uint8Array,"be",32),0),r.set(c.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(r,t,e,a,i){if(i){const c=i;i=p=>{const m=c(t,e,null,a,p);if(!(m instanceof Uint8Array&&m.length===32))throw new Error("This is the way");return new _(m)}}const n=new _(e);if(n.cmp(E.n)>=0||n.isZero())return 1;let u;try{u=v.sign(t,e,{canonical:!0,k:i,pers:a})}catch{return 1}return r.signature.set(u.r.toArrayLike(Uint8Array,"be",32),0),r.signature.set(u.s.toArrayLike(Uint8Array,"be",32),32),r.recid=u.recoveryParam,0},ecdsaVerify(r,t,e){const a={r:r.subarray(0,32),s:r.subarray(32,64)},i=new _(a.r),n=new _(a.s);if(i.cmp(E.n)>=0||n.cmp(E.n)>=0)return 1;if(n.cmp(v.nh)===1||i.isZero()||n.isZero())return 3;const u=b(e);if(u===null)return 2;const c=u.getPublic();return v.verify(t,a,c)?0:3},ecdsaRecover(r,t,e,a){const i={r:t.slice(0,32),s:t.slice(32,64)},n=new _(i.r),u=new _(i.s);if(n.cmp(E.n)>=0||u.cmp(E.n)>=0)return 1;if(n.isZero()||u.isZero())return 2;let c;try{c=v.recoverPubKey(a,i,e)}catch{return 2}return o(r,c),0},ecdh(r,t,e,a,i,n,u){const c=b(t);if(c===null)return 1;const p=new _(e);if(p.cmp(E.n)>=0||p.isZero())return 2;const m=c.getPublic().mul(p);if(i===void 0){const O=m.encode(null,!0),I=v.hash().update(O).digest();for(let C=0;C<32;++C)r[C]=I[C]}else{n||(n=new Uint8Array(32));const O=m.getX().toArray("be",32);for(let D=0;D<32;++D)n[D]=O[D];u||(u=new Uint8Array(32));const I=m.getY().toArray("be",32);for(let D=0;D<32;++D)u[D]=I[D];const C=i(n,u,a);if(!(C instanceof Uint8Array&&C.length===r.length))return 2;r.set(C)}return 0}},Mn}var Cn,Ro;function lu(){return Ro||(Ro=1,Cn=Mf()(Qf())),Cn}var Do;function ua(){if(Do)return Tt;Do=1,Object.defineProperty(Tt,"__esModule",{value:!0});function l(i){return i&&i.__esModule?i:{default:i}}var v=Ge(),E=au(),_=lu(),y=l(_),d=vr();function b(i){switch(i){case d.KeyType.ED25519:return"ed25519";case d.KeyType.SECP256K1:return"secp256k1";default:throw new Error(`Unknown key type ${i}`)}}function o(i){switch(i.toLowerCase()){case"ed25519":return d.KeyType.ED25519;case"secp256k1":return d.KeyType.SECP256K1;default:throw new Error(`Unknown key type ${i}`)}}function r(i){switch(i){case d.KeyType.ED25519:return"ed25519Key";case d.KeyType.SECP256K1:return"secp256k1Key";default:throw Error(`unknown type ${i}`)}}class t{constructor(n){if(Object.keys(n).length!==1)throw new Error("Enum can only take single value");Object.keys(n).map(u=>{this[u]=n[u]})}}class e extends t{constructor(n){const u=r(n.keyType);super({[u]:n}),this[u]=n,this.enum=u}static from(n){return typeof n=="string"?e.fromString(n):n}static fromString(n){const u=n.split(":");let c,p;if(u.length===1)c=u[0];else if(u.length===2)c=u[1],p=o(u[0]);else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");const m=v.baseDecode.call(void 0,c);p||(p=m.length===d.KeySize.SECP256k1_PUBLIC_KEY?d.KeyType.SECP256K1:d.KeyType.ED25519);const O=p===d.KeyType.ED25519?d.KeySize.ED25519_PUBLIC_KEY:d.KeySize.SECP256k1_PUBLIC_KEY;if(m.length!==O)throw new Error(`Invalid public key size (${m.length}), must be ${O}`);return new e({keyType:p,data:m})}toString(){const n=v.baseEncode.call(void 0,this.data);return`${b(this.keyType)}:${n}`}verify(n,u){const c=this.keyType,p=this.data;switch(c){case d.KeyType.ED25519:return E.ed25519.verify(u,n,p);case d.KeyType.SECP256K1:return y.default.ecdsaVerify(u.subarray(0,64),n,new Uint8Array([4,...p]));default:throw new Error(`Unknown key type: ${c}`)}}get keyPair(){return this.ed25519Key||this.secp256k1Key}get keyType(){return this.keyPair.keyType}get data(){return this.keyPair.data}}function a(i){const u=e.from(i).toString().replace(/^ed25519:/,""),c=v.baseDecode.call(void 0,u);let p="";for(let m=0;m<c.length;m++){const O=c[m].toString(16);p+=O.length===1?"0"+O:O}return p}return Tt.PublicKey=e,Tt.keyToImplicitAddress=a,Tt}var Lo;function hu(){if(Lo)return tr;Lo=1,Object.defineProperty(tr,"__esModule",{value:!0});var l=Ge(),v=au(),E=$t(),_=vr(),y=aa(),d=ua();class b extends y.KeyPairBase{constructor(r){super();const t=l.baseDecode.call(void 0,r),e=new Uint8Array(t.slice(0,_.KeySize.SECRET_KEY)),a=v.ed25519.getPublicKey(new Uint8Array(e));this.publicKey=new d.PublicKey({keyType:_.KeyType.ED25519,data:a}),this.secretKey=l.baseEncode.call(void 0,e),this.extendedSecretKey=r}static fromRandom(){const r=E.randomBytes.call(void 0,_.KeySize.SECRET_KEY),t=v.ed25519.getPublicKey(new Uint8Array(r)),e=new Uint8Array([...r,...t]);return new b(l.baseEncode.call(void 0,e))}sign(r){return{signature:v.ed25519.sign(r,l.baseDecode.call(void 0,this.secretKey)),publicKey:this.publicKey}}verify(r,t){return this.publicKey.verify(r,t)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}return tr.KeyPairEd25519=b,tr}var or={},qo;function pu(){if(qo)return or;qo=1,Object.defineProperty(or,"__esModule",{value:!0});function l(t){return t&&t.__esModule?t:{default:t}}var v=Ge(),E=$t(),_=lu(),y=l(_),d=vr(),b=aa(),o=ua();class r extends b.KeyPairBase{constructor(e){super();const a=v.baseDecode.call(void 0,e),i=new Uint8Array(a.slice(0,d.KeySize.SECRET_KEY)),n=y.default.publicKeyCreate(new Uint8Array(i),!1),u=n.subarray(1,n.length);this.publicKey=new o.PublicKey({keyType:d.KeyType.SECP256K1,data:u}),this.secretKey=v.baseEncode.call(void 0,i),this.extendedSecretKey=e}static fromRandom(){const e=E.randomBytes.call(void 0,d.KeySize.SECRET_KEY),a=y.default.publicKeyCreate(new Uint8Array(e),!1),i=a.subarray(1,a.length),n=new Uint8Array([...e,...i]);return new r(v.baseEncode.call(void 0,n))}sign(e){const{signature:a,recid:i}=y.default.ecdsaSign(e,v.baseDecode.call(void 0,this.secretKey));return{signature:new Uint8Array([...a,i]),publicKey:this.publicKey}}verify(e,a){return this.publicKey.verify(e,a)}toString(){return`secp256k1:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}return or.KeyPairSecp256k1=r,or}var Fo;function e0(){if(Fo)return Qt;Fo=1,Object.defineProperty(Qt,"__esModule",{value:!0});var l=aa(),v=hu(),E=pu();class _ extends l.KeyPairBase{static fromRandom(d){switch(d.toUpperCase()){case"ED25519":return v.KeyPairEd25519.fromRandom();case"SECP256K1":return E.KeyPairSecp256k1.fromRandom();default:throw new Error(`Unknown curve ${d}`)}}static fromString(d){const b=d.split(":");if(b.length===2)switch(b[0].toUpperCase()){case"ED25519":return new v.KeyPairEd25519(b[1]);case"SECP256K1":return new E.KeyPairSecp256k1(b[1]);default:throw new Error(`Unknown curve: ${b[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}return Qt.KeyPair=_,Qt}var Ko;function gt(){if(Ko)return at;Ko=1,Object.defineProperty(at,"__esModule",{value:!0});var l=vr(),v=e0(),E=hu(),_=pu(),y=ua();return at.KeyPair=v.KeyPair,at.KeyPairEd25519=E.KeyPairEd25519,at.KeyPairSecp256k1=_.KeyPairSecp256k1,at.KeyType=l.KeyType,at.PublicKey=y.PublicKey,at.keyToImplicitAddress=y.keyToImplicitAddress,at}var Bn,Uo;function fa(){if(Uo)return Bn;Uo=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{KeyStore:()=>r}),Bn=b(o);class r{}return Bn}var kn,zo;function t0(){if(zo)return kn;zo=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(a,i)=>{for(var n in i)l(a,n,{get:i[n],enumerable:!0})},d=(a,i,n,u)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of E(i))!_.call(a,c)&&c!==n&&l(a,c,{get:()=>i[c],enumerable:!(u=v(i,c))||u.enumerable});return a},b=a=>d(l({},"__esModule",{value:!0}),a),o={};y(o,{InMemoryKeyStore:()=>e}),kn=b(o);var r=gt(),t=fa();class e extends t.KeyStore{keys;constructor(){super(),this.keys={}}async setKey(i,n,u){this.keys[`${n}:${i}`]=u.toString()}async getKey(i,n){const u=this.keys[`${n}:${i}`];return u?r.KeyPair.fromString(u):null}async removeKey(i,n){delete this.keys[`${n}:${i}`]}async clear(){this.keys={}}async getNetworks(){const i=new Set;return Object.keys(this.keys).forEach(n=>{const u=n.split(":");i.add(u[1])}),Array.from(i.values())}async getAccounts(i){const n=new Array;return Object.keys(this.keys).forEach(u=>{const c=u.split(":");c[c.length-1]===i&&n.push(c.slice(0,c.length-1).join(":"))}),n}toString(){return"InMemoryKeyStore"}}return kn}var jn,Ho;function r0(){if(Ho)return jn;Ho=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(e,a)=>{for(var i in a)l(e,i,{get:a[i],enumerable:!0})},d=(e,a,i,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of E(a))!_.call(e,u)&&u!==i&&l(e,u,{get:()=>a[u],enumerable:!(n=v(a,u))||n.enumerable});return e},b=e=>d(l({},"__esModule",{value:!0}),e),o={};y(o,{MergeKeyStore:()=>t}),jn=b(o);var r=fa();class t extends r.KeyStore{options;keyStores;constructor(a,i={writeKeyStoreIndex:0}){super(),this.options=i,this.keyStores=a}async setKey(a,i,n){await this.keyStores[this.options.writeKeyStoreIndex].setKey(a,i,n)}async getKey(a,i){for(const n of this.keyStores){const u=await n.getKey(a,i);if(u)return u}return null}async removeKey(a,i){for(const n of this.keyStores)await n.removeKey(a,i)}async clear(){for(const a of this.keyStores)await a.clear()}async getNetworks(){const a=new Set;for(const i of this.keyStores)for(const n of await i.getNetworks())a.add(n);return Array.from(a)}async getAccounts(a){const i=new Set;for(const n of this.keyStores)for(const u of await n.getAccounts(a))i.add(u);return Array.from(i)}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}return jn}var Nn,Vo;function n0(){if(Vo)return Nn;Vo=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{MultiContractKeyStore:()=>r}),Nn=b(o);class r{}return Nn}var Tn,Jo;function Pt(){if(Jo)return Tn;Jo=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(i,n)=>{for(var u in n)l(i,u,{get:n[u],enumerable:!0})},d=(i,n,u,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let p of E(n))!_.call(i,p)&&p!==u&&l(i,p,{get:()=>n[p],enumerable:!(c=v(n,p))||c.enumerable});return i},b=i=>d(l({},"__esModule",{value:!0}),i),o={};y(o,{InMemoryKeyStore:()=>r.InMemoryKeyStore,KeyStore:()=>t.KeyStore,MergeKeyStore:()=>e.MergeKeyStore,MultiContractKeyStore:()=>a.MultiContractKeyStore}),Tn=b(o);var r=t0(),t=fa(),e=r0(),a=n0();return Tn}var Rn,Go;function i0(){if(Go)return Rn;Go=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{KeyStore:()=>r.KeyStore}),Rn=b(o);var r=Pt();return Rn}var Dn,$o;function a0(){if($o)return Dn;$o=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{InMemoryKeyStore:()=>r.InMemoryKeyStore}),Dn=b(o);var r=Pt();return Dn}var Ln,Wo;function o0(){if(Wo)return Ln;Wo=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(i,n)=>{for(var u in n)l(i,u,{get:n[u],enumerable:!0})},d=(i,n,u,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let p of E(n))!_.call(i,p)&&p!==u&&l(i,p,{get:()=>n[p],enumerable:!(c=v(n,p))||c.enumerable});return i},b=i=>d(l({},"__esModule",{value:!0}),i),o={};y(o,{BrowserLocalStorageKeyStore:()=>a}),Ln=b(o);var r=gt(),t=Pt();const e="near-api-js:keystore:";class a extends t.KeyStore{localStorage;prefix;constructor(n=window.localStorage,u=e){super(),this.localStorage=n,this.prefix=u}async setKey(n,u,c){this.localStorage.setItem(this.storageKeyForSecretKey(n,u),c.toString())}async getKey(n,u){const c=this.localStorage.getItem(this.storageKeyForSecretKey(n,u));return c?r.KeyPair.fromString(c):null}async removeKey(n,u){this.localStorage.removeItem(this.storageKeyForSecretKey(n,u))}async clear(){for(const n of this.storageKeys())n.startsWith(this.prefix)&&this.localStorage.removeItem(n)}async getNetworks(){const n=new Set;for(const u of this.storageKeys())if(u.startsWith(this.prefix)){const c=u.substring(this.prefix.length).split(":");n.add(c[1])}return Array.from(n.values())}async getAccounts(n){const u=new Array;for(const c of this.storageKeys())if(c.startsWith(this.prefix)){const p=c.substring(this.prefix.length).split(":");p[1]===n&&u.push(p[0])}return u}storageKeyForSecretKey(n,u){return`${this.prefix}${u}:${n}`}*storageKeys(){for(let n=0;n<this.localStorage.length;n++)yield this.localStorage.key(n)}}return Ln}var qn,Zo;function s0(){if(Zo)return qn;Zo=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(i,n)=>{for(var u in n)l(i,u,{get:n[u],enumerable:!0})},d=(i,n,u,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let p of E(n))!_.call(i,p)&&p!==u&&l(i,p,{get:()=>n[p],enumerable:!(c=v(n,p))||c.enumerable});return i},b=i=>d(l({},"__esModule",{value:!0}),i),o={};y(o,{MultiContractBrowserLocalStorageKeyStore:()=>a}),qn=b(o);var r=gt(),t=Pt();const e="near-api-js:keystore:";class a extends t.MultiContractKeyStore{localStorage;prefix;constructor(n=window.localStorage,u=e){super(),this.localStorage=n,this.prefix=u||e}async setKey(n,u,c,p){this.localStorage.setItem(this.storageKeyForSecretKey(n,u,p),c.toString())}async getKey(n,u,c){const p=this.localStorage.getItem(this.storageKeyForSecretKey(n,u,c));return p?r.KeyPair.fromString(p):null}async removeKey(n,u,c){this.localStorage.removeItem(this.storageKeyForSecretKey(n,u,c))}async clear(){for(const n of this.storageKeys())n.startsWith(this.prefix)&&this.localStorage.removeItem(n)}async getNetworks(){const n=new Set;for(const u of this.storageKeys())if(u.startsWith(this.prefix)){const c=u.substring(this.prefix.length).split(":");n.add(c[1])}return Array.from(n.values())}async getAccounts(n){const u=[];for(const c of this.storageKeys())if(c.startsWith(this.prefix)){const p=c.substring(this.prefix.length).split(":");p[1]===n&&u.push(p[0])}return u}async getContracts(n,u){const c=[];for(const p of this.storageKeys())if(p.startsWith(this.prefix)){const m=p.substring(this.prefix.length).split(":");m[1]===n&&m[0]===u&&c.push(m[2])}return c}storageKeyForSecretKey(n,u,c){return`${this.prefix}${u}:${n}:${c}`}*storageKeys(){for(let n=0;n<this.localStorage.length;n++)yield this.localStorage.key(n)}}return qn}var Fn,Xo;function c0(){if(Xo)return Fn;Xo=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(e,a)=>{for(var i in a)l(e,i,{get:a[i],enumerable:!0})},d=(e,a,i,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of E(a))!_.call(e,u)&&u!==i&&l(e,u,{get:()=>a[u],enumerable:!(n=v(a,u))||n.enumerable});return e},b=e=>d(l({},"__esModule",{value:!0}),e),o={};y(o,{BrowserLocalStorageKeyStore:()=>r.BrowserLocalStorageKeyStore,MultiContractBrowserLocalStorageKeyStore:()=>t.MultiContractBrowserLocalStorageKeyStore}),Fn=b(o);var r=o0(),t=s0();return Fn}var Kn,Yo;function u0(){if(Yo)return Kn;Yo=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{BrowserLocalStorageKeyStore:()=>r.BrowserLocalStorageKeyStore}),Kn=b(o);var r=c0();return Kn}var Un,Qo;function f0(){if(Qo)return Un;Qo=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{MergeKeyStore:()=>r.MergeKeyStore}),Un=b(o);var r=Pt();return Un}var zn,es;function d0(){if(es)return zn;es=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(i,n)=>{for(var u in n)l(i,u,{get:n[u],enumerable:!0})},d=(i,n,u,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let p of E(n))!_.call(i,p)&&p!==u&&l(i,p,{get:()=>n[p],enumerable:!(c=v(n,p))||c.enumerable});return i},b=i=>d(l({},"__esModule",{value:!0}),i),o={};y(o,{BrowserLocalStorageKeyStore:()=>e.BrowserLocalStorageKeyStore,InMemoryKeyStore:()=>t.InMemoryKeyStore,KeyStore:()=>r.KeyStore,MergeKeyStore:()=>a.MergeKeyStore}),zn=b(o);var r=i0(),t=a0(),e=u0(),a=f0();return zn}var Hn,ts;function l0(){if(ts)return Hn;ts=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(e,a)=>{for(var i in a)l(e,i,{get:a[i],enumerable:!0})},d=(e,a,i,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of E(a))!_.call(e,u)&&u!==i&&l(e,u,{get:()=>a[u],enumerable:!(n=v(a,u))||n.enumerable});return e},b=e=>d(l({},"__esModule",{value:!0}),e),o={};y(o,{exponentialBackoff:()=>r}),Hn=b(o);async function r(e,a,i,n){let u=e;for(let c=0;c<a;c++){const p=await n();if(p)return p;await t(u),u*=i}return null}function t(e){return new Promise(a=>setTimeout(a,e))}return Hn}var Vn={exports:{}},Jn,rs;function da(){if(rs)return Jn;rs=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(w,s)=>{for(var h in s)l(w,h,{get:s[h],enumerable:!0})},d=(w,s,h,f)=>{if(s&&typeof s=="object"||typeof s=="function")for(let x of E(s))!_.call(w,x)&&x!==h&&l(w,x,{get:()=>s[x],enumerable:!(f=v(s,x))||f.enumerable});return w},b=w=>d(l({},"__esModule",{value:!0}),w),o={};y(o,{AccessKey:()=>i,AccessKeyPermission:()=>a,Action:()=>U,AddKey:()=>D,CreateAccount:()=>n,DeleteAccount:()=>z,DeleteKey:()=>G,DeployContract:()=>u,DeployGlobalContract:()=>O,FullAccessPermission:()=>e,FunctionCall:()=>c,FunctionCallPermission:()=>t,GlobalContractDeployMode:()=>p,GlobalContractIdentifier:()=>m,SignedDelegate:()=>F,Stake:()=>k,Transfer:()=>C,UseGlobalContract:()=>I}),Jn=b(o);var r=Xe();class t{allowance;receiverId;methodNames;constructor({allowance:s,receiverId:h,methodNames:f}){this.allowance=s,this.receiverId=h,this.methodNames=f}}class e{}class a extends r.Enum{enum;functionCall;fullAccess;constructor(s){super(s);for(const[h,f]of Object.entries(s||{}))this[h]=f,this.enum=h}}class i{nonce;permission;constructor({nonce:s,permission:h}){this.nonce=s,this.permission=h}}class n{}class u{code;constructor({code:s}){this.code=s}}class c{methodName;args;gas;deposit;constructor({methodName:s,args:h,gas:f,deposit:x}){this.methodName=s,this.args=h,this.gas=f,this.deposit=x}}class p extends r.Enum{enum;CodeHash;AccountId;constructor(s){super(s);for(const[h,f]of Object.entries(s||{}))this[h]=f,this.enum=h}}class m extends r.Enum{enum;CodeHash;AccountId;constructor(s){super(s);for(const[h,f]of Object.entries(s||{}))this[h]=f,this.enum=h}}class O{code;deployMode;constructor({code:s,deployMode:h}){this.code=s,this.deployMode=h}}class I{contractIdentifier;constructor({contractIdentifier:s}){this.contractIdentifier=s}}class C{deposit;constructor({deposit:s}){this.deposit=s}}class k{stake;publicKey;constructor({stake:s,publicKey:h}){this.stake=s,this.publicKey=h}}class D{publicKey;accessKey;constructor({publicKey:s,accessKey:h}){this.publicKey=s,this.accessKey=h}}class G{publicKey;constructor({publicKey:s}){this.publicKey=s}}class z{beneficiaryId;constructor({beneficiaryId:s}){this.beneficiaryId=s}}class F{delegateAction;signature;constructor({delegateAction:s,signature:h}){this.delegateAction=s,this.signature=h}}class U extends r.Enum{enum;createAccount;deployContract;functionCall;transfer;stake;addKey;deleteKey;deleteAccount;signedDelegate;deployGlobalContract;useGlobalContract;constructor(s){super(s);for(const[h,f]of Object.entries(s||{}))this[h]=f,this.enum=h}}return Jn}var Gn,ns;function bu(){if(ns)return Gn;ns=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(z,F)=>{for(var U in F)l(z,U,{get:F[U],enumerable:!0})},d=(z,F,U,w)=>{if(F&&typeof F=="object"||typeof F=="function")for(let s of E(F))!_.call(z,s)&&s!==U&&l(z,s,{get:()=>F[s],enumerable:!(w=v(F,s))||w.enumerable});return z},b=z=>d(l({},"__esModule",{value:!0}),z),o={};y(o,{actionCreators:()=>G,stringifyJsonOrBytes:()=>n}),Gn=b(o);var r=da();function t(){return new r.AccessKey({nonce:0n,permission:new r.AccessKeyPermission({fullAccess:new r.FullAccessPermission})})}function e(z,F,U){return new r.AccessKey({nonce:0n,permission:new r.AccessKeyPermission({functionCall:new r.FunctionCallPermission({receiverId:z,allowance:U,methodNames:F})})})}function a(){return new r.Action({createAccount:new r.CreateAccount})}function i(z){return new r.Action({deployContract:new r.DeployContract({code:z})})}function n(z){return z.byteLength!==void 0&&z.byteLength===z.length?z:Buffer.from(JSON.stringify(z))}function u(z,F,U=0n,w=0n,s=n){return new r.Action({functionCall:new r.FunctionCall({methodName:z,args:s(F),gas:U,deposit:w})})}function c(z=0n){return new r.Action({transfer:new r.Transfer({deposit:z})})}function p(z=0n,F){return new r.Action({stake:new r.Stake({stake:z,publicKey:F})})}function m(z,F){return new r.Action({addKey:new r.AddKey({publicKey:z,accessKey:F})})}function O(z){return new r.Action({deleteKey:new r.DeleteKey({publicKey:z})})}function I(z){return new r.Action({deleteAccount:new r.DeleteAccount({beneficiaryId:z})})}function C({delegateAction:z,signature:F}){return new r.Action({signedDelegate:new r.SignedDelegate({delegateAction:z,signature:F})})}function k(z,F){return new r.Action({deployGlobalContract:new r.DeployGlobalContract({code:z,deployMode:F})})}function D(z){return new r.Action({useGlobalContract:new r.UseGlobalContract({contractIdentifier:z})})}const G={addKey:m,createAccount:a,deleteAccount:I,deleteKey:O,deployContract:i,fullAccessKey:t,functionCall:u,functionCallAccessKey:e,signedDelegate:C,stake:p,transfer:c,deployGlobalContract:k,useGlobalContract:D};return Gn}var $e={},Qe={},Rt={},is;function la(){return is||(is=1,Rt.__esModule=!0,Rt.integers=void 0,Rt.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]),Rt}var xt={},as;function yu(){if(as)return xt;as=1,xt.__esModule=!0,xt.DecodeBuffer=xt.EncodeBuffer=void 0;var l=(function(){function E(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return E.prototype.resize_if_necessary=function(_){if(this.buffer_size-this.offset<_){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+_);var y=new ArrayBuffer(this.buffer_size);new Uint8Array(y).set(new Uint8Array(this.buffer)),this.buffer=y,this.view=new DataView(y)}},E.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},E.prototype.store_value=function(_,y){var d=y.substring(1),b=parseInt(d)/8;this.resize_if_necessary(b);var o=y[0]==="f"?"setFloat".concat(d):y[0]==="i"?"setInt".concat(d):"setUint".concat(d);this.view[o](this.offset,_,!0),this.offset+=b},E.prototype.store_bytes=function(_){this.resize_if_necessary(_.length),new Uint8Array(this.buffer).set(new Uint8Array(_),this.offset),this.offset+=_.length},E})();xt.EncodeBuffer=l;var v=(function(){function E(_){this.offset=0,this.buffer_size=_.length,this.buffer=new ArrayBuffer(_.length),new Uint8Array(this.buffer).set(_),this.view=new DataView(this.buffer)}return E.prototype.assert_enough_buffer=function(_){if(this.offset+_>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},E.prototype.consume_value=function(_){var y=_.substring(1),d=parseInt(y)/8;this.assert_enough_buffer(d);var b=_[0]==="f"?"getFloat".concat(y):_[0]==="i"?"getInt".concat(y):"getUint".concat(y),o=this.view[b](this.offset,!0);return this.offset+=d,o},E.prototype.consume_bytes=function(_){this.assert_enough_buffer(_);var y=this.buffer.slice(this.offset,this.offset+_);return this.offset+=_,y},E})();return xt.DecodeBuffer=v,xt}var ze={},os;function vu(){if(os)return ze;os=1;var l=ze&&ze.__extends||(function(){var c=function(p,m){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,I){O.__proto__=I}||function(O,I){for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(O[C]=I[C])},c(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");c(p,m);function O(){this.constructor=p}p.prototype=m===null?Object.create(m):(O.prototype=m.prototype,new O)}})();ze.__esModule=!0,ze.validate_schema=ze.ErrorSchema=ze.expect_enum=ze.expect_same_size=ze.expect_bigint=ze.expect_type=ze.isArrayLike=void 0;var v=la();function E(c){return Array.isArray(c)||!!c&&typeof c=="object"&&"length"in c&&typeof c.length=="number"&&(c.length===0||c.length>0&&c.length-1 in c)}ze.isArrayLike=E;function _(c,p,m){if(typeof c!==p)throw new Error("Expected ".concat(p," not ").concat(typeof c,"(").concat(c,") at ").concat(m.join(".")))}ze.expect_type=_;function y(c,p){var m=["number","string","bigint","boolean"].includes(typeof c),O=typeof c=="object"&&c!==null&&"toString"in c;if(!m&&!O)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof c,"(").concat(c,") at ").concat(p.join(".")))}ze.expect_bigint=y;function d(c,p,m){if(c!==p)throw new Error("Array length ".concat(c," does not match schema length ").concat(p," at ").concat(m.join(".")))}ze.expect_same_size=d;function b(c,p){if(typeof c!="object"||c===null)throw new Error("Expected object not ".concat(typeof c,"(").concat(c,") at ").concat(p.join(".")))}ze.expect_enum=b;var o=v.integers.concat(["bool","string"]),r=["option","enum","array","set","map","struct"],t=(function(c){l(p,c);function p(m,O){var I="Invalid schema: ".concat(JSON.stringify(m)," expected ").concat(O);return c.call(this,I)||this}return p})(Error);ze.ErrorSchema=t;function e(c){if(!(typeof c=="string"&&o.includes(c))){if(c&&typeof c=="object"){var p=Object.keys(c);if(p.length===1&&r.includes(p[0])){var m=p[0];if(m==="option")return e(c[m]);if(m==="enum")return a(c[m]);if(m==="array")return i(c[m]);if(m==="set")return e(c[m]);if(m==="map")return n(c[m]);if(m==="struct")return u(c[m])}}throw new t(c,r.join(", ")+" or "+o.join(", "))}}ze.validate_schema=e;function a(c){if(!Array.isArray(c))throw new t(c,"Array");for(var p=0,m=c;p<m.length;p++){var O=m[p];if(typeof O!="object"||!("struct"in O))throw new Error('Missing "struct" key in enum schema');if(typeof O.struct!="object"||Object.keys(O.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');e({struct:O.struct})}}function i(c){if(typeof c!="object")throw new t(c,"{ type, len? }");if(c.len&&typeof c.len!="number")throw new Error("Invalid schema: ".concat(c));if("type"in c)return e(c.type);throw new t(c,"{ type, len? }")}function n(c){if(typeof c=="object"&&"key"in c&&"value"in c)e(c.key),e(c.value);else throw new t(c,"{ key, value }")}function u(c){if(typeof c!="object")throw new t(c,"object");for(var p in c)e(c[p])}return ze}var ss;function h0(){if(ss)return Qe;ss=1;var l=Qe&&Qe.__createBinding||(Object.create?(function(o,r,t,e){e===void 0&&(e=t);var a=Object.getOwnPropertyDescriptor(r,t);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(o,e,a)}):(function(o,r,t,e){e===void 0&&(e=t),o[e]=r[t]})),v=Qe&&Qe.__setModuleDefault||(Object.create?(function(o,r){Object.defineProperty(o,"default",{enumerable:!0,value:r})}):function(o,r){o.default=r}),E=Qe&&Qe.__importStar||function(o){if(o&&o.__esModule)return o;var r={};if(o!=null)for(var t in o)t!=="default"&&Object.prototype.hasOwnProperty.call(o,t)&&l(r,o,t);return v(r,o),r};Qe.__esModule=!0,Qe.BorshSerializer=void 0;var _=la(),y=yu(),d=E(vu()),b=(function(){function o(r){this.encoded=new y.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=r}return o.prototype.encode=function(r,t){return this.encode_value(r,t),this.encoded.get_used_buffer()},o.prototype.encode_value=function(r,t){if(typeof t=="string"){if(_.integers.includes(t))return this.encode_integer(r,t);if(t==="string")return this.encode_string(r);if(t==="bool")return this.encode_boolean(r)}if(typeof t=="object"){if("option"in t)return this.encode_option(r,t);if("enum"in t)return this.encode_enum(r,t);if("array"in t)return this.encode_array(r,t);if("set"in t)return this.encode_set(r,t);if("map"in t)return this.encode_map(r,t);if("struct"in t)return this.encode_struct(r,t)}},o.prototype.encode_integer=function(r,t){var e=parseInt(t.substring(1));e<=32||t=="f64"?(this.checkTypes&&d.expect_type(r,"number",this.fieldPath),this.encoded.store_value(r,t)):(this.checkTypes&&d.expect_bigint(r,this.fieldPath),this.encode_bigint(BigInt(r),e))},o.prototype.encode_bigint=function(r,t){for(var e=t/8,a=new Uint8Array(e),i=0;i<e;i++)a[i]=Number(r&BigInt(255)),r=r>>BigInt(8);this.encoded.store_bytes(new Uint8Array(a))},o.prototype.encode_string=function(r){this.checkTypes&&d.expect_type(r,"string",this.fieldPath);var t=r;this.encoded.store_value(t.length,"u32");for(var e=0;e<t.length;e++)this.encoded.store_value(t.charCodeAt(e),"u8")},o.prototype.encode_boolean=function(r){this.checkTypes&&d.expect_type(r,"boolean",this.fieldPath),this.encoded.store_value(r?1:0,"u8")},o.prototype.encode_option=function(r,t){r==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(r,t.option))},o.prototype.encode_enum=function(r,t){this.checkTypes&&d.expect_enum(r,this.fieldPath);for(var e=Object.keys(r)[0],a=0;a<t.enum.length;a++){var i=t.enum[a];if(e===Object.keys(i.struct)[0])return this.encoded.store_value(a,"u8"),this.encode_struct(r,i)}throw new Error("Enum key (".concat(e,") not found in enum schema: ").concat(JSON.stringify(t)," at ").concat(this.fieldPath.join(".")))},o.prototype.encode_array=function(r,t){if(d.isArrayLike(r))return this.encode_arraylike(r,t);if(r instanceof ArrayBuffer)return this.encode_buffer(r,t);throw new Error("Expected Array-like not ".concat(typeof r,"(").concat(r,") at ").concat(this.fieldPath.join(".")))},o.prototype.encode_arraylike=function(r,t){t.array.len?d.expect_same_size(r.length,t.array.len,this.fieldPath):this.encoded.store_value(r.length,"u32");for(var e=0;e<r.length;e++)this.encode_value(r[e],t.array.type)},o.prototype.encode_buffer=function(r,t){t.array.len?d.expect_same_size(r.byteLength,t.array.len,this.fieldPath):this.encoded.store_value(r.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(r))},o.prototype.encode_set=function(r,t){this.checkTypes&&d.expect_type(r,"object",this.fieldPath);var e=r instanceof Set,a=e?Array.from(r.values()):Object.values(r);this.encoded.store_value(a.length,"u32");for(var i=0,n=a;i<n.length;i++){var u=n[i];this.encode_value(u,t.set)}},o.prototype.encode_map=function(r,t){this.checkTypes&&d.expect_type(r,"object",this.fieldPath);var e=r instanceof Map,a=e?Array.from(r.keys()):Object.keys(r);this.encoded.store_value(a.length,"u32");for(var i=0,n=a;i<n.length;i++){var u=n[i];this.encode_value(u,t.map.key),this.encode_value(e?r.get(u):r[u],t.map.value)}},o.prototype.encode_struct=function(r,t){this.checkTypes&&d.expect_type(r,"object",this.fieldPath);for(var e=0,a=Object.keys(t.struct);e<a.length;e++){var i=a[e];this.fieldPath.push(i),this.encode_value(r[i],t.struct[i]),this.fieldPath.pop()}},o})();return Qe.BorshSerializer=b,Qe}var Dt={},cs;function p0(){if(cs)return Dt;cs=1,Dt.__esModule=!0,Dt.BorshDeserializer=void 0;var l=la(),v=yu(),E=(function(){function _(y){this.buffer=new v.DecodeBuffer(y)}return _.prototype.decode=function(y){return this.decode_value(y)},_.prototype.decode_value=function(y){if(typeof y=="string"){if(l.integers.includes(y))return this.decode_integer(y);if(y==="string")return this.decode_string();if(y==="bool")return this.decode_boolean()}if(typeof y=="object"){if("option"in y)return this.decode_option(y);if("enum"in y)return this.decode_enum(y);if("array"in y)return this.decode_array(y);if("set"in y)return this.decode_set(y);if("map"in y)return this.decode_map(y);if("struct"in y)return this.decode_struct(y)}throw new Error("Unsupported type: ".concat(y))},_.prototype.decode_integer=function(y){var d=parseInt(y.substring(1));return d<=32||y=="f64"?this.buffer.consume_value(y):this.decode_bigint(d,y.startsWith("i"))},_.prototype.decode_bigint=function(y,d){d===void 0&&(d=!1);var b=y/8,o=new Uint8Array(this.buffer.consume_bytes(b)),r=o.reduceRight(function(t,e){return t+e.toString(16).padStart(2,"0")},"");return d&&o[b-1]?BigInt.asIntN(y,BigInt("0x".concat(r))):BigInt("0x".concat(r))},_.prototype.decode_string=function(){var y=this.decode_integer("u32"),d=new Uint8Array(this.buffer.consume_bytes(y));return String.fromCharCode.apply(null,d)},_.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},_.prototype.decode_option=function(y){var d=this.buffer.consume_value("u8");if(d===1)return this.decode_value(y.option);if(d!==0)throw new Error("Invalid option ".concat(d));return null},_.prototype.decode_enum=function(y){var d,b=this.buffer.consume_value("u8");if(b>y.enum.length)throw new Error("Enum option ".concat(b," is not available"));var o=y.enum[b].struct,r=Object.keys(o)[0];return d={},d[r]=this.decode_value(o[r]),d},_.prototype.decode_array=function(y){for(var d=[],b=y.array.len?y.array.len:this.decode_integer("u32"),o=0;o<b;++o)d.push(this.decode_value(y.array.type));return d},_.prototype.decode_set=function(y){for(var d=this.decode_integer("u32"),b=new Set,o=0;o<d;++o)b.add(this.decode_value(y.set));return b},_.prototype.decode_map=function(y){for(var d=this.decode_integer("u32"),b=new Map,o=0;o<d;++o){var r=this.decode_value(y.map.key),t=this.decode_value(y.map.value);b.set(r,t)}return b},_.prototype.decode_struct=function(y){var d={};for(var b in y.struct)d[b]=this.decode_value(y.struct[b]);return d},_})();return Dt.BorshDeserializer=E,Dt}var us;function b0(){if(us)return $e;us=1;var l=$e&&$e.__createBinding||(Object.create?(function(r,t,e,a){a===void 0&&(a=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,a,i)}):(function(r,t,e,a){a===void 0&&(a=e),r[a]=t[e]})),v=$e&&$e.__setModuleDefault||(Object.create?(function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}):function(r,t){r.default=t}),E=$e&&$e.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&l(t,r,e);return v(t,r),t};$e.__esModule=!0,$e.deserialize=$e.serialize=void 0;var _=h0(),y=p0(),d=E(vu());function b(r,t,e){e===void 0&&(e=!0),e&&d.validate_schema(r);var a=new _.BorshSerializer(e);return a.encode(t,r)}$e.serialize=b;function o(r,t,e){e===void 0&&(e=!0),e&&d.validate_schema(r);var a=new y.BorshDeserializer(t);return a.decode(r)}return $e.deserialize=o,$e}var $n,fs;function y0(){if(fs)return $n;fs=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(n,u)=>{for(var c in u)l(n,c,{get:u[c],enumerable:!0})},d=(n,u,c,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let m of E(u))!_.call(n,m)&&m!==c&&l(n,m,{get:()=>u[m],enumerable:!(p=v(u,m))||p.enumerable});return n},b=n=>d(l({},"__esModule",{value:!0}),n),o={};y(o,{DelegateActionPrefix:()=>i}),$n=b(o);const r=Math.pow(2,30),t={MetaTransactions:366};class e{prefix;constructor({prefix:u}){this.prefix=u}}class a extends e{constructor(u){super({prefix:r+u})}}class i extends a{constructor(){super(t.MetaTransactions)}}return $n}var Wn,ds;function _u(){if(ds)return Wn;ds=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(O,I)=>{for(var C in I)l(O,C,{get:I[C],enumerable:!0})},d=(O,I,C,k)=>{if(I&&typeof I=="object"||typeof I=="function")for(let D of E(I))!_.call(O,D)&&D!==C&&l(O,D,{get:()=>I[D],enumerable:!(k=v(I,D))||k.enumerable});return O},b=O=>d(l({},"__esModule",{value:!0}),O),o={};y(o,{SCHEMA:()=>m,SignedTransaction:()=>p,Transaction:()=>c,decodeSignedTransaction:()=>u,decodeTransaction:()=>n,encodeDelegateAction:()=>e,encodeSignedDelegate:()=>a,encodeTransaction:()=>i}),Wn=b(o);var r=b0(),t=y0();function e(O){return new Uint8Array([...(0,r.serialize)(m.DelegateActionPrefix,new t.DelegateActionPrefix),...(0,r.serialize)(m.DelegateAction,O)])}function a(O){return(0,r.serialize)(m.SignedDelegate,O)}function i(O){const I="signature"in O?m.SignedTransaction:m.Transaction;return(0,r.serialize)(I,O)}function n(O){return new c((0,r.deserialize)(m.Transaction,O))}function u(O){return new p((0,r.deserialize)(m.SignedTransaction,O))}class c{signerId;publicKey;nonce;receiverId;actions;blockHash;constructor({signerId:I,publicKey:C,nonce:k,receiverId:D,actions:G,blockHash:z}){this.signerId=I,this.publicKey=C,this.nonce=k,this.receiverId=D,this.actions=G,this.blockHash=z}encode(){return i(this)}static decode(I){return n(I)}}class p{transaction;signature;constructor({transaction:I,signature:C}){this.transaction=I,this.signature=C}encode(){return i(this)}static decode(I){return u(I)}}const m=new class{Ed25519Signature={struct:{data:{array:{type:"u8",len:64}}}};Secp256k1Signature={struct:{data:{array:{type:"u8",len:65}}}};Signature={enum:[{struct:{ed25519Signature:this.Ed25519Signature}},{struct:{secp256k1Signature:this.Secp256k1Signature}}]};Ed25519Data={struct:{data:{array:{type:"u8",len:32}}}};Secp256k1Data={struct:{data:{array:{type:"u8",len:64}}}};PublicKey={enum:[{struct:{ed25519Key:this.Ed25519Data}},{struct:{secp256k1Key:this.Secp256k1Data}}]};FunctionCallPermission={struct:{allowance:{option:"u128"},receiverId:"string",methodNames:{array:{type:"string"}}}};FullAccessPermission={struct:{}};AccessKeyPermission={enum:[{struct:{functionCall:this.FunctionCallPermission}},{struct:{fullAccess:this.FullAccessPermission}}]};AccessKey={struct:{nonce:"u64",permission:this.AccessKeyPermission}};CreateAccount={struct:{}};DeployContract={struct:{code:{array:{type:"u8"}}}};FunctionCall={struct:{methodName:"string",args:{array:{type:"u8"}},gas:"u64",deposit:"u128"}};Transfer={struct:{deposit:"u128"}};Stake={struct:{stake:"u128",publicKey:this.PublicKey}};AddKey={struct:{publicKey:this.PublicKey,accessKey:this.AccessKey}};DeleteKey={struct:{publicKey:this.PublicKey}};DeleteAccount={struct:{beneficiaryId:"string"}};GlobalContractDeployMode={enum:[{struct:{CodeHash:{struct:{}}}},{struct:{AccountId:{struct:{}}}}]};GlobalContractIdentifier={enum:[{struct:{CodeHash:{array:{type:"u8",len:32}}}},{struct:{AccountId:"string"}}]};DeployGlobalContract={struct:{code:{array:{type:"u8"}},deployMode:this.GlobalContractDeployMode}};UseGlobalContract={struct:{contractIdentifier:this.GlobalContractIdentifier}};DelegateActionPrefix={struct:{prefix:"u32"}};ClassicActions={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:"string"}},{struct:{deployGlobalContract:this.DeployGlobalContract}},{struct:{useGlobalContract:this.UseGlobalContract}}]};DelegateAction={struct:{senderId:"string",receiverId:"string",actions:{array:{type:this.ClassicActions}},nonce:"u64",maxBlockHeight:"u64",publicKey:this.PublicKey}};SignedDelegate={struct:{delegateAction:this.DelegateAction,signature:this.Signature}};Action={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:this.SignedDelegate}},{struct:{deployGlobalContract:this.DeployGlobalContract}},{struct:{useGlobalContract:this.UseGlobalContract}}]};Transaction={struct:{signerId:"string",publicKey:this.PublicKey,nonce:"u64",receiverId:"string",blockHash:{array:{type:"u8",len:32}},actions:{array:{type:this.Action}}}};SignedTransaction={struct:{transaction:this.Transaction,signature:this.Signature}}};return Wn}var Zn,ls;function v0(){if(ls)return Zn;ls=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(e,a)=>{for(var i in a)l(e,i,{get:a[i],enumerable:!0})},d=(e,a,i,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of E(a))!_.call(e,u)&&u!==i&&l(e,u,{get:()=>a[u],enumerable:!(n=v(a,u))||n.enumerable});return e},b=e=>d(l({},"__esModule",{value:!0}),e),o={};y(o,{createTransaction:()=>t}),Zn=b(o);var r=_u();function t(e,a,i,n,u,c){const p=typeof n=="bigint"?n:BigInt(n);return new r.Transaction({signerId:e,publicKey:a,nonce:p,receiverId:i,actions:u,blockHash:c})}return Zn}var Xn,hs;function _0(){if(hs)return Xn;hs=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(D,G)=>{for(var z in G)l(D,z,{get:G[z],enumerable:!0})},d=(D,G,z,F)=>{if(G&&typeof G=="object"||typeof G=="function")for(let U of E(G))!_.call(D,U)&&U!==z&&l(D,U,{get:()=>G[U],enumerable:!(F=v(G,U))||F.enumerable});return D},b=D=>d(l({},"__esModule",{value:!0}),D),o={};y(o,{DelegateAction:()=>C,buildDelegateAction:()=>k}),Xn=b(o);var r=bu(),t=da();const{addKey:e,createAccount:a,deleteAccount:i,deleteKey:n,deployContract:u,functionCall:c,stake:p,transfer:m,deployGlobalContract:O,useGlobalContract:I}=r.actionCreators;class C{senderId;receiverId;actions;nonce;maxBlockHeight;publicKey;constructor({senderId:G,receiverId:z,actions:F,nonce:U,maxBlockHeight:w,publicKey:s}){this.senderId=G,this.receiverId=z,this.actions=F,this.nonce=U,this.maxBlockHeight=w,this.publicKey=s}}function k({actions:D,maxBlockHeight:G,nonce:z,publicKey:F,receiverId:U,senderId:w}){return new C({senderId:w,receiverId:U,actions:D.map(s=>{if(!s.type&&!s.params)return s;switch(s.type){case"AddKey":{const{publicKey:h,accessKey:f}=s.params;return e(h,f)}case"CreateAccount":return a(s.params.createAccount);case"DeleteAccount":return i(s.params.deleteAccount);case"DeleteKey":return n(s.params.publicKey);case"DeployContract":return u(s.params.code);case"FunctionCall":{const{methodName:h,args:f,gas:x,deposit:S}=s.params;return c(h,f,x,S)}case"Stake":return p(s.params.stake,s.params.publicKey);case"Transfer":{const{deposit:h}=s.params;return m(h)}case"DeployGlobalContract":{const{code:h,deployMode:f}=s.params,x=f instanceof t.GlobalContractDeployMode?f:new t.GlobalContractDeployMode(f);return O(h,x)}case"UseGlobalContract":{const{identifier:h}=s.params,f=h instanceof t.GlobalContractIdentifier?h:new t.GlobalContractIdentifier(h);return I(f)}}throw new Error("Unrecognized action")}),nonce:z,maxBlockHeight:G,publicKey:F})}return Xn}var Yn,ps;function g0(){if(ps)return Yn;ps=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(i,n)=>{for(var u in n)l(i,u,{get:n[u],enumerable:!0})},d=(i,n,u,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let p of E(n))!_.call(i,p)&&p!==u&&l(i,p,{get:()=>n[p],enumerable:!(c=v(n,p))||c.enumerable});return i},b=i=>d(l({},"__esModule",{value:!0}),i),o={};y(o,{Signature:()=>a}),Yn=b(o);var r=gt(),t=Xe();function e(i){switch(i){case r.KeyType.ED25519:return"ed25519Signature";case r.KeyType.SECP256K1:return"secp256k1Signature";default:throw Error(`unknown type ${i}`)}}class a extends t.Enum{enum;ed25519Signature;secp256k1Signature;constructor(n){const u=e(n.keyType);super({[u]:n}),this[u]=n,this.enum=u}get signature(){return this.ed25519Signature||this.secp256k1Signature}get signatureType(){return this.signature.keyType}get data(){return this.signature.data}}return Yn}var bs;function Gt(){return bs||(bs=1,(function(l){var v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.prototype.hasOwnProperty,d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of _(e))!y.call(t,n)&&n!==a&&v(t,n,{get:()=>e[n],enumerable:!(i=E(e,n))||i.enumerable});return t},b=(t,e,a)=>(d(t,e,"default"),a&&d(a,e,"default")),o=t=>d(v({},"__esModule",{value:!0}),t),r={};l.exports=o(r),b(r,bu(),l.exports),b(r,da(),l.exports),b(r,v0(),l.exports),b(r,_0(),l.exports),b(r,_u(),l.exports),b(r,g0(),l.exports)})(Vn)),Vn.exports}var pt={},It={},ys;function w0(){if(ys)return It;ys=1;var l=It&&It.__assign||function(){return l=Object.assign||function(_){for(var y,d=1,b=arguments.length;d<b;d++){y=arguments[d];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(_[o]=y[o])}return _},l.apply(this,arguments)};Object.defineProperty(It,"__esModule",{value:!0});var v={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};function E(_){var y=l(l({},v),_);return y.numOfAttempts<1&&(y.numOfAttempts=1),y}return It.getSanitizedOptions=E,It}var sr={},nt={},cr={},ur={},fr={},vs;function m0(){if(vs)return fr;vs=1,Object.defineProperty(fr,"__esModule",{value:!0});function l(v){var E=Math.random()*v;return Math.round(E)}return fr.fullJitter=l,fr}var dr={},_s;function x0(){if(_s)return dr;_s=1,Object.defineProperty(dr,"__esModule",{value:!0});function l(v){return v}return dr.noJitter=l,dr}var gs;function S0(){if(gs)return ur;gs=1,Object.defineProperty(ur,"__esModule",{value:!0});var l=m0(),v=x0();function E(_){return _.jitter==="full"?l.fullJitter:v.noJitter}return ur.JitterFactory=E,ur}var ws;function gu(){if(ws)return cr;ws=1,Object.defineProperty(cr,"__esModule",{value:!0});var l=S0(),v=(function(){function E(_){this.options=_,this.attempt=0}return E.prototype.apply=function(){var _=this;return new Promise(function(y){return setTimeout(y,_.jitteredDelay)})},E.prototype.setAttemptNumber=function(_){this.attempt=_},Object.defineProperty(E.prototype,"jitteredDelay",{get:function(){var _=l.JitterFactory(this.options);return _(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"delay",{get:function(){var _=this.options.startingDelay,y=this.options.timeMultiple,d=this.numOfDelayedAttempts,b=_*Math.pow(y,d);return Math.min(b,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),E})();return cr.Delay=v,cr}var ms;function E0(){if(ms)return nt;ms=1;var l=nt&&nt.__extends||(function(){var d=function(b,o){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])},d(b,o)};return function(b,o){d(b,o);function r(){this.constructor=b}b.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}})(),v=nt&&nt.__awaiter||function(d,b,o,r){function t(e){return e instanceof o?e:new o(function(a){a(e)})}return new(o||(o=Promise))(function(e,a){function i(c){try{u(r.next(c))}catch(p){a(p)}}function n(c){try{u(r.throw(c))}catch(p){a(p)}}function u(c){c.done?e(c.value):t(c.value).then(i,n)}u((r=r.apply(d,b||[])).next())})},E=nt&&nt.__generator||function(d,b){var o={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},r,t,e,a;return a={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function i(u){return function(c){return n([u,c])}}function n(u){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,t&&(e=u[0]&2?t.return:u[0]?t.throw||((e=t.return)&&e.call(t),0):t.next)&&!(e=e.call(t,u[1])).done)return e;switch(t=0,e&&(u=[u[0]&2,e.value]),u[0]){case 0:case 1:e=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,t=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(e=o.trys,!(e=e.length>0&&e[e.length-1])&&(u[0]===6||u[0]===2)){o=0;continue}if(u[0]===3&&(!e||u[1]>e[0]&&u[1]<e[3])){o.label=u[1];break}if(u[0]===6&&o.label<e[1]){o.label=e[1],e=u;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(u);break}e[2]&&o.ops.pop(),o.trys.pop();continue}u=b.call(d,o)}catch(c){u=[6,c],t=0}finally{r=e=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(nt,"__esModule",{value:!0});var _=gu(),y=(function(d){l(b,d);function b(){return d!==null&&d.apply(this,arguments)||this}return b.prototype.apply=function(){return v(this,void 0,void 0,function(){return E(this,function(o){return[2,this.isFirstAttempt?!0:d.prototype.apply.call(this)]})})},Object.defineProperty(b.prototype,"isFirstAttempt",{get:function(){return this.attempt===0},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),b})(_.Delay);return nt.SkipFirstDelay=y,nt}var Mt={},xs;function A0(){if(xs)return Mt;xs=1;var l=Mt&&Mt.__extends||(function(){var _=function(y,d){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,o){b.__proto__=o}||function(b,o){for(var r in o)o.hasOwnProperty(r)&&(b[r]=o[r])},_(y,d)};return function(y,d){_(y,d);function b(){this.constructor=y}y.prototype=d===null?Object.create(d):(b.prototype=d.prototype,new b)}})();Object.defineProperty(Mt,"__esModule",{value:!0});var v=gu(),E=(function(_){l(y,_);function y(){return _!==null&&_.apply(this,arguments)||this}return y})(v.Delay);return Mt.AlwaysDelay=E,Mt}var Ss;function O0(){if(Ss)return sr;Ss=1,Object.defineProperty(sr,"__esModule",{value:!0});var l=E0(),v=A0();function E(y,d){var b=_(y);return b.setAttemptNumber(d),b}sr.DelayFactory=E;function _(y){return y.delayFirstAttempt?new v.AlwaysDelay(y):new l.SkipFirstDelay(y)}return sr}var Es;function P0(){if(Es)return pt;Es=1;var l=pt&&pt.__awaiter||function(b,o,r,t){function e(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function n(p){try{c(t.next(p))}catch(m){i(m)}}function u(p){try{c(t.throw(p))}catch(m){i(m)}}function c(p){p.done?a(p.value):e(p.value).then(n,u)}c((t=t.apply(b,o||[])).next())})},v=pt&&pt.__generator||function(b,o){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,e,a,i;return i={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function n(c){return function(p){return u([c,p])}}function u(c){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,e&&(a=c[0]&2?e.return:c[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,c[1])).done)return a;switch(e=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,e=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=o.call(b,r)}catch(p){c=[6,p],e=0}finally{t=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(pt,"__esModule",{value:!0});var E=w0(),_=O0();function y(b,o){return o===void 0&&(o={}),l(this,void 0,void 0,function(){var r,t;return v(this,function(e){switch(e.label){case 0:return r=E.getSanitizedOptions(o),t=new d(b,r),[4,t.execute()];case 1:return[2,e.sent()]}})})}pt.backOff=y;var d=(function(){function b(o,r){this.request=o,this.options=r,this.attemptNumber=0}return b.prototype.execute=function(){return l(this,void 0,void 0,function(){var o,r;return v(this,function(t){switch(t.label){case 0:if(this.attemptLimitReached)return[3,7];t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return t.sent(),[4,this.request()];case 3:return[2,t.sent()];case 4:return o=t.sent(),this.attemptNumber++,[4,this.options.retry(o,this.attemptNumber)];case 5:if(r=t.sent(),!r||this.attemptLimitReached)throw o;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}})})},Object.defineProperty(b.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),b.prototype.applyDelay=function(){return l(this,void 0,void 0,function(){var o;return v(this,function(r){switch(r.label){case 0:return o=_.DelayFactory(this.options,this.attemptNumber),[4,o.apply()];case 1:return r.sent(),[2]}})})},b})();return pt}var Qn,As;function I0(){if(As)return Qn;As=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(p,m)=>{for(var O in m)l(p,O,{get:m[O],enumerable:!0})},d=(p,m,O,I)=>{if(m&&typeof m=="object"||typeof m=="function")for(let C of E(m))!_.call(p,C)&&C!==O&&l(p,C,{get:()=>m[C],enumerable:!(I=v(m,C))||I.enumerable});return p},b=p=>d(l({},"__esModule",{value:!0}),p),o={};y(o,{ProviderError:()=>u,fetchJsonRpc:()=>c,retryConfig:()=>n}),Qn=b(o);var r=Xe(),t=P0();const e=1.5,a=10,i=0;function n(p=a,m=e,O=i){return{numOfAttempts:p,timeMultiple:m,startingDelay:O,retry:I=>!!([503,500,408].includes(I.cause)||I.toString().includes("FetchError")||I.toString().includes("Failed to fetch"))}}class u extends Error{cause;constructor(m,O){super(m,O),O.cause&&(this.cause=O.cause)}}async function c(p,m,O,I){const C=await(0,t.backOff)(async()=>{const k=await fetch(p,{method:"POST",body:JSON.stringify(m),headers:{...O,"Content-Type":"application/json"}}),{ok:D,status:G}=k;if(G===500)throw new u("Internal server error",{cause:G});if(G===408)throw new u("Timeout error",{cause:G});if(G===400)throw new u("Request validation error",{cause:G});if(G===503)throw new u(`${p} unavailable`,{cause:G});if(!D)throw new u(await k.text(),{cause:G});return k},I);if(!C)throw new r.TypedError(`Exceeded ${a} attempts for ${p}.`,"RetriesExceeded");return await C.json()}return Qn}var ei,Os;function M0(){if(Os)return ei;Os=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(O,I)=>{for(var C in I)l(O,C,{get:I[C],enumerable:!0})},d=(O,I,C,k)=>{if(I&&typeof I=="object"||typeof I=="function")for(let D of E(I))!_.call(O,D)&&D!==C&&l(O,D,{get:()=>I[D],enumerable:!(k=v(I,D))||k.enumerable});return O},b=O=>d(l({},"__esModule",{value:!0}),O),o={};y(o,{JsonRpcProvider:()=>m}),ei=b(o);var r=Ge(),t=Xe(),e=Gt(),a=I0();const i=12,n=500,u=1.5;let c=123;const p="optimistic";class m{connection;options;networkId;constructor(I,C){this.connection=I||{url:""};const k={retries:i,wait:n,backoff:u};this.options=Object.assign({},k,C),this.networkId=void 0}async getNetworkId(){if(this.networkId)return this.networkId;const{chain_id:I}=await this.viewNodeStatus();return this.networkId=I,this.networkId}async getCurrentEpochSeatPrice(){const{minimum_stake_ratio:I,protocol_version:C}=await this.experimental_protocolConfig({finality:p}),{current_validators:k}=await this.viewValidators();return(0,r.findSeatPrice)(k,300,I,C)}async getNextEpochSeatPrice(){const{minimum_stake_ratio:I,protocol_version:C}=await this.experimental_protocolConfig({finality:p}),{next_validators:k}=await this.viewValidators();return(0,r.findSeatPrice)(k,300,I,C)}async viewAccessKey(I,C,k={finality:p}){const D=await this.query({...k,request_type:"view_access_key",account_id:I,public_key:C.toString()});return{...D,nonce:BigInt(D.nonce)}}async viewAccessKeyList(I,C={finality:p}){return this.query({...C,request_type:"view_access_key_list",account_id:I})}async viewAccount(I,C={finality:p}){const k=await this.query({...C,request_type:"view_account",account_id:I});return{...k,amount:BigInt(k.amount),locked:BigInt(k.locked)}}async viewContractCode(I,C={finality:p}){const k=await this.query({...C,request_type:"view_code",account_id:I});return{...k,code:new Uint8Array(Buffer.from(k.code_base64,"base64"))}}async viewContractState(I,C,k={finality:p}){const D=Buffer.from(C||"").toString("base64");return this.query({...k,request_type:"view_state",account_id:I,prefix_base64:D})}async callFunction(I,C,k,D={finality:p}){const{result:G}=await this.callFunctionRaw(I,C,k,D);if(G.length===0)return;const z=Buffer.from(G).toString();try{return JSON.parse(z)}catch{return z}}async callFunctionRaw(I,C,k,D={finality:p}){const z=(ArrayBuffer.isView(k)?Buffer.from(k):Buffer.from(JSON.stringify(k))).toString("base64");return await this.query({...D,request_type:"call_function",account_id:I,method_name:C,args_base64:z})}async viewBlock(I){const{finality:C}=I,{blockId:k}=I;return this.sendJsonRpc("block",{block_id:k,finality:C})}async viewChunk(I){return this.sendJsonRpc("chunk",[I])}async viewGasPrice(I){return this.sendJsonRpc("gas_price",[I||null])}async viewNodeStatus(){return this.sendJsonRpc("status",[])}async viewValidators(I){return this.sendJsonRpc("validators",[I||null])}async viewValidatorsV2(I){if(I===null)return this.sendJsonRpc("validators",[null]);if(typeof I=="object"&&"blockId"in I)return this.sendJsonRpc("validators",{block_id:I.blockId});if(typeof I=="object"&&"epochId"in I)return this.sendJsonRpc("validators",{epoch_id:I.epochId});throw new Error("Invalid parameters for validatorsV2")}async viewTransactionStatus(I,C,k){const D=typeof I=="string"?I:(0,r.baseEncode)(I);return this.sendJsonRpc("tx",{tx_hash:D,sender_account_id:C,wait_until:k})}async viewTransactionStatusWithReceipts(I,C,k){const D=typeof I=="string"?I:(0,r.baseEncode)(I);return this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:D,sender_account_id:C,wait_until:k})}async viewTransactionReceipt(I){return this.sendJsonRpc("EXPERIMENTAL_receipt",{receipt_id:I})}async status(){return this.sendJsonRpc("status",[])}async sendTransactionUntil(I,C){const k=(0,e.encodeTransaction)(I);return this.sendJsonRpc("send_tx",{signed_tx_base64:Buffer.from(k).toString("base64"),wait_until:C})}async sendTransaction(I){return this.sendTransactionUntil(I,"EXECUTED_OPTIMISTIC")}async sendTransactionAsync(I){return this.sendTransactionUntil(I,"NONE")}async txStatus(I,C,k="EXECUTED_OPTIMISTIC"){return typeof I=="string"?this.txStatusString(I,C,k):this.txStatusUint8Array(I,C,k)}async txStatusUint8Array(I,C,k){return this.sendJsonRpc("tx",{tx_hash:(0,r.baseEncode)(I),sender_account_id:C,wait_until:k})}async txStatusString(I,C,k){return this.sendJsonRpc("tx",{tx_hash:I,sender_account_id:C,wait_until:k})}async txStatusReceipts(I,C,k="EXECUTED_OPTIMISTIC"){return typeof I=="string"?this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:I,sender_account_id:C,wait_until:k}):this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:(0,r.baseEncode)(I),sender_account_id:C,wait_until:k})}async query(...I){let C;if(I.length===1){const{block_id:k,blockId:D,...G}=I[0];C=await this.sendJsonRpc("query",{...G,block_id:k||D})}else{const[k,D]=I;C=await this.sendJsonRpc("query",[k,D])}if(C&&C.error)throw new t.TypedError(`Querying failed: ${C.error}.
${JSON.stringify(C,null,2)}`,(0,r.getErrorTypeFromErrorMessage)(C.error,C.error.name));return C}async block(I){const{finality:C}=I,{blockId:k}=I;return this.sendJsonRpc("block",{block_id:k,finality:C})}async blockChanges(I){const{finality:C}=I,{blockId:k}=I;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:k,finality:C})}async chunk(I){return this.sendJsonRpc("chunk",[I])}async validators(I){return this.sendJsonRpc("validators",[I])}async experimental_protocolConfig(I){const{blockId:C,...k}=I;return await this.sendJsonRpc("EXPERIMENTAL_protocol_config",{...k,block_id:C})}async lightClientProof(I){return await this.sendJsonRpc("EXPERIMENTAL_light_client_proof",I)}async nextLightClientBlock(I){return await this.sendJsonRpc("next_light_client_block",I)}async accessKeyChanges(I,C){const{finality:k}=C,{blockId:D}=C;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:I,block_id:D,finality:k})}async singleAccessKeyChanges(I,C){const{finality:k}=C,{blockId:D}=C;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:I,block_id:D,finality:k})}async accountChanges(I,C){const{finality:k}=C,{blockId:D}=C;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:I,block_id:D,finality:k})}async contractStateChanges(I,C,k=""){const{finality:D}=C,{blockId:G}=C;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:I,key_prefix_base64:k,block_id:G,finality:D})}async contractCodeChanges(I,C){const{finality:k}=C,{blockId:D}=C;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:I,block_id:D,finality:k})}async gasPrice(I){return await this.sendJsonRpc("gas_price",[I])}async sendJsonRpc(I,C){const k={method:I,params:C,id:c++,jsonrpc:"2.0"},D=await(0,a.fetchJsonRpc)(this.connection.url,k,this.connection.headers||{},(0,a.retryConfig)(this.options.retries,this.options.backoff,this.options.wait));if(D.error){if(typeof D.error.data=="object")throw typeof D.error.data.error_message=="string"&&typeof D.error.data.error_type=="string"?new t.TypedError(D.error.data.error_message,D.error.data.error_type):(0,r.parseRpcError)(D.error.data);{const z=`[${D.error.code}] ${D.error.message}: ${D.error.data}`,F=(0,r.getErrorTypeFromErrorMessage)(D.error.data,"");throw F?new t.TypedError((0,r.formatError)(F,C),F):new t.TypedError(z,D.error.name)}}else if(typeof D.result?.error=="string"){const z=(0,r.getErrorTypeFromErrorMessage)(D.result.error,"");if(z)throw new r.ServerError((0,r.formatError)(z,C),z)}const{result:G}=D;if(typeof G>"u")throw new t.TypedError(`Exceeded ${this.options.retries} attempts for request to ${I}.`,"RetriesExceeded");return G}}return ei}var ti,Ps;function C0(){if(Ps)return ti;Ps=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(a,i)=>{for(var n in i)l(a,n,{get:i[n],enumerable:!0})},d=(a,i,n,u)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of E(i))!_.call(a,c)&&c!==n&&l(a,c,{get:()=>i[c],enumerable:!(u=v(i,c))||u.enumerable});return a},b=a=>d(l({},"__esModule",{value:!0}),a),o={};y(o,{FailoverRpcProvider:()=>e}),ti=b(o);var r=Ge(),t=Xe();class e{providers;currentProviderIndex;constructor(i){if(i.length===0)throw new Error("At least one provider must be specified");this.providers=i,this.currentProviderIndex=0}switchToNextProvider(){this.providers.length!==1&&(this.providers.length-1<=this.currentProviderIndex?this.currentProviderIndex=0:this.currentProviderIndex+=1,r.Logger.debug(`Switched to provider at the index ${this.currentProviderIndex}`))}get currentProvider(){const i=this.providers[this.currentProviderIndex];if(!i)throw new Error(`Provider wasn't found at index ${this.currentProviderIndex}`);return i}async withBackoff(i){for(let n=0;n<this.providers.length;n++)try{const u=await i(this.currentProvider);if(typeof u>"u")continue;return u}catch(u){console.error(u),this.switchToNextProvider()}throw new t.TypedError(`Exceeded ${this.providers.length} providers to execute request`,"RetriesExceeded")}async status(){return this.withBackoff(i=>i.status())}async getNetworkId(){return this.withBackoff(i=>i.getNetworkId())}async getCurrentEpochSeatPrice(){return this.withBackoff(i=>i.getCurrentEpochSeatPrice())}async getNextEpochSeatPrice(){return this.withBackoff(i=>i.getNextEpochSeatPrice())}async viewAccessKey(i,n,u){return this.withBackoff(c=>c.viewAccessKey(i,n,u))}async viewAccessKeyList(i,n){return this.withBackoff(u=>u.viewAccessKeyList(i,n))}async viewAccount(i,n){return this.withBackoff(u=>u.viewAccount(i,n))}async viewContractCode(i,n){return this.withBackoff(u=>u.viewContractCode(i,n))}async viewContractState(i,n,u){return this.withBackoff(c=>c.viewContractState(i,n,u))}async callFunction(i,n,u,c){return this.withBackoff(p=>p.callFunction(i,n,u,c))}async callFunctionRaw(i,n,u,c){return this.withBackoff(p=>p.callFunctionRaw(i,n,u,c))}async viewBlock(i){return this.withBackoff(n=>n.viewBlock(i))}async viewChunk(i){return this.withBackoff(n=>n.viewChunk(i))}async viewGasPrice(i){return this.withBackoff(n=>n.viewGasPrice(i))}async viewNodeStatus(){return this.withBackoff(i=>i.viewNodeStatus())}async viewValidators(i){return this.withBackoff(n=>n.viewValidators(i))}async viewValidatorsV2(i){return this.withBackoff(n=>n.viewValidatorsV2(i))}async viewTransactionStatus(i,n,u){return this.withBackoff(c=>c.viewTransactionStatus(i,n,u))}async viewTransactionStatusWithReceipts(i,n,u){return this.withBackoff(c=>c.viewTransactionStatusWithReceipts(i,n,u))}async viewTransactionReceipt(i){return this.withBackoff(n=>n.viewTransactionReceipt(i))}async sendTransactionUntil(i,n){return this.withBackoff(u=>u.sendTransactionUntil(i,n))}async sendTransaction(i){return this.withBackoff(n=>n.sendTransaction(i))}async sendTransactionAsync(i){return this.withBackoff(n=>n.sendTransactionAsync(i))}async txStatus(i,n,u){return this.withBackoff(c=>c.txStatus(i,n,u))}async txStatusReceipts(i,n,u){return this.withBackoff(c=>c.txStatusReceipts(i,n,u))}async query(i,n){return n?this.withBackoff(u=>u.query(i,n)):this.withBackoff(u=>u.query(i))}async block(i){return this.withBackoff(n=>n.block(i))}async blockChanges(i){return this.withBackoff(n=>n.blockChanges(i))}async chunk(i){return this.withBackoff(n=>n.chunk(i))}async validators(i){return this.withBackoff(n=>n.validators(i))}async experimental_protocolConfig(i){return this.withBackoff(n=>n.experimental_protocolConfig(i))}async lightClientProof(i){return this.withBackoff(n=>n.lightClientProof(i))}async nextLightClientBlock(i){return this.withBackoff(n=>n.nextLightClientBlock(i))}async accessKeyChanges(i,n){return this.withBackoff(u=>u.accessKeyChanges(i,n))}async singleAccessKeyChanges(i,n){return this.withBackoff(u=>u.singleAccessKeyChanges(i,n))}async accountChanges(i,n){return this.withBackoff(u=>u.accountChanges(i,n))}async contractStateChanges(i,n,u=""){return this.withBackoff(c=>c.contractStateChanges(i,n,u))}async contractCodeChanges(i,n){return this.withBackoff(u=>u.contractCodeChanges(i,n))}async gasPrice(i){return this.withBackoff(n=>n.gasPrice(i))}}return ti}var ri,Is;function Xt(){if(Is)return ri;Is=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(a,i)=>{for(var n in i)l(a,n,{get:i[n],enumerable:!0})},d=(a,i,n,u)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of E(i))!_.call(a,c)&&c!==n&&l(a,c,{get:()=>i[c],enumerable:!(u=v(i,c))||u.enumerable});return a},b=a=>d(l({},"__esModule",{value:!0}),a),o={};y(o,{FailoverRpcProvider:()=>e.FailoverRpcProvider,JsonRpcProvider:()=>t.JsonRpcProvider,exponentialBackoff:()=>r.exponentialBackoff}),ri=b(o);var r=l0(),t=M0(),e=C0();return ri}var ni,Ms;function B0(){if(Ms)return ni;Ms=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(a,i)=>{for(var n in i)l(a,n,{get:i[n],enumerable:!0})},d=(a,i,n,u)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of E(i))!_.call(a,c)&&c!==n&&l(a,c,{get:()=>i[c],enumerable:!(u=v(i,c))||u.enumerable});return a},b=a=>d(l({},"__esModule",{value:!0}),a),o={};y(o,{AccessKeyInfoView:()=>e.AccessKeyInfoView,AccessKeyList:()=>e.AccessKeyList,AccessKeyView:()=>e.AccessKeyView,AccessKeyViewRaw:()=>e.AccessKeyViewRaw,AccessKeyWithPublicKey:()=>e.AccessKeyWithPublicKey,AccountView:()=>e.AccountView,BlockChange:()=>e.BlockChange,BlockChangeResult:()=>e.BlockChangeResult,BlockHash:()=>e.BlockHash,BlockHeader:()=>e.BlockHeader,BlockHeaderInnerLiteView:()=>e.BlockHeaderInnerLiteView,BlockHeight:()=>e.BlockHeight,BlockId:()=>e.BlockId,BlockReference:()=>e.BlockReference,BlockResult:()=>e.BlockResult,BlockShardId:()=>e.BlockShardId,CallFunctionRequest:()=>e.CallFunctionRequest,ChangeResult:()=>e.ChangeResult,Chunk:()=>e.Chunk,ChunkHash:()=>e.ChunkHash,ChunkHeader:()=>e.ChunkHeader,ChunkId:()=>e.ChunkId,ChunkResult:()=>e.ChunkResult,CodeResult:()=>e.CodeResult,ContractCodeView:()=>e.ContractCodeView,CurrentEpochValidatorInfo:()=>e.CurrentEpochValidatorInfo,EpochValidatorInfo:()=>e.EpochValidatorInfo,ExecutionError:()=>e.ExecutionError,ExecutionOutcome:()=>e.ExecutionOutcome,ExecutionOutcomeWithId:()=>e.ExecutionOutcomeWithId,ExecutionOutcomeWithIdView:()=>e.ExecutionOutcomeWithIdView,ExecutionStatus:()=>e.ExecutionStatus,ExecutionStatusBasic:()=>e.ExecutionStatusBasic,FinalExecutionOutcome:()=>e.FinalExecutionOutcome,FinalExecutionStatus:()=>e.FinalExecutionStatus,FinalExecutionStatusBasic:()=>e.FinalExecutionStatusBasic,Finality:()=>e.Finality,FunctionCallPermissionView:()=>e.FunctionCallPermissionView,GasPrice:()=>e.GasPrice,IdType:()=>e.IdType,LightClientBlockLiteView:()=>e.LightClientBlockLiteView,LightClientProof:()=>e.LightClientProof,LightClientProofRequest:()=>e.LightClientProofRequest,MerkleNode:()=>e.MerkleNode,MerklePath:()=>e.MerklePath,NearProtocolConfig:()=>e.NearProtocolConfig,NearProtocolRuntimeConfig:()=>e.NearProtocolRuntimeConfig,NextEpochValidatorInfo:()=>e.NextEpochValidatorInfo,NextLightClientBlockRequest:()=>e.NextLightClientBlockRequest,NextLightClientBlockResponse:()=>e.NextLightClientBlockResponse,NodeStatusResult:()=>e.NodeStatusResult,Provider:()=>t.Provider,QueryResponseKind:()=>e.QueryResponseKind,RpcQueryRequest:()=>e.RpcQueryRequest,ShardId:()=>e.ShardId,SyncInfo:()=>e.SyncInfo,TotalWeight:()=>e.TotalWeight,Transaction:()=>e.ProviderTransaction,ValidatorStakeView:()=>e.ValidatorStakeView,ViewAccessKeyListRequest:()=>e.ViewAccessKeyListRequest,ViewAccessKeyRequest:()=>e.ViewAccessKeyRequest,ViewAccountRequest:()=>e.ViewAccountRequest,ViewCodeRequest:()=>e.ViewCodeRequest,ViewStateRequest:()=>e.ViewStateRequest,ViewStateResult:()=>e.ViewStateResult,getTransactionLastResult:()=>r.getTransactionLastResult}),ni=b(o);var r=Ge(),t=Xt(),e=Xe();return ni}var ii,Cs;function k0(){if(Cs)return ii;Cs=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(e,a)=>{for(var i in a)l(e,i,{get:a[i],enumerable:!0})},d=(e,a,i,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of E(a))!_.call(e,u)&&u!==i&&l(e,u,{get:()=>a[u],enumerable:!(n=v(a,u))||n.enumerable});return e},b=e=>d(l({},"__esModule",{value:!0}),e),o={};y(o,{ErrorContext:()=>r.ErrorContext,JsonRpcProvider:()=>t.JsonRpcProvider,TypedError:()=>r.TypedError}),ii=b(o);var r=Xe(),t=Xt();return ii}var ai,Bs;function j0(){if(Bs)return ai;Bs=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{FailoverRpcProvider:()=>r.FailoverRpcProvider}),ai=b(o);var r=Xt();return ai}var oi,ks;function N0(){if(ks)return oi;ks=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(a,i)=>{for(var n in i)l(a,n,{get:i[n],enumerable:!0})},d=(a,i,n,u)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of E(i))!_.call(a,c)&&c!==n&&l(a,c,{get:()=>i[c],enumerable:!(u=v(i,c))||u.enumerable});return a},b=a=>d(l({},"__esModule",{value:!0}),a),o={};y(o,{ErrorContext:()=>t.ErrorContext,ExecutionOutcomeWithId:()=>r.ExecutionOutcomeWithId,FailoverRpcProvider:()=>e.FailoverRpcProvider,FinalExecutionOutcome:()=>r.FinalExecutionOutcome,FinalExecutionStatus:()=>r.FinalExecutionStatus,FinalExecutionStatusBasic:()=>r.FinalExecutionStatusBasic,JsonRpcProvider:()=>t.JsonRpcProvider,Provider:()=>r.Provider,TypedError:()=>t.TypedError,getTransactionLastResult:()=>r.getTransactionLastResult}),oi=b(o);var r=B0(),t=k0(),e=j0();return oi}var si,js;function ia(){if(js)return si;js=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{KeyPair:()=>r.KeyPair,KeyPairEd25519:()=>r.KeyPairEd25519,KeyType:()=>r.KeyType,PublicKey:()=>r.PublicKey,Signature:()=>r.Signature}),si=b(o);var r=gt();return si}var We={},et={},Lt={},Ns;function ha(){return Ns||(Ns=1,Lt.__esModule=!0,Lt.integers=void 0,Lt.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]),Lt}var St={},Ts;function wu(){if(Ts)return St;Ts=1,St.__esModule=!0,St.DecodeBuffer=St.EncodeBuffer=void 0;var l=(function(){function E(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return E.prototype.resize_if_necessary=function(_){if(this.buffer_size-this.offset<_){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+_);var y=new ArrayBuffer(this.buffer_size);new Uint8Array(y).set(new Uint8Array(this.buffer)),this.buffer=y,this.view=new DataView(y)}},E.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},E.prototype.store_value=function(_,y){var d=y.substring(1),b=parseInt(d)/8;this.resize_if_necessary(b);var o=y[0]==="f"?"setFloat".concat(d):y[0]==="i"?"setInt".concat(d):"setUint".concat(d);this.view[o](this.offset,_,!0),this.offset+=b},E.prototype.store_bytes=function(_){this.resize_if_necessary(_.length),new Uint8Array(this.buffer).set(new Uint8Array(_),this.offset),this.offset+=_.length},E})();St.EncodeBuffer=l;var v=(function(){function E(_){this.offset=0,this.buffer_size=_.length,this.buffer=new ArrayBuffer(_.length),new Uint8Array(this.buffer).set(_),this.view=new DataView(this.buffer)}return E.prototype.assert_enough_buffer=function(_){if(this.offset+_>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},E.prototype.consume_value=function(_){var y=_.substring(1),d=parseInt(y)/8;this.assert_enough_buffer(d);var b=_[0]==="f"?"getFloat".concat(y):_[0]==="i"?"getInt".concat(y):"getUint".concat(y),o=this.view[b](this.offset,!0);return this.offset+=d,o},E.prototype.consume_bytes=function(_){this.assert_enough_buffer(_);var y=this.buffer.slice(this.offset,this.offset+_);return this.offset+=_,y},E})();return St.DecodeBuffer=v,St}var He={},Rs;function mu(){if(Rs)return He;Rs=1;var l=He&&He.__extends||(function(){var c=function(p,m){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,I){O.__proto__=I}||function(O,I){for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(O[C]=I[C])},c(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");c(p,m);function O(){this.constructor=p}p.prototype=m===null?Object.create(m):(O.prototype=m.prototype,new O)}})();He.__esModule=!0,He.validate_schema=He.ErrorSchema=He.expect_enum=He.expect_same_size=He.expect_bigint=He.expect_type=He.isArrayLike=void 0;var v=ha();function E(c){return Array.isArray(c)||!!c&&typeof c=="object"&&"length"in c&&typeof c.length=="number"&&(c.length===0||c.length>0&&c.length-1 in c)}He.isArrayLike=E;function _(c,p,m){if(typeof c!==p)throw new Error("Expected ".concat(p," not ").concat(typeof c,"(").concat(c,") at ").concat(m.join(".")))}He.expect_type=_;function y(c,p){var m=["number","string","bigint","boolean"].includes(typeof c),O=typeof c=="object"&&c!==null&&"toString"in c;if(!m&&!O)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof c,"(").concat(c,") at ").concat(p.join(".")))}He.expect_bigint=y;function d(c,p,m){if(c!==p)throw new Error("Array length ".concat(c," does not match schema length ").concat(p," at ").concat(m.join(".")))}He.expect_same_size=d;function b(c,p){if(typeof c!="object"||c===null)throw new Error("Expected object not ".concat(typeof c,"(").concat(c,") at ").concat(p.join(".")))}He.expect_enum=b;var o=v.integers.concat(["bool","string"]),r=["option","enum","array","set","map","struct"],t=(function(c){l(p,c);function p(m,O){var I="Invalid schema: ".concat(JSON.stringify(m)," expected ").concat(O);return c.call(this,I)||this}return p})(Error);He.ErrorSchema=t;function e(c){if(!(typeof c=="string"&&o.includes(c))){if(c&&typeof c=="object"){var p=Object.keys(c);if(p.length===1&&r.includes(p[0])){var m=p[0];if(m==="option")return e(c[m]);if(m==="enum")return a(c[m]);if(m==="array")return i(c[m]);if(m==="set")return e(c[m]);if(m==="map")return n(c[m]);if(m==="struct")return u(c[m])}}throw new t(c,r.join(", ")+" or "+o.join(", "))}}He.validate_schema=e;function a(c){if(!Array.isArray(c))throw new t(c,"Array");for(var p=0,m=c;p<m.length;p++){var O=m[p];if(typeof O!="object"||!("struct"in O))throw new Error('Missing "struct" key in enum schema');if(typeof O.struct!="object"||Object.keys(O.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');e({struct:O.struct})}}function i(c){if(typeof c!="object")throw new t(c,"{ type, len? }");if(c.len&&typeof c.len!="number")throw new Error("Invalid schema: ".concat(c));if("type"in c)return e(c.type);throw new t(c,"{ type, len? }")}function n(c){if(typeof c=="object"&&"key"in c&&"value"in c)e(c.key),e(c.value);else throw new t(c,"{ key, value }")}function u(c){if(typeof c!="object")throw new t(c,"object");for(var p in c)e(c[p])}return He}var Ds;function T0(){if(Ds)return et;Ds=1;var l=et&&et.__createBinding||(Object.create?(function(o,r,t,e){e===void 0&&(e=t);var a=Object.getOwnPropertyDescriptor(r,t);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(o,e,a)}):(function(o,r,t,e){e===void 0&&(e=t),o[e]=r[t]})),v=et&&et.__setModuleDefault||(Object.create?(function(o,r){Object.defineProperty(o,"default",{enumerable:!0,value:r})}):function(o,r){o.default=r}),E=et&&et.__importStar||function(o){if(o&&o.__esModule)return o;var r={};if(o!=null)for(var t in o)t!=="default"&&Object.prototype.hasOwnProperty.call(o,t)&&l(r,o,t);return v(r,o),r};et.__esModule=!0,et.BorshSerializer=void 0;var _=ha(),y=wu(),d=E(mu()),b=(function(){function o(r){this.encoded=new y.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=r}return o.prototype.encode=function(r,t){return this.encode_value(r,t),this.encoded.get_used_buffer()},o.prototype.encode_value=function(r,t){if(typeof t=="string"){if(_.integers.includes(t))return this.encode_integer(r,t);if(t==="string")return this.encode_string(r);if(t==="bool")return this.encode_boolean(r)}if(typeof t=="object"){if("option"in t)return this.encode_option(r,t);if("enum"in t)return this.encode_enum(r,t);if("array"in t)return this.encode_array(r,t);if("set"in t)return this.encode_set(r,t);if("map"in t)return this.encode_map(r,t);if("struct"in t)return this.encode_struct(r,t)}},o.prototype.encode_integer=function(r,t){var e=parseInt(t.substring(1));e<=32||t=="f64"?(this.checkTypes&&d.expect_type(r,"number",this.fieldPath),this.encoded.store_value(r,t)):(this.checkTypes&&d.expect_bigint(r,this.fieldPath),this.encode_bigint(BigInt(r),e))},o.prototype.encode_bigint=function(r,t){for(var e=t/8,a=new Uint8Array(e),i=0;i<e;i++)a[i]=Number(r&BigInt(255)),r=r>>BigInt(8);this.encoded.store_bytes(new Uint8Array(a))},o.prototype.encode_string=function(r){this.checkTypes&&d.expect_type(r,"string",this.fieldPath);var t=r;this.encoded.store_value(t.length,"u32");for(var e=0;e<t.length;e++)this.encoded.store_value(t.charCodeAt(e),"u8")},o.prototype.encode_boolean=function(r){this.checkTypes&&d.expect_type(r,"boolean",this.fieldPath),this.encoded.store_value(r?1:0,"u8")},o.prototype.encode_option=function(r,t){r==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(r,t.option))},o.prototype.encode_enum=function(r,t){this.checkTypes&&d.expect_enum(r,this.fieldPath);for(var e=Object.keys(r)[0],a=0;a<t.enum.length;a++){var i=t.enum[a];if(e===Object.keys(i.struct)[0])return this.encoded.store_value(a,"u8"),this.encode_struct(r,i)}throw new Error("Enum key (".concat(e,") not found in enum schema: ").concat(JSON.stringify(t)," at ").concat(this.fieldPath.join(".")))},o.prototype.encode_array=function(r,t){if(d.isArrayLike(r))return this.encode_arraylike(r,t);if(r instanceof ArrayBuffer)return this.encode_buffer(r,t);throw new Error("Expected Array-like not ".concat(typeof r,"(").concat(r,") at ").concat(this.fieldPath.join(".")))},o.prototype.encode_arraylike=function(r,t){t.array.len?d.expect_same_size(r.length,t.array.len,this.fieldPath):this.encoded.store_value(r.length,"u32");for(var e=0;e<r.length;e++)this.encode_value(r[e],t.array.type)},o.prototype.encode_buffer=function(r,t){t.array.len?d.expect_same_size(r.byteLength,t.array.len,this.fieldPath):this.encoded.store_value(r.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(r))},o.prototype.encode_set=function(r,t){this.checkTypes&&d.expect_type(r,"object",this.fieldPath);var e=r instanceof Set,a=e?Array.from(r.values()):Object.values(r);this.encoded.store_value(a.length,"u32");for(var i=0,n=a;i<n.length;i++){var u=n[i];this.encode_value(u,t.set)}},o.prototype.encode_map=function(r,t){this.checkTypes&&d.expect_type(r,"object",this.fieldPath);var e=r instanceof Map,a=e?Array.from(r.keys()):Object.keys(r);this.encoded.store_value(a.length,"u32");for(var i=0,n=a;i<n.length;i++){var u=n[i];this.encode_value(u,t.map.key),this.encode_value(e?r.get(u):r[u],t.map.value)}},o.prototype.encode_struct=function(r,t){this.checkTypes&&d.expect_type(r,"object",this.fieldPath);for(var e=0,a=Object.keys(t.struct);e<a.length;e++){var i=a[e];this.fieldPath.push(i),this.encode_value(r[i],t.struct[i]),this.fieldPath.pop()}},o})();return et.BorshSerializer=b,et}var qt={},Ls;function R0(){if(Ls)return qt;Ls=1,qt.__esModule=!0,qt.BorshDeserializer=void 0;var l=ha(),v=wu(),E=(function(){function _(y){this.buffer=new v.DecodeBuffer(y)}return _.prototype.decode=function(y){return this.decode_value(y)},_.prototype.decode_value=function(y){if(typeof y=="string"){if(l.integers.includes(y))return this.decode_integer(y);if(y==="string")return this.decode_string();if(y==="bool")return this.decode_boolean()}if(typeof y=="object"){if("option"in y)return this.decode_option(y);if("enum"in y)return this.decode_enum(y);if("array"in y)return this.decode_array(y);if("set"in y)return this.decode_set(y);if("map"in y)return this.decode_map(y);if("struct"in y)return this.decode_struct(y)}throw new Error("Unsupported type: ".concat(y))},_.prototype.decode_integer=function(y){var d=parseInt(y.substring(1));return d<=32||y=="f64"?this.buffer.consume_value(y):this.decode_bigint(d,y.startsWith("i"))},_.prototype.decode_bigint=function(y,d){d===void 0&&(d=!1);var b=y/8,o=new Uint8Array(this.buffer.consume_bytes(b)),r=o.reduceRight(function(t,e){return t+e.toString(16).padStart(2,"0")},"");return d&&o[b-1]?BigInt.asIntN(y,BigInt("0x".concat(r))):BigInt("0x".concat(r))},_.prototype.decode_string=function(){var y=this.decode_integer("u32"),d=new Uint8Array(this.buffer.consume_bytes(y));return String.fromCharCode.apply(null,d)},_.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},_.prototype.decode_option=function(y){var d=this.buffer.consume_value("u8");if(d===1)return this.decode_value(y.option);if(d!==0)throw new Error("Invalid option ".concat(d));return null},_.prototype.decode_enum=function(y){var d,b=this.buffer.consume_value("u8");if(b>y.enum.length)throw new Error("Enum option ".concat(b," is not available"));var o=y.enum[b].struct,r=Object.keys(o)[0];return d={},d[r]=this.decode_value(o[r]),d},_.prototype.decode_array=function(y){for(var d=[],b=y.array.len?y.array.len:this.decode_integer("u32"),o=0;o<b;++o)d.push(this.decode_value(y.array.type));return d},_.prototype.decode_set=function(y){for(var d=this.decode_integer("u32"),b=new Set,o=0;o<d;++o)b.add(this.decode_value(y.set));return b},_.prototype.decode_map=function(y){for(var d=this.decode_integer("u32"),b=new Map,o=0;o<d;++o){var r=this.decode_value(y.map.key),t=this.decode_value(y.map.value);b.set(r,t)}return b},_.prototype.decode_struct=function(y){var d={};for(var b in y.struct)d[b]=this.decode_value(y.struct[b]);return d},_})();return qt.BorshDeserializer=E,qt}var qs;function D0(){if(qs)return We;qs=1;var l=We&&We.__createBinding||(Object.create?(function(r,t,e,a){a===void 0&&(a=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,a,i)}):(function(r,t,e,a){a===void 0&&(a=e),r[a]=t[e]})),v=We&&We.__setModuleDefault||(Object.create?(function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}):function(r,t){r.default=t}),E=We&&We.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&l(t,r,e);return v(t,r),t};We.__esModule=!0,We.deserialize=We.serialize=void 0;var _=T0(),y=R0(),d=E(mu());function b(r,t,e){e===void 0&&(e=!0),e&&d.validate_schema(r);var a=new _.BorshSerializer(e);return a.encode(t,r)}We.serialize=b;function o(r,t,e){e===void 0&&(e=!0),e&&d.validate_schema(r);var a=new y.BorshDeserializer(t);return a.decode(r)}return We.deserialize=o,We}var ci,Fs;function L0(){if(Fs)return ci;Fs=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(e,a)=>{for(var i in a)l(e,i,{get:a[i],enumerable:!0})},d=(e,a,i,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of E(a))!_.call(e,u)&&u!==i&&l(e,u,{get:()=>a[u],enumerable:!(n=v(a,u))||n.enumerable});return e},b=e=>d(l({},"__esModule",{value:!0}),e),o={};y(o,{Schema:()=>r.Schema,base_decode:()=>t.baseDecode,base_encode:()=>t.baseEncode,deserialize:()=>r.deserialize,serialize:()=>r.serialize}),ci=b(o);var r=D0(),t=Ge();return ci}var ui,Ks;function q0(){if(Ks)return ui;Ks=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{Enum:()=>r.Enum}),ui=b(o);var r=Xe();return ui}var fi,Us;function F0(){if(Us)return fi;Us=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{NEAR_NOMINATION:()=>r.NEAR_NOMINATION,NEAR_NOMINATION_EXP:()=>r.NEAR_NOMINATION_EXP,formatNearAmount:()=>r.formatNearAmount,parseNearAmount:()=>r.parseNearAmount}),fi=b(o);var r=Ge();return fi}var di,zs;function K0(){if(zs)return di;zs=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{ServerError:()=>r.ServerError,formatError:()=>r.formatError,getErrorTypeFromErrorMessage:()=>r.getErrorTypeFromErrorMessage,parseResultError:()=>r.parseResultError,parseRpcError:()=>r.parseRpcError}),di=b(o);var r=Ge();return di}var li,Hs;function U0(){if(Hs)return li;Hs=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{Logger:()=>r.Logger}),li=b(o);var r=Ge();return li}var hi,Vs;function z0(){if(Vs)return hi;Vs=1;var l=Object.create,v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(O,I)=>{for(var C in I)v(O,C,{get:I[C],enumerable:!0})},o=(O,I,C,k)=>{if(I&&typeof I=="object"||typeof I=="function")for(let D of _(I))!d.call(O,D)&&D!==C&&v(O,D,{get:()=>I[D],enumerable:!(k=E(I,D))||k.enumerable});return O},r=(O,I,C)=>(C=O!=null?l(y(O)):{},o(!O||!O.__esModule?v(C,"default",{value:O,enumerable:!0}):C,O)),t=O=>o(v({},"__esModule",{value:!0}),O),e={};b(e,{KeyPair:()=>p.KeyPair,KeyPairEd25519:()=>p.KeyPairEd25519,KeyPairString:()=>p.KeyPairString,Logger:()=>m.Logger,PublicKey:()=>p.PublicKey,enums:()=>n,format:()=>u,key_pair:()=>a,rpc_errors:()=>c,serialize:()=>i}),hi=t(e);var a=r(ia()),i=r(L0()),n=r(q0()),u=r(F0()),c=r(K0()),p=ia(),m=U0();return hi}var pi,Js;function H0(){if(Js)return pi;Js=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(C,k)=>{for(var D in k)l(C,D,{get:k[D],enumerable:!0})},d=(C,k,D,G)=>{if(k&&typeof k=="object"||typeof k=="function")for(let z of E(k))!_.call(C,z)&&z!==D&&l(C,z,{get:()=>k[z],enumerable:!(G=v(k,z))||G.enumerable});return C},b=C=>d(l({},"__esModule",{value:!0}),C),o={};y(o,{AccessKey:()=>r.AccessKey,AccessKeyPermission:()=>r.AccessKeyPermission,Action:()=>r.Action,AddKey:()=>r.AddKey,CreateAccount:()=>r.CreateAccount,DeleteAccount:()=>r.DeleteAccount,DeleteKey:()=>r.DeleteKey,DeployContract:()=>r.DeployContract,FullAccessPermission:()=>r.FullAccessPermission,FunctionCall:()=>r.FunctionCall,FunctionCallPermission:()=>r.FunctionCallPermission,SCHEMA:()=>r.SCHEMA,Signature:()=>r.Signature,SignedTransaction:()=>r.SignedTransaction,Stake:()=>r.Stake,Transaction:()=>r.Transaction,Transfer:()=>r.Transfer,addKey:()=>e,createAccount:()=>a,createTransaction:()=>r.createTransaction,deleteAccount:()=>i,deleteKey:()=>n,deployContract:()=>u,encodeDelegateAction:()=>r.encodeDelegateAction,encodeSignedDelegate:()=>r.encodeSignedDelegate,encodeTransaction:()=>r.encodeTransaction,fullAccessKey:()=>c,functionCall:()=>p,functionCallAccessKey:()=>m,stake:()=>O,stringifyJsonOrBytes:()=>r.stringifyJsonOrBytes,transfer:()=>I}),pi=b(o);var r=Gt(),t=Gt();const e=(C,k)=>t.actionCreators.addKey(C,k),a=()=>t.actionCreators.createAccount(),i=C=>t.actionCreators.deleteAccount(C),n=C=>t.actionCreators.deleteKey(C),u=C=>t.actionCreators.deployContract(C),c=()=>t.actionCreators.fullAccessKey(),p=(C,k,D,G,z)=>t.actionCreators.functionCall(C,k,D,G,z),m=(C,k,D)=>t.actionCreators.functionCallAccessKey(C,k,D),O=(C,k)=>t.actionCreators.stake(C,k),I=C=>t.actionCreators.transfer(C);return pi}var bi,Gs;function V0(){if(Gs)return bi;Gs=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{ChangedValidatorInfo:()=>r.ChangedValidatorInfo,EpochValidatorsDiff:()=>r.EpochValidatorsDiff,diffEpochValidators:()=>r.diffEpochValidators,findSeatPrice:()=>r.findSeatPrice}),bi=b(o);var r=Ge();return bi}var ot={},bt={},yt={},$s;function xu(){if($s)return yt;$s=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.anumber=l,yt.abytes=E,yt.ahash=_,yt.aexists=y,yt.aoutput=d;function l(b){if(!Number.isSafeInteger(b)||b<0)throw new Error("positive integer expected, got "+b)}function v(b){return b instanceof Uint8Array||ArrayBuffer.isView(b)&&b.constructor.name==="Uint8Array"}function E(b,...o){if(!v(b))throw new Error("Uint8Array expected");if(o.length>0&&!o.includes(b.length))throw new Error("Uint8Array expected of length "+o+", got length="+b.length)}function _(b){if(typeof b!="function"||typeof b.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");l(b.outputLen),l(b.blockLen)}function y(b,o=!0){if(b.destroyed)throw new Error("Hash instance has been destroyed");if(o&&b.finished)throw new Error("Hash#digest() has already been called")}function d(b,o){E(b);const r=o.outputLen;if(b.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}return yt}var yi={},Ft={},Ws;function J0(){return Ws||(Ws=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.crypto=void 0,Ft.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Ft}var Zs;function Su(){return Zs||(Zs=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.Hash=l.nextTick=l.byteSwapIfBE=l.isLE=void 0,l.isBytes=_,l.u8=y,l.u32=d,l.createView=b,l.rotr=o,l.rotl=r,l.byteSwap=t,l.byteSwap32=e,l.bytesToHex=i,l.hexToBytes=c,l.asyncLoop=m,l.utf8ToBytes=O,l.toBytes=I,l.concatBytes=C,l.checkOpts=D,l.wrapConstructor=G,l.wrapConstructorWithOpts=z,l.wrapXOFConstructorWithOpts=F,l.randomBytes=U;const v=J0(),E=xu();function _(w){return w instanceof Uint8Array||ArrayBuffer.isView(w)&&w.constructor.name==="Uint8Array"}function y(w){return new Uint8Array(w.buffer,w.byteOffset,w.byteLength)}function d(w){return new Uint32Array(w.buffer,w.byteOffset,Math.floor(w.byteLength/4))}function b(w){return new DataView(w.buffer,w.byteOffset,w.byteLength)}function o(w,s){return w<<32-s|w>>>s}function r(w,s){return w<<s|w>>>32-s>>>0}l.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function t(w){return w<<24&4278190080|w<<8&16711680|w>>>8&65280|w>>>24&255}l.byteSwapIfBE=l.isLE?w=>w:w=>t(w);function e(w){for(let s=0;s<w.length;s++)w[s]=t(w[s])}const a=Array.from({length:256},(w,s)=>s.toString(16).padStart(2,"0"));function i(w){(0,E.abytes)(w);let s="";for(let h=0;h<w.length;h++)s+=a[w[h]];return s}const n={_0:48,_9:57,A:65,F:70,a:97,f:102};function u(w){if(w>=n._0&&w<=n._9)return w-n._0;if(w>=n.A&&w<=n.F)return w-(n.A-10);if(w>=n.a&&w<=n.f)return w-(n.a-10)}function c(w){if(typeof w!="string")throw new Error("hex string expected, got "+typeof w);const s=w.length,h=s/2;if(s%2)throw new Error("hex string expected, got unpadded hex of length "+s);const f=new Uint8Array(h);for(let x=0,S=0;x<h;x++,S+=2){const B=u(w.charCodeAt(S)),R=u(w.charCodeAt(S+1));if(B===void 0||R===void 0){const j=w[S]+w[S+1];throw new Error('hex string expected, got non-hex character "'+j+'" at index '+S)}f[x]=B*16+R}return f}const p=async()=>{};l.nextTick=p;async function m(w,s,h){let f=Date.now();for(let x=0;x<w;x++){h(x);const S=Date.now()-f;S>=0&&S<s||(await(0,l.nextTick)(),f+=S)}}function O(w){if(typeof w!="string")throw new Error("utf8ToBytes expected string, got "+typeof w);return new Uint8Array(new TextEncoder().encode(w))}function I(w){return typeof w=="string"&&(w=O(w)),(0,E.abytes)(w),w}function C(...w){let s=0;for(let f=0;f<w.length;f++){const x=w[f];(0,E.abytes)(x),s+=x.length}const h=new Uint8Array(s);for(let f=0,x=0;f<w.length;f++){const S=w[f];h.set(S,x),x+=S.length}return h}class k{clone(){return this._cloneInto()}}l.Hash=k;function D(w,s){if(s!==void 0&&{}.toString.call(s)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(w,s)}function G(w){const s=f=>w().update(I(f)).digest(),h=w();return s.outputLen=h.outputLen,s.blockLen=h.blockLen,s.create=()=>w(),s}function z(w){const s=(f,x)=>w(x).update(I(f)).digest(),h=w({});return s.outputLen=h.outputLen,s.blockLen=h.blockLen,s.create=f=>w(f),s}function F(w){const s=(f,x)=>w(x).update(I(f)).digest(),h=w({});return s.outputLen=h.outputLen,s.blockLen=h.blockLen,s.create=f=>w(f),s}function U(w=32){if(v.crypto&&typeof v.crypto.getRandomValues=="function")return v.crypto.getRandomValues(new Uint8Array(w));if(v.crypto&&typeof v.crypto.randomBytes=="function")return v.crypto.randomBytes(w);throw new Error("crypto.getRandomValues must be defined")}})(yi)),yi}var Xs;function G0(){if(Xs)return bt;Xs=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.HashMD=void 0,bt.setBigUint64=E,bt.Chi=_,bt.Maj=y;const l=xu(),v=Su();function E(b,o,r,t){if(typeof b.setBigUint64=="function")return b.setBigUint64(o,r,t);const e=BigInt(32),a=BigInt(4294967295),i=Number(r>>e&a),n=Number(r&a),u=t?4:0,c=t?0:4;b.setUint32(o+u,i,t),b.setUint32(o+c,n,t)}function _(b,o,r){return b&o^~b&r}function y(b,o,r){return b&o^b&r^o&r}class d extends v.Hash{constructor(o,r,t,e){super(),this.blockLen=o,this.outputLen=r,this.padOffset=t,this.isLE=e,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(o),this.view=(0,v.createView)(this.buffer)}update(o){(0,l.aexists)(this);const{view:r,buffer:t,blockLen:e}=this;o=(0,v.toBytes)(o);const a=o.length;for(let i=0;i<a;){const n=Math.min(e-this.pos,a-i);if(n===e){const u=(0,v.createView)(o);for(;e<=a-i;i+=e)this.process(u,i);continue}t.set(o.subarray(i,i+n),this.pos),this.pos+=n,i+=n,this.pos===e&&(this.process(r,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){(0,l.aexists)(this),(0,l.aoutput)(o,this),this.finished=!0;const{buffer:r,view:t,blockLen:e,isLE:a}=this;let{pos:i}=this;r[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>e-i&&(this.process(t,0),i=0);for(let m=i;m<e;m++)r[m]=0;E(t,e-8,BigInt(this.length*8),a),this.process(t,0);const n=(0,v.createView)(o),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,p=this.get();if(c>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<c;m++)n.setUint32(4*m,p[m],a)}digest(){const{buffer:o,outputLen:r}=this;this.digestInto(o);const t=o.slice(0,r);return this.destroy(),t}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:r,buffer:t,length:e,finished:a,destroyed:i,pos:n}=this;return o.length=e,o.pos=n,o.finished=a,o.destroyed=i,e%r&&o.buffer.set(t),o}}return bt.HashMD=d,bt}var Ys;function Eu(){if(Ys)return ot;Ys=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.sha224=ot.sha256=ot.SHA256=void 0;const l=G0(),v=Su(),E=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),y=new Uint32Array(64);class d extends l.HashMD{constructor(){super(64,32,8,!1),this.A=_[0]|0,this.B=_[1]|0,this.C=_[2]|0,this.D=_[3]|0,this.E=_[4]|0,this.F=_[5]|0,this.G=_[6]|0,this.H=_[7]|0}get(){const{A:r,B:t,C:e,D:a,E:i,F:n,G:u,H:c}=this;return[r,t,e,a,i,n,u,c]}set(r,t,e,a,i,n,u,c){this.A=r|0,this.B=t|0,this.C=e|0,this.D=a|0,this.E=i|0,this.F=n|0,this.G=u|0,this.H=c|0}process(r,t){for(let O=0;O<16;O++,t+=4)y[O]=r.getUint32(t,!1);for(let O=16;O<64;O++){const I=y[O-15],C=y[O-2],k=(0,v.rotr)(I,7)^(0,v.rotr)(I,18)^I>>>3,D=(0,v.rotr)(C,17)^(0,v.rotr)(C,19)^C>>>10;y[O]=D+y[O-7]+k+y[O-16]|0}let{A:e,B:a,C:i,D:n,E:u,F:c,G:p,H:m}=this;for(let O=0;O<64;O++){const I=(0,v.rotr)(u,6)^(0,v.rotr)(u,11)^(0,v.rotr)(u,25),C=m+I+(0,l.Chi)(u,c,p)+E[O]+y[O]|0,D=((0,v.rotr)(e,2)^(0,v.rotr)(e,13)^(0,v.rotr)(e,22))+(0,l.Maj)(e,a,i)|0;m=p,p=c,c=u,u=n+C|0,n=i,i=a,a=e,e=C+D|0}e=e+this.A|0,a=a+this.B|0,i=i+this.C|0,n=n+this.D|0,u=u+this.E|0,c=c+this.F|0,p=p+this.G|0,m=m+this.H|0,this.set(e,a,i,n,u,c,p,m)}roundClean(){y.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}ot.SHA256=d;class b extends d{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}return ot.sha256=(0,v.wrapConstructor)(()=>new d),ot.sha224=(0,v.wrapConstructor)(()=>new b),ot}var vi,Qs;function Au(){if(Qs)return vi;Qs=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(e,a)=>{for(var i in a)l(e,i,{get:a[i],enumerable:!0})},d=(e,a,i,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of E(a))!_.call(e,u)&&u!==i&&l(e,u,{get:()=>a[u],enumerable:!(n=v(a,u))||n.enumerable});return e},b=e=>d(l({},"__esModule",{value:!0}),e),o={};y(o,{Nep413MessageSchema:()=>r,Signer:()=>t}),vi=b(o);const r={struct:{message:"string",nonce:{array:{type:"u8",len:32}},recipient:"string",callbackUrl:{option:"string"}}};class t{}return vi}var Ze={},tt={},Kt={},ec;function pa(){return ec||(ec=1,Kt.__esModule=!0,Kt.integers=void 0,Kt.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]),Kt}var Et={},tc;function Ou(){if(tc)return Et;tc=1,Et.__esModule=!0,Et.DecodeBuffer=Et.EncodeBuffer=void 0;var l=(function(){function E(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return E.prototype.resize_if_necessary=function(_){if(this.buffer_size-this.offset<_){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+_);var y=new ArrayBuffer(this.buffer_size);new Uint8Array(y).set(new Uint8Array(this.buffer)),this.buffer=y,this.view=new DataView(y)}},E.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},E.prototype.store_value=function(_,y){var d=y.substring(1),b=parseInt(d)/8;this.resize_if_necessary(b);var o=y[0]==="f"?"setFloat".concat(d):y[0]==="i"?"setInt".concat(d):"setUint".concat(d);this.view[o](this.offset,_,!0),this.offset+=b},E.prototype.store_bytes=function(_){this.resize_if_necessary(_.length),new Uint8Array(this.buffer).set(new Uint8Array(_),this.offset),this.offset+=_.length},E})();Et.EncodeBuffer=l;var v=(function(){function E(_){this.offset=0,this.buffer_size=_.length,this.buffer=new ArrayBuffer(_.length),new Uint8Array(this.buffer).set(_),this.view=new DataView(this.buffer)}return E.prototype.assert_enough_buffer=function(_){if(this.offset+_>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},E.prototype.consume_value=function(_){var y=_.substring(1),d=parseInt(y)/8;this.assert_enough_buffer(d);var b=_[0]==="f"?"getFloat".concat(y):_[0]==="i"?"getInt".concat(y):"getUint".concat(y),o=this.view[b](this.offset,!0);return this.offset+=d,o},E.prototype.consume_bytes=function(_){this.assert_enough_buffer(_);var y=this.buffer.slice(this.offset,this.offset+_);return this.offset+=_,y},E})();return Et.DecodeBuffer=v,Et}var Ve={},rc;function Pu(){if(rc)return Ve;rc=1;var l=Ve&&Ve.__extends||(function(){var c=function(p,m){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,I){O.__proto__=I}||function(O,I){for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(O[C]=I[C])},c(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");c(p,m);function O(){this.constructor=p}p.prototype=m===null?Object.create(m):(O.prototype=m.prototype,new O)}})();Ve.__esModule=!0,Ve.validate_schema=Ve.ErrorSchema=Ve.expect_enum=Ve.expect_same_size=Ve.expect_bigint=Ve.expect_type=Ve.isArrayLike=void 0;var v=pa();function E(c){return Array.isArray(c)||!!c&&typeof c=="object"&&"length"in c&&typeof c.length=="number"&&(c.length===0||c.length>0&&c.length-1 in c)}Ve.isArrayLike=E;function _(c,p,m){if(typeof c!==p)throw new Error("Expected ".concat(p," not ").concat(typeof c,"(").concat(c,") at ").concat(m.join(".")))}Ve.expect_type=_;function y(c,p){var m=["number","string","bigint","boolean"].includes(typeof c),O=typeof c=="object"&&c!==null&&"toString"in c;if(!m&&!O)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof c,"(").concat(c,") at ").concat(p.join(".")))}Ve.expect_bigint=y;function d(c,p,m){if(c!==p)throw new Error("Array length ".concat(c," does not match schema length ").concat(p," at ").concat(m.join(".")))}Ve.expect_same_size=d;function b(c,p){if(typeof c!="object"||c===null)throw new Error("Expected object not ".concat(typeof c,"(").concat(c,") at ").concat(p.join(".")))}Ve.expect_enum=b;var o=v.integers.concat(["bool","string"]),r=["option","enum","array","set","map","struct"],t=(function(c){l(p,c);function p(m,O){var I="Invalid schema: ".concat(JSON.stringify(m)," expected ").concat(O);return c.call(this,I)||this}return p})(Error);Ve.ErrorSchema=t;function e(c){if(!(typeof c=="string"&&o.includes(c))){if(c&&typeof c=="object"){var p=Object.keys(c);if(p.length===1&&r.includes(p[0])){var m=p[0];if(m==="option")return e(c[m]);if(m==="enum")return a(c[m]);if(m==="array")return i(c[m]);if(m==="set")return e(c[m]);if(m==="map")return n(c[m]);if(m==="struct")return u(c[m])}}throw new t(c,r.join(", ")+" or "+o.join(", "))}}Ve.validate_schema=e;function a(c){if(!Array.isArray(c))throw new t(c,"Array");for(var p=0,m=c;p<m.length;p++){var O=m[p];if(typeof O!="object"||!("struct"in O))throw new Error('Missing "struct" key in enum schema');if(typeof O.struct!="object"||Object.keys(O.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');e({struct:O.struct})}}function i(c){if(typeof c!="object")throw new t(c,"{ type, len? }");if(c.len&&typeof c.len!="number")throw new Error("Invalid schema: ".concat(c));if("type"in c)return e(c.type);throw new t(c,"{ type, len? }")}function n(c){if(typeof c=="object"&&"key"in c&&"value"in c)e(c.key),e(c.value);else throw new t(c,"{ key, value }")}function u(c){if(typeof c!="object")throw new t(c,"object");for(var p in c)e(c[p])}return Ve}var nc;function $0(){if(nc)return tt;nc=1;var l=tt&&tt.__createBinding||(Object.create?(function(o,r,t,e){e===void 0&&(e=t);var a=Object.getOwnPropertyDescriptor(r,t);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(o,e,a)}):(function(o,r,t,e){e===void 0&&(e=t),o[e]=r[t]})),v=tt&&tt.__setModuleDefault||(Object.create?(function(o,r){Object.defineProperty(o,"default",{enumerable:!0,value:r})}):function(o,r){o.default=r}),E=tt&&tt.__importStar||function(o){if(o&&o.__esModule)return o;var r={};if(o!=null)for(var t in o)t!=="default"&&Object.prototype.hasOwnProperty.call(o,t)&&l(r,o,t);return v(r,o),r};tt.__esModule=!0,tt.BorshSerializer=void 0;var _=pa(),y=Ou(),d=E(Pu()),b=(function(){function o(r){this.encoded=new y.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=r}return o.prototype.encode=function(r,t){return this.encode_value(r,t),this.encoded.get_used_buffer()},o.prototype.encode_value=function(r,t){if(typeof t=="string"){if(_.integers.includes(t))return this.encode_integer(r,t);if(t==="string")return this.encode_string(r);if(t==="bool")return this.encode_boolean(r)}if(typeof t=="object"){if("option"in t)return this.encode_option(r,t);if("enum"in t)return this.encode_enum(r,t);if("array"in t)return this.encode_array(r,t);if("set"in t)return this.encode_set(r,t);if("map"in t)return this.encode_map(r,t);if("struct"in t)return this.encode_struct(r,t)}},o.prototype.encode_integer=function(r,t){var e=parseInt(t.substring(1));e<=32||t=="f64"?(this.checkTypes&&d.expect_type(r,"number",this.fieldPath),this.encoded.store_value(r,t)):(this.checkTypes&&d.expect_bigint(r,this.fieldPath),this.encode_bigint(BigInt(r),e))},o.prototype.encode_bigint=function(r,t){for(var e=t/8,a=new Uint8Array(e),i=0;i<e;i++)a[i]=Number(r&BigInt(255)),r=r>>BigInt(8);this.encoded.store_bytes(new Uint8Array(a))},o.prototype.encode_string=function(r){this.checkTypes&&d.expect_type(r,"string",this.fieldPath);var t=r;this.encoded.store_value(t.length,"u32");for(var e=0;e<t.length;e++)this.encoded.store_value(t.charCodeAt(e),"u8")},o.prototype.encode_boolean=function(r){this.checkTypes&&d.expect_type(r,"boolean",this.fieldPath),this.encoded.store_value(r?1:0,"u8")},o.prototype.encode_option=function(r,t){r==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(r,t.option))},o.prototype.encode_enum=function(r,t){this.checkTypes&&d.expect_enum(r,this.fieldPath);for(var e=Object.keys(r)[0],a=0;a<t.enum.length;a++){var i=t.enum[a];if(e===Object.keys(i.struct)[0])return this.encoded.store_value(a,"u8"),this.encode_struct(r,i)}throw new Error("Enum key (".concat(e,") not found in enum schema: ").concat(JSON.stringify(t)," at ").concat(this.fieldPath.join(".")))},o.prototype.encode_array=function(r,t){if(d.isArrayLike(r))return this.encode_arraylike(r,t);if(r instanceof ArrayBuffer)return this.encode_buffer(r,t);throw new Error("Expected Array-like not ".concat(typeof r,"(").concat(r,") at ").concat(this.fieldPath.join(".")))},o.prototype.encode_arraylike=function(r,t){t.array.len?d.expect_same_size(r.length,t.array.len,this.fieldPath):this.encoded.store_value(r.length,"u32");for(var e=0;e<r.length;e++)this.encode_value(r[e],t.array.type)},o.prototype.encode_buffer=function(r,t){t.array.len?d.expect_same_size(r.byteLength,t.array.len,this.fieldPath):this.encoded.store_value(r.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(r))},o.prototype.encode_set=function(r,t){this.checkTypes&&d.expect_type(r,"object",this.fieldPath);var e=r instanceof Set,a=e?Array.from(r.values()):Object.values(r);this.encoded.store_value(a.length,"u32");for(var i=0,n=a;i<n.length;i++){var u=n[i];this.encode_value(u,t.set)}},o.prototype.encode_map=function(r,t){this.checkTypes&&d.expect_type(r,"object",this.fieldPath);var e=r instanceof Map,a=e?Array.from(r.keys()):Object.keys(r);this.encoded.store_value(a.length,"u32");for(var i=0,n=a;i<n.length;i++){var u=n[i];this.encode_value(u,t.map.key),this.encode_value(e?r.get(u):r[u],t.map.value)}},o.prototype.encode_struct=function(r,t){this.checkTypes&&d.expect_type(r,"object",this.fieldPath);for(var e=0,a=Object.keys(t.struct);e<a.length;e++){var i=a[e];this.fieldPath.push(i),this.encode_value(r[i],t.struct[i]),this.fieldPath.pop()}},o})();return tt.BorshSerializer=b,tt}var Ut={},ic;function W0(){if(ic)return Ut;ic=1,Ut.__esModule=!0,Ut.BorshDeserializer=void 0;var l=pa(),v=Ou(),E=(function(){function _(y){this.buffer=new v.DecodeBuffer(y)}return _.prototype.decode=function(y){return this.decode_value(y)},_.prototype.decode_value=function(y){if(typeof y=="string"){if(l.integers.includes(y))return this.decode_integer(y);if(y==="string")return this.decode_string();if(y==="bool")return this.decode_boolean()}if(typeof y=="object"){if("option"in y)return this.decode_option(y);if("enum"in y)return this.decode_enum(y);if("array"in y)return this.decode_array(y);if("set"in y)return this.decode_set(y);if("map"in y)return this.decode_map(y);if("struct"in y)return this.decode_struct(y)}throw new Error("Unsupported type: ".concat(y))},_.prototype.decode_integer=function(y){var d=parseInt(y.substring(1));return d<=32||y=="f64"?this.buffer.consume_value(y):this.decode_bigint(d,y.startsWith("i"))},_.prototype.decode_bigint=function(y,d){d===void 0&&(d=!1);var b=y/8,o=new Uint8Array(this.buffer.consume_bytes(b)),r=o.reduceRight(function(t,e){return t+e.toString(16).padStart(2,"0")},"");return d&&o[b-1]?BigInt.asIntN(y,BigInt("0x".concat(r))):BigInt("0x".concat(r))},_.prototype.decode_string=function(){var y=this.decode_integer("u32"),d=new Uint8Array(this.buffer.consume_bytes(y));return String.fromCharCode.apply(null,d)},_.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},_.prototype.decode_option=function(y){var d=this.buffer.consume_value("u8");if(d===1)return this.decode_value(y.option);if(d!==0)throw new Error("Invalid option ".concat(d));return null},_.prototype.decode_enum=function(y){var d,b=this.buffer.consume_value("u8");if(b>y.enum.length)throw new Error("Enum option ".concat(b," is not available"));var o=y.enum[b].struct,r=Object.keys(o)[0];return d={},d[r]=this.decode_value(o[r]),d},_.prototype.decode_array=function(y){for(var d=[],b=y.array.len?y.array.len:this.decode_integer("u32"),o=0;o<b;++o)d.push(this.decode_value(y.array.type));return d},_.prototype.decode_set=function(y){for(var d=this.decode_integer("u32"),b=new Set,o=0;o<d;++o)b.add(this.decode_value(y.set));return b},_.prototype.decode_map=function(y){for(var d=this.decode_integer("u32"),b=new Map,o=0;o<d;++o){var r=this.decode_value(y.map.key),t=this.decode_value(y.map.value);b.set(r,t)}return b},_.prototype.decode_struct=function(y){var d={};for(var b in y.struct)d[b]=this.decode_value(y.struct[b]);return d},_})();return Ut.BorshDeserializer=E,Ut}var ac;function Z0(){if(ac)return Ze;ac=1;var l=Ze&&Ze.__createBinding||(Object.create?(function(r,t,e,a){a===void 0&&(a=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,a,i)}):(function(r,t,e,a){a===void 0&&(a=e),r[a]=t[e]})),v=Ze&&Ze.__setModuleDefault||(Object.create?(function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}):function(r,t){r.default=t}),E=Ze&&Ze.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&l(t,r,e);return v(t,r),t};Ze.__esModule=!0,Ze.deserialize=Ze.serialize=void 0;var _=$0(),y=W0(),d=E(Pu());function b(r,t,e){e===void 0&&(e=!0),e&&d.validate_schema(r);var a=new _.BorshSerializer(e);return a.encode(t,r)}Ze.serialize=b;function o(r,t,e){e===void 0&&(e=!0),e&&d.validate_schema(r);var a=new y.BorshDeserializer(t);return a.decode(r)}return Ze.deserialize=o,Ze}var _i,oc;function X0(){if(oc)return _i;oc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(u,c)=>{for(var p in c)l(u,p,{get:c[p],enumerable:!0})},d=(u,c,p,m)=>{if(c&&typeof c=="object"||typeof c=="function")for(let O of E(c))!_.call(u,O)&&O!==p&&l(u,O,{get:()=>c[O],enumerable:!(m=v(c,O))||m.enumerable});return u},b=u=>d(l({},"__esModule",{value:!0}),u),o={};y(o,{KeyPairSigner:()=>n}),_i=b(o);var r=gt(),t=Eu(),e=Au(),a=Gt(),i=Z0();class n extends e.Signer{key;constructor(c){super(),this.key=c}static fromSecretKey(c){const p=r.KeyPair.fromString(c);return new n(p)}async getPublicKey(){return this.key.getPublicKey()}async signNep413Message(c,p,m,O,I){if(O.length!==32)throw new Error("Nonce must be exactly 32 bytes long");const C=this.key.getPublicKey(),D=(0,i.serialize)("u32",2147484061),G={message:c,recipient:m,nonce:O,callbackUrl:I},z=(0,i.serialize)(e.Nep413MessageSchema,G),F=new Uint8Array(D.length+z.length);F.set(D),F.set(z,D.length);const U=new Uint8Array((0,t.sha256)(F)),{signature:w}=this.key.sign(U);return{accountId:p,publicKey:C,signature:w}}async signTransaction(c){const p=this.key.getPublicKey();if(c.publicKey.toString()!==p.toString())throw new Error("The public key doesn't match the signer's key");const m=(0,a.encodeTransaction)(c),O=new Uint8Array((0,t.sha256)(m)),{signature:I}=this.key.sign(O),C=new a.SignedTransaction({transaction:c,signature:new a.Signature({keyType:c.publicKey.ed25519Key?r.KeyType.ED25519:r.KeyType.SECP256K1,data:I})});return[O,C]}async signDelegateAction(c){const p=this.key.getPublicKey();if(c.publicKey.toString()!==p.toString())throw new Error("The public key doesn't match the signer's key");const m=(0,a.encodeDelegateAction)(c),O=new Uint8Array((0,t.sha256)(m)),{signature:I}=this.key.sign(O),C=new a.SignedDelegate({delegateAction:c,signature:new a.Signature({keyType:p.keyType,data:I})});return[O,C]}}return _i}var gi,sc;function Y0(){if(sc)return gi;sc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(i,n)=>{for(var u in n)l(i,u,{get:n[u],enumerable:!0})},d=(i,n,u,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let p of E(n))!_.call(i,p)&&p!==u&&l(i,p,{get:()=>n[p],enumerable:!(c=v(n,p))||c.enumerable});return i},b=i=>d(l({},"__esModule",{value:!0}),i),o={};y(o,{InMemorySigner:()=>a}),gi=b(o);var r=gt(),t=Pt(),e=Eu();class a{keyStore;constructor(n){this.keyStore=n}static async fromKeyPair(n,u,c){const p=new t.InMemoryKeyStore;return await p.setKey(n,u,c),new a(p)}async createKey(n,u,c){const p=c===r.KeyType.SECP256K1?r.KeyPair.fromRandom("secp256k1"):r.KeyPair.fromRandom("ed25519");return await this.keyStore.setKey(u,n,p),p.getPublicKey()}async getPublicKey(n,u){const c=await this.keyStore.getKey(u,n);return c===null?null:c.getPublicKey()}async signMessage(n,u,c){const p=new Uint8Array((0,e.sha256)(n));if(!u)throw new Error("InMemorySigner requires provided account id");const m=await this.keyStore.getKey(c,u);if(m===null)throw new Error(`Key for ${u} not found in ${c}`);return m.sign(p)}toString(){return`InMemorySigner(${this.keyStore})`}}return gi}var wi,cc;function wr(){if(cc)return wi;cc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(a,i)=>{for(var n in i)l(a,n,{get:i[n],enumerable:!0})},d=(a,i,n,u)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of E(i))!_.call(a,c)&&c!==n&&l(a,c,{get:()=>i[c],enumerable:!(u=v(i,c))||u.enumerable});return a},b=a=>d(l({},"__esModule",{value:!0}),a),o={};y(o,{InMemorySigner:()=>e.InMemorySigner,KeyPairSigner:()=>r.KeyPairSigner,Signer:()=>t.Signer}),wi=b(o);var r=X0(),t=Au(),e=Y0();return wi}var mi,uc;function Iu(){if(uc)return mi;uc=1;var l=Object.create,v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(m,O)=>{for(var I in O)v(m,I,{get:O[I],enumerable:!0})},o=(m,O,I,C)=>{if(O&&typeof O=="object"||typeof O=="function")for(let k of _(O))!d.call(m,k)&&k!==I&&v(m,k,{get:()=>O[k],enumerable:!(C=E(O,k))||C.enumerable});return m},r=(m,O,I)=>(I=m!=null?l(y(m)):{},o(v(I,"default",{value:m,enumerable:!0}),m)),t=m=>o(v({},"__esModule",{value:!0}),m),e={};b(e,{Connection:()=>p}),mi=t(e);var a=wr(),i=Xt(),n=r(ut());function u(m){switch(m.type){case void 0:return m;case"JsonRpcProvider":return new i.JsonRpcProvider({...m.args});case"FailoverRpcProvider":{const O=(m?.args||[]).map(I=>new i.JsonRpcProvider(I));return new i.FailoverRpcProvider(O)}default:throw new Error(`Unknown provider type ${m.type}`)}}function c(m){switch(m.type){case void 0:return m;case"InMemorySigner":return new a.InMemorySigner(m.keyStore);default:throw new Error(`Unknown signer type ${m.type}`)}}class p{networkId;provider;signer;constructor(O,I,C){(0,n.default)("new Connection(networkId, provider, signer)")("`Connection` is no longer used anywhere, please switch to constructing `Account` without it - use `new Account(accountId, provider, signer)`"),this.networkId=O,this.provider=I,this.signer=C}getConnection(){return this}static fromConfig(O){const I=u(O.provider),C=c(O.signer);return new p(O.networkId,I,C)}}return mi}var xi,fc;function ba(){if(fc)return xi;fc=1;var l=Object.create,v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(I,C)=>{for(var k in C)v(I,k,{get:C[k],enumerable:!0})},o=(I,C,k,D)=>{if(C&&typeof C=="object"||typeof C=="function")for(let G of _(C))!d.call(I,G)&&G!==k&&v(I,G,{get:()=>C[G],enumerable:!(D=E(C,G))||D.enumerable});return I},r=(I,C,k)=>(k=I!=null?l(y(I)):{},o(v(k,"default",{value:I,enumerable:!0}),I)),t=I=>o(v({},"__esModule",{value:!0}),I),e={};b(e,{validateArgs:()=>p,viewFunction:()=>O,viewState:()=>m}),xi=t(e);var a=Xe(),i=Ge(),n=r(ut());function u(I){return JSON.parse(Buffer.from(I).toString())}function c(I){return Buffer.from(JSON.stringify(I))}function p(I){if(!(I.byteLength!==void 0&&I.byteLength===I.length)&&(Array.isArray(I)||typeof I!="object"))throw new a.PositionalArgsError}async function m(I,C,k,D={finality:"optimistic"}){(0,n.default)("viewState()")("It will be removed in the next major release");const{values:z}=await I.provider.query({request_type:"view_state",...D,account_id:C,prefix_base64:Buffer.from(k).toString("base64")});return z.map(({key:F,value:U})=>({key:Buffer.from(F,"base64"),value:Buffer.from(U,"base64")}))}async function O(I,{contractId:C,methodName:k,args:D={},parse:G=u,stringify:z=c,blockQuery:F={finality:"optimistic"}}){(0,n.default)("viewFunction()")("It will be removed in the next major release"),p(D);const w=z(D),s=await I.provider.query({request_type:"call_function",...F,account_id:C,method_name:k,args_base64:w.toString("base64")});return s.logs&&(0,i.printTxOutcomeLogs)({contractId:C,logs:s.logs}),s.result&&s.result.length>0&&G(Buffer.from(s.result))}return xi}var Si,dc;function Q0(){if(dc)return Si;dc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(c,p)=>{for(var m in p)l(c,m,{get:p[m],enumerable:!0})},d=(c,p,m,O)=>{if(p&&typeof p=="object"||typeof p=="function")for(let I of E(p))!_.call(c,I)&&I!==m&&l(c,I,{get:()=>p[I],enumerable:!(O=v(p,I))||O.enumerable});return c},b=c=>d(l({},"__esModule",{value:!0}),c),o={};y(o,{MAX_NOMINATION_EXP:()=>r,formatAmount:()=>t,parseAmount:()=>e}),Si=b(o);const r=24;function t(c,p,m=p){c=u(c);const O=c.substring(0,c.length-p)||"0";let I=c.substring(c.length-p).substring(0,p).padStart(p,"0");return I=I.substring(0,m),i(`${O}.${I}`)}function e(c,p){c=a(c);const m=c.split(".");if(m.length>2)throw new Error(`Cannot parse amount '${c}' as it contains more than a single dot`);const O=m[0],I=m[1]||"";if(I.length>r)throw new Error(`Cannot parse amount '${c}' as it exceeds maximum decimal precision of ${r}`);return n(O+I.substring(0,p).padEnd(p,"0"))}function a(c){return c.replace(/,/g,".").trim()}function i(c){return c.replace(/\.?0*$/,"")}function n(c){return c=c.replace(/^0+/,""),c===""?"0":c}function u(c){return BigInt(c).toString()}return Si}var Ei,lc;function ya(){if(lc)return Ei;lc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(n,u)=>{for(var c in u)l(n,c,{get:u[c],enumerable:!0})},d=(n,u,c,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let m of E(u))!_.call(n,m)&&m!==c&&l(n,m,{get:()=>u[m],enumerable:!(p=v(u,m))||p.enumerable});return n},b=n=>d(l({},"__esModule",{value:!0}),n),o={};y(o,{FungibleToken:()=>a,NEAR:()=>i,NativeToken:()=>e}),Ei=b(o);var r=Q0();class t{metadata;constructor(u){this.metadata=u}toUnits(u){const c=(0,r.parseAmount)(u.toString(),this.metadata.decimals);return BigInt(c)}toDecimal(u,c){return(0,r.formatAmount)(u,this.metadata.decimals,c)}}class e extends t{constructor(u){super(u)}async transfer({from:u,receiverId:c,amount:p}){return u.signAndSendTransaction({receiverId:c,actions:[{transfer:{deposit:p.toString()}}]})}async getBalance(u){const{balance:{available:c}}=await u.getState();return c}}class a extends t{accountId;constructor(u,c){c.spec=c.spec||"ft-1.0.0",super(c),this.accountId=u}async transfer({from:u,receiverId:c,amount:p}){return u.callFunction({contractId:this.accountId,methodName:"ft_transfer",args:{amount:p.toString(),receiver_id:c},gas:"30000000000000",deposit:1})}async getBalance(u){const c=await u.provider.callFunction(this.accountId,"ft_balance_of",{account_id:u.accountId});return BigInt(c)}async transferCall({from:u,receiverId:c,amount:p,msg:m}){return u.callFunction({contractId:this.accountId,methodName:"ft_transfer_call",args:{receiver_id:c,amount:p.toString(),msg:m},gas:"30000000000000",deposit:1})}async registerAccount({accountIdToRegister:u,fundingAccount:c}){const{result:p}=await c.provider.callFunction(this.accountId,"storage_balance_bounds",{}),m=p.min;return c.callFunction({contractId:this.accountId,methodName:"storage_deposit",args:{account_id:u,registration_only:!0},gas:"30000000000000",deposit:m})}async unregisterAccount({account:u,force:c=!1}){return u.callFunction({contractId:this.accountId,methodName:"storage_unregister",args:{force:c},gas:"30000000000000",deposit:1})}}const i=new e({name:"NEAR",decimals:24,symbol:"NEAR",icon:"data:image/svg+xml,%3Csvg%20width%3D%2232%22%20height%3D%2232%22%20viewBox%3D%220%200%2032%2032%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ccircle%20cx%3D%2216%22%20cy%3D%2216%22%20r%3D%2216%22%20fill%3D%22white%22%3E%3C%2Fcircle%3E%3Cg%20clip-path%3D%22url(%23clip0000000003)%22%3E%3Cpath%20d%3D%22M20.8422%208.84471L17.4978%2013.776C17.4501%2013.847%2017.43%2013.9328%2017.4411%2014.0174C17.4522%2014.102%2017.4938%2014.1798%2017.5582%2014.2363C17.6225%2014.2928%2017.7053%2014.3243%2017.7913%2014.3249C17.8772%2014.3254%2017.9604%2014.2951%2018.0256%2014.2395L21.3178%2011.4036C21.3371%2011.3865%2021.361%2011.3753%2021.3866%2011.3714C21.4122%2011.3675%2021.4383%2011.3711%2021.4619%2011.3818C21.4855%2011.3924%2021.5054%2011.4096%2021.5193%2011.4314C21.5331%2011.4531%2021.5403%2011.4783%2021.54%2011.504V20.3824C21.54%2020.4095%2021.5316%2020.4361%2021.5158%2020.4583C21.5001%2020.4806%2021.4779%2020.4975%2021.4522%2020.5068C21.4265%2020.516%2021.3985%2020.5172%2021.3721%2020.5102C21.3456%2020.5031%2021.322%2020.4882%2021.3044%2020.4673L11.3533%208.63726C11.1933%208.44956%2010.994%208.29873%2010.7693%208.19525C10.5446%208.09178%2010.2999%208.03815%2010.0522%208.03809H9.70444C9.2524%208.03809%208.81887%208.21642%208.49922%208.53386C8.17957%208.8513%208%209.28185%208%209.73078V22.2351C8%2022.684%208.17957%2023.1145%208.49922%2023.432C8.81887%2023.7494%209.2524%2023.9277%209.70444%2023.9277V23.9277C9.99591%2023.9278%2010.2825%2023.8537%2010.537%2023.7125C10.7914%2023.5713%2011.0051%2023.3677%2011.1578%2023.1211L14.5022%2018.1898C14.5499%2018.1188%2014.57%2018.033%2014.5589%2017.9484C14.5478%2017.8638%2014.5062%2017.7861%2014.4418%2017.7295C14.3775%2017.673%2014.2947%2017.6415%2014.2087%2017.641C14.1228%2017.6404%2014.0396%2017.6707%2013.9744%2017.7264L10.6822%2020.5622C10.6629%2020.5794%2010.639%2020.5906%2010.6134%2020.5944C10.5878%2020.5983%2010.5617%2020.5947%2010.5381%2020.5841C10.5145%2020.5734%2010.4946%2020.5562%2010.4807%2020.5345C10.4669%2020.5128%2010.4597%2020.4875%2010.46%2020.4618V11.5813C10.46%2011.5541%2010.4684%2011.5276%2010.4842%2011.5053C10.4999%2011.483%2010.5221%2011.4661%2010.5478%2011.4568C10.5735%2011.4476%2010.6015%2011.4464%2010.6279%2011.4534C10.6544%2011.4605%2010.678%2011.4755%2010.6956%2011.4963L20.6456%2023.3286C20.8056%2023.5163%2021.0049%2023.6671%2021.2296%2023.7706C21.4543%2023.874%2021.699%2023.9277%2021.9467%2023.9277H22.2944C22.5184%2023.9279%2022.7401%2023.8842%2022.947%2023.7992C23.154%2023.7142%2023.342%2023.5895%2023.5004%2023.4324C23.6588%2023.2752%2023.7844%2023.0885%2023.8702%2022.8831C23.9559%2022.6776%2024%2022.4574%2024%2022.2351V9.73078C24%209.28185%2023.8204%208.8513%2023.5008%208.53386C23.1811%208.21642%2022.7476%208.03809%2022.2956%208.03809C22.0041%208.03801%2021.7175%208.11211%2021.4631%208.25332C21.2086%208.39453%2020.9949%208.59814%2020.8422%208.84471V8.84471Z%22%20fill%3D%22black%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3Cdefs%3E%3CclipPath%20id%3D%22clip00033%22%3E%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22black%22%20transform%3D%22translate(8%207.9834)%22%3E%3C%2Frect%3E%3C%2FclipPath%3E%3C%2Fdefs%3E%3C%2Fsvg%3E"});return Ei}var Ai,hc;function ed(){if(hc)return Ai;hc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(e,a)=>{for(var i in a)l(e,i,{get:a[i],enumerable:!0})},d=(e,a,i,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of E(a))!_.call(e,u)&&u!==i&&l(e,u,{get:()=>a[u],enumerable:!(n=v(a,u))||n.enumerable});return e},b=e=>d(l({},"__esModule",{value:!0}),e),o={};y(o,{NFTContract:()=>r,NonFungibleToken:()=>t}),Ai=b(o);class r{metadata;accountId;constructor(a,i){i.spec=i.spec||"nft-1.0.0",this.metadata=i,this.accountId=a}transfer({from:a,receiverId:i,tokenId:n}){return a.callFunction({contractId:this.accountId,methodName:"nft_transfer",args:{receiver_id:i,token_id:n},deposit:1,gas:3e13})}}class t{contractId;tokenId;ownerId;metadata;constructor(a,i,n,u){this.contractId=a,this.tokenId=i,this.ownerId=n,this.metadata=u}}return Ai}var Oi,pc;function td(){if(pc)return Oi;pc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{MultiTokenContract:()=>r}),Oi=b(o);class r{accountId;constructor(e){this.accountId=e}async getBalance(e,a){const i=await e.provider.callFunction(this.accountId,"mt_balance_of",{account_id:e.accountId,token_id:a});return BigInt(i)}async getBatchedBalance(e,a){return(await e.provider.callFunction(this.accountId,"mt_batch_balance_of",{account_id:e.accountId,token_ids:a})).map(n=>BigInt(n))}async transfer({from:e,receiverId:a,tokenId:i,amount:n,approval:u=null,memo:c=null}){return e.callFunction({contractId:this.accountId,methodName:"mt_transfer",args:{receiver_id:a,token_id:i,amount:n.toString(),approval:u,memo:c},gas:"30000000000000",deposit:1})}async transferCall({from:e,receiverId:a,tokenId:i,amount:n,msg:u,approval:c=null,memo:p=null}){return e.callFunction({contractId:this.accountId,methodName:"mt_transfer_call",args:{receiver_id:a,token_id:i,amount:n.toString(),approval:c,memo:p,msg:u},gas:"30000000000000",deposit:1})}async batchTransfer({from:e,receiverId:a,tokenIds:i,amounts:n,approvals:u=null,memo:c=null}){return e.callFunction({contractId:this.accountId,methodName:"mt_batch_transfer",args:{receiver_id:a,token_ids:i,amounts:n.map(p=>p.toString()),approvals:u,memo:c},gas:"30000000000000",deposit:1})}}return Oi}var Pi,bc;function rd(){if(bc)return Pi;bc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(i,n)=>{for(var u in n)l(i,u,{get:n[u],enumerable:!0})},d=(i,n,u,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let p of E(n))!_.call(i,p)&&p!==u&&l(i,p,{get:()=>n[p],enumerable:!(c=v(n,p))||c.enumerable});return i},b=i=>d(l({},"__esModule",{value:!0}),i),o={};y(o,{USDC:()=>e,USDT:()=>a,wNEAR:()=>t}),Pi=b(o);var r=ya();const t=new r.FungibleToken("wrap.near",{name:"Wrapped NEAR fungible token",decimals:24,symbol:"wNEAR",icon:"data:image/svg+xml,%3Csvg%20width%3D%2232%22%20height%3D%2232%22%20viewBox%3D%220%200%2032%2032%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ccircle%20cx%3D%2216%22%20cy%3D%2216%22%20r%3D%2216%22%20fill%3D%22white%22%3E%3C%2Fcircle%3E%3Cg%20clip-path%3D%22url(%23clip0000000003)%22%3E%3Cpath%20d%3D%22M20.8422%208.84471L17.4978%2013.776C17.4501%2013.847%2017.43%2013.9328%2017.4411%2014.0174C17.4522%2014.102%2017.4938%2014.1798%2017.5582%2014.2363C17.6225%2014.2928%2017.7053%2014.3243%2017.7913%2014.3249C17.8772%2014.3254%2017.9604%2014.2951%2018.0256%2014.2395L21.3178%2011.4036C21.3371%2011.3865%2021.361%2011.3753%2021.3866%2011.3714C21.4122%2011.3675%2021.4383%2011.3711%2021.4619%2011.3818C21.4855%2011.3924%2021.5054%2011.4096%2021.5193%2011.4314C21.5331%2011.4531%2021.5403%2011.4783%2021.54%2011.504V20.3824C21.54%2020.4095%2021.5316%2020.4361%2021.5158%2020.4583C21.5001%2020.4806%2021.4779%2020.4975%2021.4522%2020.5068C21.4265%2020.516%2021.3985%2020.5172%2021.3721%2020.5102C21.3456%2020.5031%2021.322%2020.4882%2021.3044%2020.4673L11.3533%208.63726C11.1933%208.44956%2010.994%208.29873%2010.7693%208.19525C10.5446%208.09178%2010.2999%208.03815%2010.0522%208.03809H9.70444C9.2524%208.03809%208.81887%208.21642%208.49922%208.53386C8.17957%208.8513%208%209.28185%208%209.73078V22.2351C8%2022.684%208.17957%2023.1145%208.49922%2023.432C8.81887%2023.7494%209.2524%2023.9277%209.70444%2023.9277V23.9277C9.99591%2023.9278%2010.2825%2023.8537%2010.537%2023.7125C10.7914%2023.5713%2011.0051%2023.3677%2011.1578%2023.1211L14.5022%2018.1898C14.5499%2018.1188%2014.57%2018.033%2014.5589%2017.9484C14.5478%2017.8638%2014.5062%2017.7861%2014.4418%2017.7295C14.3775%2017.673%2014.2947%2017.6415%2014.2087%2017.641C14.1228%2017.6404%2014.0396%2017.6707%2013.9744%2017.7264L10.6822%2020.5622C10.6629%2020.5794%2010.639%2020.5906%2010.6134%2020.5944C10.5878%2020.5983%2010.5617%2020.5947%2010.5381%2020.5841C10.5145%2020.5734%2010.4946%2020.5562%2010.4807%2020.5345C10.4669%2020.5128%2010.4597%2020.4875%2010.46%2020.4618V11.5813C10.46%2011.5541%2010.4684%2011.5276%2010.4842%2011.5053C10.4999%2011.483%2010.5221%2011.4661%2010.5478%2011.4568C10.5735%2011.4476%2010.6015%2011.4464%2010.6279%2011.4534C10.6544%2011.4605%2010.678%2011.4755%2010.6956%2011.4963L20.6456%2023.3286C20.8056%2023.5163%2021.0049%2023.6671%2021.2296%2023.7706C21.4543%2023.874%2021.699%2023.9277%2021.9467%2023.9277H22.2944C22.5184%2023.9279%2022.7401%2023.8842%2022.947%2023.7992C23.154%2023.7142%2023.342%2023.5895%2023.5004%2023.4324C23.6588%2023.2752%2023.7844%2023.0885%2023.8702%2022.8831C23.9559%2022.6776%2024%2022.4574%2024%2022.2351V9.73078C24%209.28185%2023.8204%208.8513%2023.5008%208.53386C23.1811%208.21642%2022.7476%208.03809%2022.2956%208.03809C22.0041%208.03801%2021.7175%208.11211%2021.4631%208.25332C21.2086%208.39453%2020.9949%208.59814%2020.8422%208.84471V8.84471Z%22%20fill%3D%22black%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3Cdefs%3E%3CclipPath%20id%3D%22clip00033%22%3E%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22black%22%20transform%3D%22translate(8%207.9834)%22%3E%3C%2Frect%3E%3C%2FclipPath%3E%3C%2Fdefs%3E%3C%2Fsvg%3E"}),e=new r.FungibleToken("17208628f84f5d6ad33f0da3bbbeb27ffcb398eac501a31bd6ad2011e36133a1",{name:"USDC",decimals:6,symbol:"USDC",icon:"data:image/svg+xml,%3C%3Fxml version=%221.0%22 encoding=%22utf-8%22%3F%3E%3C!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version=%221.1%22 id=%22Layer_1%22 xmlns=%22http://www.w3.org/2000/svg%22 xmlns:xlink=%22http://www.w3.org/1999/xlink%22 x=%220px%22 y=%220px%22 viewBox=%220 0 256 256%22 style=%22enable-background:new 0 0 256 256;%22 xml:space=%22preserve%22%3E%3Cstyle type=%22text/css%22%3E .st0%7Bfill:%232775CA;%7D .st1%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Ccircle class=%22st0%22 cx=%22128%22 cy=%22128%22 r=%22128%22/%3E%3Cpath class=%22st1%22 d=%22M104,217c0,3-2.4,4.7-5.2,3.8C60,208.4,32,172.2,32,129.3c0-42.8,28-79.1,66.8-91.5c2.9-0.9,5.2,0.8,5.2,3.8 v7.5c0,2-1.5,4.3-3.4,5C69.9,65.4,48,94.9,48,129.3c0,34.5,21.9,63.9,52.6,75.1c1.9,0.7,3.4,3,3.4,5V217z%22/%3E%3Cpath class=%22st1%22 d=%22M136,189.3c0,2.2-1.8,4-4,4h-8c-2.2,0-4-1.8-4-4v-12.6c-17.5-2.4-26-12.1-28.3-25.5c-0.4-2.3,1.4-4.3,3.7-4.3 h9.1c1.9,0,3.5,1.4,3.9,3.2c1.7,7.9,6.3,14,20.3,14c10.3,0,17.7-5.8,17.7-14.4c0-8.6-4.3-11.9-19.5-14.4c-22.4-3-33-9.8-33-27.3 c0-13.5,10.3-24.1,26.1-26.3V69.3c0-2.2,1.8-4,4-4h8c2.2,0,4,1.8,4,4v12.7c12.9,2.3,21.1,9.6,23.8,21.8c0.5,2.3-1.3,4.4-3.7,4.4 h-8.4c-1.8,0-3.3-1.2-3.8-2.9c-2.3-7.7-7.8-11.1-17.4-11.1c-10.6,0-16.1,5.1-16.1,12.3c0,7.6,3.1,11.4,19.4,13.7 c22,3,33.4,9.3,33.4,28c0,14.2-10.6,25.7-27.1,28.3V189.3z%22/%3E%3Cpath class=%22st1%22 d=%22M157.2,220.8c-2.9,0.9-5.2-0.8-5.2-3.8v-7.5c0-2.2,1.3-4.3,3.4-5c30.6-11.2,52.6-40.7,52.6-75.1 c0-34.5-21.9-63.9-52.6-75.1c-1.9-0.7-3.4-3-3.4-5v-7.5c0-3,2.4-4.7,5.2-3.8C196,50.2,224,86.5,224,129.3 C224,172.2,196,208.4,157.2,220.8z%22/%3E%3C/svg%3E%0A"}),a=new r.FungibleToken("usdt.tether-token.near",{name:"Tether USD",decimals:6,symbol:"USDt",icon:"data:image/svg+xml,%3Csvg width='111' height='90' viewBox='0 0 111 90' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M24.4825 0.862305H88.0496C89.5663 0.862305 90.9675 1.64827 91.7239 2.92338L110.244 34.1419C111.204 35.7609 110.919 37.8043 109.549 39.1171L58.5729 87.9703C56.9216 89.5528 54.2652 89.5528 52.6139 87.9703L1.70699 39.1831C0.305262 37.8398 0.0427812 35.7367 1.07354 34.1077L20.8696 2.82322C21.6406 1.60483 23.0087 0.862305 24.4825 0.862305ZM79.8419 14.8003V23.5597H61.7343V29.6329C74.4518 30.2819 83.9934 32.9475 84.0642 36.1425L84.0638 42.803C83.993 45.998 74.4518 48.6635 61.7343 49.3125V64.2168H49.7105V49.3125C36.9929 48.6635 27.4513 45.998 27.3805 42.803L27.381 36.1425C27.4517 32.9475 36.9929 30.2819 49.7105 29.6329V23.5597H31.6028V14.8003H79.8419ZM55.7224 44.7367C69.2943 44.7367 80.6382 42.4827 83.4143 39.4727C81.0601 36.9202 72.5448 34.9114 61.7343 34.3597V40.7183C59.7966 40.8172 57.7852 40.8693 55.7224 40.8693C53.6595 40.8693 51.6481 40.8172 49.7105 40.7183V34.3597C38.8999 34.9114 30.3846 36.9202 28.0304 39.4727C30.8066 42.4827 42.1504 44.7367 55.7224 44.7367Z' fill='%23009393'/%3E%3C/svg%3E"});return Pi}var Ii,yc;function nd(){if(yc)return Ii;yc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(i,n)=>{for(var u in n)l(i,u,{get:n[u],enumerable:!0})},d=(i,n,u,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let p of E(n))!_.call(i,p)&&p!==u&&l(i,p,{get:()=>n[p],enumerable:!(c=v(n,p))||c.enumerable});return i},b=i=>d(l({},"__esModule",{value:!0}),i),o={};y(o,{USDC:()=>e,USDT:()=>a,wNEAR:()=>t}),Ii=b(o);var r=ya();const t=new r.FungibleToken("wrap.testnet",{name:"Wrapped NEAR fungible token",decimals:24,symbol:"wNEAR",icon:"data:image/svg+xml,%3Csvg%20width%3D%2232%22%20height%3D%2232%22%20viewBox%3D%220%200%2032%2032%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ccircle%20cx%3D%2216%22%20cy%3D%2216%22%20r%3D%2216%22%20fill%3D%22white%22%3E%3C%2Fcircle%3E%3Cg%20clip-path%3D%22url(%23clip0000000003)%22%3E%3Cpath%20d%3D%22M20.8422%208.84471L17.4978%2013.776C17.4501%2013.847%2017.43%2013.9328%2017.4411%2014.0174C17.4522%2014.102%2017.4938%2014.1798%2017.5582%2014.2363C17.6225%2014.2928%2017.7053%2014.3243%2017.7913%2014.3249C17.8772%2014.3254%2017.9604%2014.2951%2018.0256%2014.2395L21.3178%2011.4036C21.3371%2011.3865%2021.361%2011.3753%2021.3866%2011.3714C21.4122%2011.3675%2021.4383%2011.3711%2021.4619%2011.3818C21.4855%2011.3924%2021.5054%2011.4096%2021.5193%2011.4314C21.5331%2011.4531%2021.5403%2011.4783%2021.54%2011.504V20.3824C21.54%2020.4095%2021.5316%2020.4361%2021.5158%2020.4583C21.5001%2020.4806%2021.4779%2020.4975%2021.4522%2020.5068C21.4265%2020.516%2021.3985%2020.5172%2021.3721%2020.5102C21.3456%2020.5031%2021.322%2020.4882%2021.3044%2020.4673L11.3533%208.63726C11.1933%208.44956%2010.994%208.29873%2010.7693%208.19525C10.5446%208.09178%2010.2999%208.03815%2010.0522%208.03809H9.70444C9.2524%208.03809%208.81887%208.21642%208.49922%208.53386C8.17957%208.8513%208%209.28185%208%209.73078V22.2351C8%2022.684%208.17957%2023.1145%208.49922%2023.432C8.81887%2023.7494%209.2524%2023.9277%209.70444%2023.9277V23.9277C9.99591%2023.9278%2010.2825%2023.8537%2010.537%2023.7125C10.7914%2023.5713%2011.0051%2023.3677%2011.1578%2023.1211L14.5022%2018.1898C14.5499%2018.1188%2014.57%2018.033%2014.5589%2017.9484C14.5478%2017.8638%2014.5062%2017.7861%2014.4418%2017.7295C14.3775%2017.673%2014.2947%2017.6415%2014.2087%2017.641C14.1228%2017.6404%2014.0396%2017.6707%2013.9744%2017.7264L10.6822%2020.5622C10.6629%2020.5794%2010.639%2020.5906%2010.6134%2020.5944C10.5878%2020.5983%2010.5617%2020.5947%2010.5381%2020.5841C10.5145%2020.5734%2010.4946%2020.5562%2010.4807%2020.5345C10.4669%2020.5128%2010.4597%2020.4875%2010.46%2020.4618V11.5813C10.46%2011.5541%2010.4684%2011.5276%2010.4842%2011.5053C10.4999%2011.483%2010.5221%2011.4661%2010.5478%2011.4568C10.5735%2011.4476%2010.6015%2011.4464%2010.6279%2011.4534C10.6544%2011.4605%2010.678%2011.4755%2010.6956%2011.4963L20.6456%2023.3286C20.8056%2023.5163%2021.0049%2023.6671%2021.2296%2023.7706C21.4543%2023.874%2021.699%2023.9277%2021.9467%2023.9277H22.2944C22.5184%2023.9279%2022.7401%2023.8842%2022.947%2023.7992C23.154%2023.7142%2023.342%2023.5895%2023.5004%2023.4324C23.6588%2023.2752%2023.7844%2023.0885%2023.8702%2022.8831C23.9559%2022.6776%2024%2022.4574%2024%2022.2351V9.73078C24%209.28185%2023.8204%208.8513%2023.5008%208.53386C23.1811%208.21642%2022.7476%208.03809%2022.2956%208.03809C22.0041%208.03801%2021.7175%208.11211%2021.4631%208.25332C21.2086%208.39453%2020.9949%208.59814%2020.8422%208.84471V8.84471Z%22%20fill%3D%22black%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3Cdefs%3E%3CclipPath%20id%3D%22clip00033%22%3E%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22black%22%20transform%3D%22translate(8%207.9834)%22%3E%3C%2Frect%3E%3C%2FclipPath%3E%3C%2Fdefs%3E%3C%2Fsvg%3E"}),e=new r.FungibleToken("usdc.fakes.testnet",{name:"USDC",decimals:6,symbol:"USDC",icon:"data:image/svg+xml,%3C%3Fxml version=%221.0%22 encoding=%22utf-8%22%3F%3E%3C!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version=%221.1%22 id=%22Layer_1%22 xmlns=%22http://www.w3.org/2000/svg%22 xmlns:xlink=%22http://www.w3.org/1999/xlink%22 x=%220px%22 y=%220px%22 viewBox=%220 0 256 256%22 style=%22enable-background:new 0 0 256 256;%22 xml:space=%22preserve%22%3E%3Cstyle type=%22text/css%22%3E .st0%7Bfill:%232775CA;%7D .st1%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Ccircle class=%22st0%22 cx=%22128%22 cy=%22128%22 r=%22128%22/%3E%3Cpath class=%22st1%22 d=%22M104,217c0,3-2.4,4.7-5.2,3.8C60,208.4,32,172.2,32,129.3c0-42.8,28-79.1,66.8-91.5c2.9-0.9,5.2,0.8,5.2,3.8 v7.5c0,2-1.5,4.3-3.4,5C69.9,65.4,48,94.9,48,129.3c0,34.5,21.9,63.9,52.6,75.1c1.9,0.7,3.4,3,3.4,5V217z%22/%3E%3Cpath class=%22st1%22 d=%22M136,189.3c0,2.2-1.8,4-4,4h-8c-2.2,0-4-1.8-4-4v-12.6c-17.5-2.4-26-12.1-28.3-25.5c-0.4-2.3,1.4-4.3,3.7-4.3 h9.1c1.9,0,3.5,1.4,3.9,3.2c1.7,7.9,6.3,14,20.3,14c10.3,0,17.7-5.8,17.7-14.4c0-8.6-4.3-11.9-19.5-14.4c-22.4-3-33-9.8-33-27.3 c0-13.5,10.3-24.1,26.1-26.3V69.3c0-2.2,1.8-4,4-4h8c2.2,0,4,1.8,4,4v12.7c12.9,2.3,21.1,9.6,23.8,21.8c0.5,2.3-1.3,4.4-3.7,4.4 h-8.4c-1.8,0-3.3-1.2-3.8-2.9c-2.3-7.7-7.8-11.1-17.4-11.1c-10.6,0-16.1,5.1-16.1,12.3c0,7.6,3.1,11.4,19.4,13.7 c22,3,33.4,9.3,33.4,28c0,14.2-10.6,25.7-27.1,28.3V189.3z%22/%3E%3Cpath class=%22st1%22 d=%22M157.2,220.8c-2.9,0.9-5.2-0.8-5.2-3.8v-7.5c0-2.2,1.3-4.3,3.4-5c30.6-11.2,52.6-40.7,52.6-75.1 c0-34.5-21.9-63.9-52.6-75.1c-1.9-0.7-3.4-3-3.4-5v-7.5c0-3,2.4-4.7,5.2-3.8C196,50.2,224,86.5,224,129.3 C224,172.2,196,208.4,157.2,220.8z%22/%3E%3C/svg%3E%0A"}),a=new r.FungibleToken("usdt.fakes.testnet",{name:"Tether USD",decimals:6,symbol:"USDt",icon:"data:image/svg+xml,%3Csvg width='111' height='90' viewBox='0 0 111 90' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M24.4825 0.862305H88.0496C89.5663 0.862305 90.9675 1.64827 91.7239 2.92338L110.244 34.1419C111.204 35.7609 110.919 37.8043 109.549 39.1171L58.5729 87.9703C56.9216 89.5528 54.2652 89.5528 52.6139 87.9703L1.70699 39.1831C0.305262 37.8398 0.0427812 35.7367 1.07354 34.1077L20.8696 2.82322C21.6406 1.60483 23.0087 0.862305 24.4825 0.862305ZM79.8419 14.8003V23.5597H61.7343V29.6329C74.4518 30.2819 83.9934 32.9475 84.0642 36.1425L84.0638 42.803C83.993 45.998 74.4518 48.6635 61.7343 49.3125V64.2168H49.7105V49.3125C36.9929 48.6635 27.4513 45.998 27.3805 42.803L27.381 36.1425C27.4517 32.9475 36.9929 30.2819 49.7105 29.6329V23.5597H31.6028V14.8003H79.8419ZM55.7224 44.7367C69.2943 44.7367 80.6382 42.4827 83.4143 39.4727C81.0601 36.9202 72.5448 34.9114 61.7343 34.3597V40.7183C59.7966 40.8172 57.7852 40.8693 55.7224 40.8693C53.6595 40.8693 51.6481 40.8172 49.7105 40.7183V34.3597C38.8999 34.9114 30.3846 36.9202 28.0304 39.4727C30.8066 42.4827 42.1504 44.7367 55.7224 44.7367Z' fill='%23009393'/%3E%3C/svg%3E"});return Ii}var Mi,vc;function id(){if(vc)return Mi;vc=1;var l=Object.create,v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(p,m)=>{for(var O in m)v(p,O,{get:m[O],enumerable:!0})},o=(p,m,O,I)=>{if(m&&typeof m=="object"||typeof m=="function")for(let C of _(m))!d.call(p,C)&&C!==O&&v(p,C,{get:()=>m[C],enumerable:!(I=E(m,C))||I.enumerable});return p},r=(p,m,O)=>(O=p!=null?l(y(p)):{},o(v(O,"default",{value:p,enumerable:!0}),p)),t=p=>o(v({},"__esModule",{value:!0}),p),e={};b(e,{FungibleToken:()=>a.FungibleToken,MultiTokenContract:()=>n.MultiTokenContract,NEAR:()=>a.NEAR,NFTContract:()=>i.NFTContract,NativeToken:()=>a.NativeToken,NonFungibleToken:()=>i.NonFungibleToken,mainnet:()=>u,testnet:()=>c}),Mi=t(e);var a=ya(),i=ed(),n=td(),u=r(rd()),c=r(nd());return Mi}var Ci,_c;function Mu(){if(_c)return Ci;_c=1;var l=Object.create,v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(g,A)=>{for(var L in A)v(g,L,{get:A[L],enumerable:!0})},o=(g,A,L,K)=>{if(A&&typeof A=="object"||typeof A=="function")for(let T of _(A))!d.call(g,T)&&T!==L&&v(g,T,{get:()=>A[T],enumerable:!(K=E(A,T))||K.enumerable});return g},r=(g,A,L)=>(L=g!=null?l(y(g)):{},o(v(L,"default",{value:g,enumerable:!0}),g)),t=g=>o(v({},"__esModule",{value:!0}),g),e={};b(e,{Account:()=>j,DEFAULT_WAIT_STATUS:()=>R}),Ci=t(e);var a=gt(),i=Xt(),n=Gt(),u=Xe(),c=Ge(),p=Pt(),m=wr(),O=Iu(),I=ba(),C=id(),k=r(ut());const{addKey:D,createAccount:G,deleteAccount:z,deleteKey:F,deployContract:U,deployGlobalContract:w,fullAccessKey:s,functionCall:h,functionCallAccessKey:f,transfer:x,useGlobalContract:S}=n.actionCreators,B="optimistic",R="EXECUTED_OPTIMISTIC";class j{accountId;provider;signer;constructor(A,L,K){this.accountId=A,this.provider=L,this.signer=K}setSigner(A){this.signer=A}getSigner(){return this.signer}async getState(){const A=await this.provider.experimental_protocolConfig({finality:B}),L=await this.provider.viewAccount(this.accountId,{finality:B}),K=BigInt(A.runtime_config.storage_amount_per_byte),T=BigInt(L.storage_usage)*K,V=BigInt(L.locked),J=BigInt(L.amount)+V,X=J-(V>T?V:T);return{balance:{total:J,usedOnStorage:T,locked:V,available:X},storageUsage:L.storage_usage,codeHash:L.code_hash}}async getAccessKey(A){return this.provider.viewAccessKey(this.accountId,A,{finality:B})}async getAccessKeyList(){return this.provider.viewAccessKeyList(this.accountId,{finality:B})}async getContractCode(){return this.provider.viewContractCode(this.accountId,{finality:B})}async getContractState(A){return this.provider.viewContractState(this.accountId,A,{finality:B})}async createTransaction(A,L,K){if(!K)throw new Error("Please provide a public key");const T=a.PublicKey.from(K),V=await this.getAccessKey(T),X=(await this.provider.viewBlock({finality:B})).header.hash,$=BigInt(V.nonce)+1n;return(0,n.createTransaction)(this.accountId,T,A,$+1n,L,(0,c.baseDecode)(X))}async createSignedTransaction(A,L){if(!this.signer)throw new Error("Please set a signer");const K=await this.createTransaction(A,L,await this.signer.getPublicKey()),[,T]=await this.signer.signTransaction(K);return T}async createMetaTransaction(A,L,K=200,T){if(!T)throw new Error("Please provide a public key");const V=a.PublicKey.from(T),J=await this.getAccessKey(V),X=BigInt(J.nonce)+1n,{header:$}=await this.provider.viewBlock({finality:B}),H=BigInt($.height)+BigInt(K);return(0,n.buildDelegateAction)({receiverId:A,senderId:this.accountId,actions:L,publicKey:V,nonce:X,maxBlockHeight:H})}async createSignedMetaTransaction(A,L,K=200){if(!this.signer)throw new Error("Please set a signer");const T=await this.createMetaTransaction(A,L,K,await this.signer.getPublicKey());return this.signer.signDelegateAction(T)}async signAndSendTransaction({receiverId:A,actions:L,waitUntil:K=R,throwOnFailure:T=!0}){const V=await this.createSignedTransaction(A,L),J=await this.provider.sendTransactionUntil(V,K);if(T&&typeof J.status=="object"&&typeof J.status.Failure=="object"&&J.status.Failure!==null)throw(0,c.parseResultError)(J);return J}async signAndSendTransactions({transactions:A,waitUntil:L=R,throwOnFailure:K=!0}){if(!this.signer)throw new Error("Please set a signer");return await Promise.all(A.map(async({receiverId:V,actions:J})=>this.signAndSendTransaction({receiverId:V,actions:J,waitUntil:L,throwOnFailure:K})))}async createAccount(A,L,K="0"){if(A.endsWith(this.accountId))return this.createSubAccount(A,L,K);const T=A.split(".");if(T.length!=2)throw new Error("newAccountId needs to be of the form <string>.<tla>");const V=T[1];return this.signAndSendTransaction({receiverId:V,actions:[h("create_account",{new_account_id:A,new_public_key:L.toString()},BigInt("60000000000000"),BigInt(K))]})}async createSubAccount(A,L,K="0"){if(!this.signer)throw new Error("Please set a signer");const T=A.includes(".")?A:`${A}.${this.accountId}`;if(T.length>64)throw new Error("Accounts cannot exceed 64 characters");if(!T.endsWith(this.accountId))throw new Error(`New account must end up with ${this.accountId}`);const V=[G(),x(BigInt(K)),D(a.PublicKey.from(L),s())];return this.signAndSendTransaction({receiverId:T,actions:V})}async deleteAccount(A){return this.signAndSendTransaction({receiverId:this.accountId,actions:[z(A)]})}async deployContract(A){return this.signAndSendTransaction({receiverId:this.accountId,actions:[U(A)]})}async deployGlobalContract(A,L){const K=L==="codeHash"?new n.GlobalContractDeployMode({CodeHash:null}):new n.GlobalContractDeployMode({AccountId:null});return this.signAndSendTransaction({receiverId:this.accountId,actions:[w(A,K)]})}async useGlobalContract(A){const L="accountId"in A?new n.GlobalContractIdentifier({AccountId:A.accountId}):new n.GlobalContractIdentifier({CodeHash:typeof A.codeHash=="string"?Buffer.from(A.codeHash,"hex"):A.codeHash});return this.signAndSendTransaction({receiverId:this.accountId,actions:[S(L)]})}async addFunctionCallAccessKey({publicKey:A,contractId:L,methodNames:K=[],allowance:T=C.NEAR.toUnits("0.25")}){return this.signAndSendTransaction({receiverId:this.accountId,actions:[D(a.PublicKey.from(A),f(L,K,BigInt(T)))]})}async addFullAccessKey(A){return this.signAndSendTransaction({receiverId:this.accountId,actions:[D(a.PublicKey.from(A),s())]})}async deleteKey(A){return this.signAndSendTransaction({receiverId:this.accountId,actions:[F(a.PublicKey.from(A))]})}async callFunction(A){const L=await this.callFunctionRaw(A);return(0,c.getTransactionLastResult)(L)}async callFunctionRaw({contractId:A,methodName:L,args:K={},deposit:T="0",gas:V=c.DEFAULT_FUNCTION_CALL_GAS,waitUntil:J=R}){return await this.signAndSendTransaction({receiverId:A,actions:[h(L,K,BigInt(V),BigInt(T))],waitUntil:J})}async signNep413Message({message:A,recipient:L,nonce:K,callbackUrl:T}){if(!this.signer)throw new Error("Please set a signer");return this.signer.signNep413Message(A,this.accountId,L,K,T)}async getBalance(A=C.NEAR){return A.getBalance(this)}async transfer({receiverId:A,amount:L,token:K=C.NEAR}){return K.transfer({from:this,receiverId:A,amount:L})}async signedDelegate({actions:A,blockHeightTtl:L,receiverId:K}){(0,k.default)("Account.signedDelegate()")("It will be removed in the next major release, please switch to Account.createSignedMetaTransaction()");const{header:V}=await this.provider.viewBlock({finality:B});if(!this.signer)throw new Error("Please set a signer");const J=await this.signer.getPublicKey(),X=await this.getAccessKey(J),$=(0,n.buildDelegateAction)({actions:A,maxBlockHeight:BigInt(V.height)+BigInt(L),nonce:BigInt(X.nonce)+1n,publicKey:J,receiverId:K,senderId:this.accountId}),[,H]=await this.signer.signDelegateAction($);return H}getConnection(){return new O.Connection("",this.provider,new m.InMemorySigner(new p.InMemoryKeyStore))}validateArgs(A){if(!(A.byteLength!==void 0&&A.byteLength===A.length)&&(Array.isArray(A)||typeof A!="object"))throw new u.PositionalArgsError}async functionCall({contractId:A,methodName:L,args:K={},gas:T=c.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:V,walletMeta:J,walletCallbackUrl:X,stringify:$}){(0,k.default)("Account.functionCall()")("It will be removed in the next major release, please switch to Account.callFunction()"),this.validateArgs(K);const Q=$===void 0?n.stringifyJsonOrBytes:$,ee=[L,K,T,V,Q,!1];return this.signAndSendTransactionLegacy({receiverId:A,actions:[h.apply(void 0,ee)],walletMeta:J,walletCallbackUrl:X})}async getTransactionStatus(A){return(0,k.default)("Account.getTransactionStatus()")("It will be removed in the next major release, please switch to Provider.viewTransactionStatus()"),this.provider.viewTransactionStatus(A,this.accountId,"EXECUTED_OPTIMISTIC")}async signTransaction(A,L,K){(0,k.default)("Account.signTransaction()")("It will be removed in the next major release, please switch to Account.createSignedTransaction()");const V=K?.signer||this.signer;if(!V)throw new Error("Please set a signer");const J=await V.getPublicKey(),X=await this.getAccessKey(J),H=(await this.provider.viewBlock({finality:B})).header.hash,Q=BigInt(X.nonce)+1n,ee=(0,n.createTransaction)(this.accountId,J,A,Q+1n,L,(0,c.baseDecode)(H));return V.signTransaction(ee)}async createAndDeployContract(A,L,K,T){(0,k.default)("Account.createAndDeployContract()")("It will be removed in the next major release");const J=s();return await this.signAndSendTransactionLegacy({receiverId:A,actions:[G(),x(T),D(a.PublicKey.from(L),J),U(K)]}),new j(A,this.provider)}async sendMoney(A,L){return(0,k.default)("Account.sendMoney()")("It will be removed in the next major release, please switch to Account.transfer()"),this.signAndSendTransactionLegacy({receiverId:A,actions:[x(L)]})}async signAndSendTransactionLegacy({receiverId:A,actions:L,returnError:K},T){(0,k.default)("Account.signAndSendTransactionLegacy()")("It will be removed in the next major release, please switch to Account.signAndSendTransaction()");let J,X;const ee=await(0,i.exponentialBackoff)(500,12,1.5,async()=>{[J,X]=await this.signTransaction(A,L,T);try{return await this.provider.sendTransaction(X)}catch(ce){if(ce.type==="InvalidNonce")return c.Logger.warn(`Retrying transaction ${A}:${(0,c.baseEncode)(J)} with new nonce.`),null;if(ce.type==="Expired")return c.Logger.warn(`Retrying transaction ${A}:${(0,c.baseEncode)(J)} due to expired block hash`),null;throw ce.context=new u.ErrorContext((0,c.baseEncode)(J)),ce}});if(!ee)throw new u.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,c.printTxOutcomeLogsAndFailures)({contractId:X.transaction.receiverId,outcome:ee}),!K&&typeof ee.status=="object"&&typeof ee.status.Failure=="object"&&ee.status.Failure!==null)throw ee.status.Failure.error_message&&ee.status.Failure.error_type?new u.TypedError(`Transaction ${ee.transaction_outcome.id} failed. ${ee.status.Failure.error_message}`,ee.status.Failure.error_type):(0,c.parseResultError)(ee);return ee}accessKeyByPublicKeyCache={};async findAccessKey(A,L){if((0,k.default)("Account.findAccessKey()")("It will be removed in the next major release"),!this.signer)throw new Error("Please set a signer");const T=await this.signer.getPublicKey();if(!T)throw new u.TypedError(`no matching key pair found in ${this.signer.constructor.name}`,"PublicKeyNotFound");const V=this.accessKeyByPublicKeyCache[T.toString()];if(V!==void 0)return{publicKey:T,accessKey:V};try{const J=await this.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:T.toString(),finality:B}),X={...J,nonce:BigInt(J.nonce||0)};return this.accessKeyByPublicKeyCache[T.toString()]?{publicKey:T,accessKey:this.accessKeyByPublicKeyCache[T.toString()]}:(this.accessKeyByPublicKeyCache[T.toString()]=X,{publicKey:T,accessKey:X})}catch(J){if(J.type=="AccessKeyDoesNotExist")return null;throw J}}async addKey(A,L,K,T){(0,k.default)("Account.addKey()")("It will be removed in the next major release, please switch to either Account.addFullAccessKey(), or Account.addFunctionAccessKey()"),K||(K=[]),Array.isArray(K)||(K=[K]);let J;return L?J=f(L,K,T):J=s(),this.signAndSendTransactionLegacy({receiverId:this.accountId,actions:[D(a.PublicKey.from(A),J)]})}async viewFunction(A){return(0,k.default)("Account.viewFunction()")("It will be removed in the next major release, please switch to either Provider.callFunction()"),await(0,I.viewFunction)(this.getConnection(),A)}async viewState(A,L={finality:B}){return(0,k.default)("Account.viewState()")("It will be removed in the next major release, please switch to either Account.getContractState()"),await(0,I.viewState)(this.getConnection(),this.accountId,A,L)}async getAccessKeys(){return(0,k.default)("Account.getAccessKeys()")("It will be removed in the next major release, please switch to either Account.getAccessKeyList()"),(await this.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:B}))?.keys?.map(K=>({...K,access_key:{...K.access_key,nonce:BigInt(K.access_key.nonce)}}))}async getAccountDetails(){return{authorizedApps:(await this.getAccessKeys()).filter(K=>K.access_key.permission!=="FullAccess").map(K=>{const T=K.access_key.permission;return{contractId:T.FunctionCall.receiver_id,amount:T.FunctionCall.allowance,publicKey:K.public_key}})}}async state(){return(0,k.default)("Account.state()")("It will be removed in the next major release, please switch to either Account.getState()"),this.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})}async getAccountBalance(){(0,k.default)("Account.getAccountBalance()")("It will be removed in the next major release, please switch to either Account.getState()");const L=await this.provider.experimental_protocolConfig({finality:B}),K=await this.state(),T=BigInt(L.runtime_config.storage_amount_per_byte),V=BigInt(K.storage_usage)*T,J=BigInt(K.locked),X=BigInt(K.amount)+J,$=X-(J>V?J:V);return{total:X.toString(),stateStaked:V.toString(),staked:J.toString(),available:$.toString()}}async getActiveDelegatedStakeBalance(){(0,k.default)("Account.getActiveDelegatedStakeBalance()")("It will be removed in the next major release");const L=await this.provider.block({finality:B}),K=L.header.hash,T=L.header.epoch_id,{current_validators:V,next_validators:J,current_proposals:X}=await this.provider.validators(T),$=new Set;[...V,...J,...X].forEach(ae=>$.add(ae.account_id));const H=[...$],Q=H.map(ae=>this.viewFunction({contractId:ae,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:K}})),ee=await Promise.allSettled(Q);if(ee.some(ae=>ae.status==="rejected"&&ae.reason.type==="TimeoutError"))throw new Error("Failed to get delegated stake balance");const te=ee.reduce((ae,ue,oe)=>{const W=H[oe];if(ue.status==="fulfilled"){const Y=BigInt(ue.value);if(Y!==0n)return{...ae,stakedValidators:[...ae.stakedValidators,{validatorId:W,amount:Y.toString()}],total:ae.total+Y}}return ue.status==="rejected"?{...ae,failedValidators:[...ae.failedValidators,{validatorId:W,error:ue.reason}]}:ae},{stakedValidators:[],failedValidators:[],total:0n});return{...te,total:te.total.toString()}}}return Ci}var Bi,gc;function ad(){if(gc)return Bi;gc=1;var l=Object.create,v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(c,p)=>{for(var m in p)v(c,m,{get:p[m],enumerable:!0})},o=(c,p,m,O)=>{if(p&&typeof p=="object"||typeof p=="function")for(let I of _(p))!d.call(c,I)&&I!==m&&v(c,I,{get:()=>p[I],enumerable:!(O=E(p,I))||O.enumerable});return c},r=(c,p,m)=>(m=c!=null?l(y(c)):{},o(v(m,"default",{value:c,enumerable:!0}),c)),t=c=>o(v({},"__esModule",{value:!0}),c),e={};b(e,{AccountCreator:()=>i,LocalAccountCreator:()=>n,UrlAccountCreator:()=>u}),Bi=t(e);var a=r(ut());class i{constructor(){(0,a.default)("AccountCreator")(`${this.constructor.name} is deprecated and will be removed in the next major release`)}}class n extends i{masterAccount;initialBalance;constructor(p,m){super(),this.masterAccount=p,this.initialBalance=m}async createAccount(p,m){await this.masterAccount.createAccount(p,m,this.initialBalance)}}class u extends i{connection;helperUrl;constructor(p,m){super(),this.connection=p,this.helperUrl=m}async createAccount(p,m){await fetch(`${this.helperUrl}/account`,{body:JSON.stringify({newAccountId:p,newAccountPublicKey:m.toString()}),method:"POST"})}}return Bi}var ki,wc;function od(){if(wc)return ki;wc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(c,p)=>{for(var m in p)l(c,m,{get:p[m],enumerable:!0})},d=(c,p,m,O)=>{if(p&&typeof p=="object"||typeof p=="function")for(let I of E(p))!_.call(c,I)&&I!==m&&l(c,I,{get:()=>p[I],enumerable:!(O=v(p,I))||O.enumerable});return c},b=c=>d(l({},"__esModule",{value:!0}),c),o={};y(o,{MULTISIG_ALLOWANCE:()=>e,MULTISIG_CHANGE_METHODS:()=>n,MULTISIG_CONFIRM_METHODS:()=>u,MULTISIG_DEPOSIT:()=>i,MULTISIG_GAS:()=>a,MULTISIG_STORAGE_KEY:()=>t}),ki=b(o);var r=Ge();const t="__multisigRequest",e=BigInt((0,r.parseNearAmount)("1")),a=100000000000000n,i=0n,n=["add_request","add_request_and_confirm","delete_request","confirm"],u=["confirm"];return ki}var Jt={exports:{}},sd=Jt.exports,mc;function cd(){return mc||(mc=1,(function(l,v){(function(E,_){_(v)})(sd,function(E){const _=Symbol("newer"),y=Symbol("older");class d{constructor(a,i){typeof a!="number"&&(i=a,a=0),this.size=0,this.limit=a,this.oldest=this.newest=void 0,this._keymap=new Map,i&&(this.assign(i),a<1&&(this.limit=this.size))}_markEntryAsUsed(a){a!==this.newest&&(a[_]&&(a===this.oldest&&(this.oldest=a[_]),a[_][y]=a[y]),a[y]&&(a[y][_]=a[_]),a[_]=void 0,a[y]=this.newest,this.newest&&(this.newest[_]=a),this.newest=a)}assign(a){let i,n=this.limit||Number.MAX_VALUE;this._keymap.clear();let u=a[Symbol.iterator]();for(let c=u.next();!c.done;c=u.next()){let p=new b(c.value[0],c.value[1]);if(this._keymap.set(p.key,p),i?(i[_]=p,p[y]=i):this.oldest=p,i=p,n--==0)throw new Error("overflow")}this.newest=i,this.size=this._keymap.size}get(a){var i=this._keymap.get(a);return i?(this._markEntryAsUsed(i),i.value):void 0}set(a,i){var n=this._keymap.get(a);return n?(n.value=i,this._markEntryAsUsed(n),this):(this._keymap.set(a,n=new b(a,i)),this.newest?(this.newest[_]=n,n[y]=this.newest):this.oldest=n,this.newest=n,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var a=this.oldest;if(a)return this.oldest[_]?(this.oldest=this.oldest[_],this.oldest[y]=void 0):(this.oldest=void 0,this.newest=void 0),a[_]=a[y]=void 0,this._keymap.delete(a.key),--this.size,[a.key,a.value]}find(a){let i=this._keymap.get(a);return i?i.value:void 0}has(a){return this._keymap.has(a)}delete(a){var i=this._keymap.get(a);return i?(this._keymap.delete(i.key),i[_]&&i[y]?(i[y][_]=i[_],i[_][y]=i[y]):i[_]?(i[_][y]=void 0,this.oldest=i[_]):i[y]?(i[y][_]=void 0,this.newest=i[y]):this.oldest=this.newest=void 0,this.size--,i.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new r(this.oldest)}values(){return new t(this.oldest)}entries(){return this}[Symbol.iterator](){return new o(this.oldest)}forEach(a,i){typeof i!="object"&&(i=this);let n=this.oldest;for(;n;)a.call(i,n.value,n.key,this),n=n[_]}toJSON(){for(var a=new Array(this.size),i=0,n=this.oldest;n;)a[i++]={key:n.key,value:n.value},n=n[_];return a}toString(){for(var a="",i=this.oldest;i;)a+=String(i.key)+":"+i.value,i=i[_],i&&(a+=" < ");return a}}E.LRUMap=d;function b(e,a){this.key=e,this.value=a,this[_]=void 0,this[y]=void 0}function o(e){this.entry=e}o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let e=this.entry;return e?(this.entry=e[_],{done:!1,value:[e.key,e.value]}):{done:!0,value:void 0}};function r(e){this.entry=e}r.prototype[Symbol.iterator]=function(){return this},r.prototype.next=function(){let e=this.entry;return e?(this.entry=e[_],{done:!1,value:e.key}):{done:!0,value:void 0}};function t(e){this.entry=e}t.prototype[Symbol.iterator]=function(){return this},t.prototype.next=function(){let e=this.entry;return e?(this.entry=e[_],{done:!1,value:e.value}):{done:!0,value:void 0}}})})(Jt,Jt.exports)),Jt.exports}var ji,xc;function ud(){if(xc)return ji;xc=1;var l=Object.create,v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(n,u)=>{for(var c in u)v(n,c,{get:u[c],enumerable:!0})},o=(n,u,c,p)=>{if(u&&typeof u=="object"||typeof u=="function")for(let m of _(u))!d.call(n,m)&&m!==c&&v(n,m,{get:()=>u[m],enumerable:!(p=E(u,m))||p.enumerable});return n},r=(n,u,c)=>(c=n!=null?l(y(n)):{},o(v(c,"default",{value:n,enumerable:!0}),n)),t=n=>o(v({},"__esModule",{value:!0}),n),e={};b(e,{Storage:()=>i}),ji=t(e);var a=r(cd());class i{cache;static MAX_ELEMENTS=100;blockHeights;constructor(u={max:i.MAX_ELEMENTS}){this.cache=new a.LRUMap(u.max),this.blockHeights=new Map}load(u){if(!("blockId"in u))return;let p=u.blockId;return p.toString().length==44&&(p=this.blockHeights.get(p.toString())),this.cache.get(p)}save(u,{blockHeight:c,blockTimestamp:p,contractCode:m,contractState:O}){this.blockHeights.set(u,c),this.cache.set(c,{blockHeight:c,blockTimestamp:p,contractCode:m,contractState:O})}}return ji}var st={},vt={},_t={},Sc;function Cu(){if(Sc)return _t;Sc=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.anumber=l,_t.abytes=E,_t.ahash=_,_t.aexists=y,_t.aoutput=d;function l(b){if(!Number.isSafeInteger(b)||b<0)throw new Error("positive integer expected, got "+b)}function v(b){return b instanceof Uint8Array||ArrayBuffer.isView(b)&&b.constructor.name==="Uint8Array"}function E(b,...o){if(!v(b))throw new Error("Uint8Array expected");if(o.length>0&&!o.includes(b.length))throw new Error("Uint8Array expected of length "+o+", got length="+b.length)}function _(b){if(typeof b!="function"||typeof b.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");l(b.outputLen),l(b.blockLen)}function y(b,o=!0){if(b.destroyed)throw new Error("Hash instance has been destroyed");if(o&&b.finished)throw new Error("Hash#digest() has already been called")}function d(b,o){E(b);const r=o.outputLen;if(b.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}return _t}var Ni={},zt={},Ec;function fd(){return Ec||(Ec=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.crypto=void 0,zt.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),zt}var Ac;function Bu(){return Ac||(Ac=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.Hash=l.nextTick=l.byteSwapIfBE=l.isLE=void 0,l.isBytes=_,l.u8=y,l.u32=d,l.createView=b,l.rotr=o,l.rotl=r,l.byteSwap=t,l.byteSwap32=e,l.bytesToHex=i,l.hexToBytes=c,l.asyncLoop=m,l.utf8ToBytes=O,l.toBytes=I,l.concatBytes=C,l.checkOpts=D,l.wrapConstructor=G,l.wrapConstructorWithOpts=z,l.wrapXOFConstructorWithOpts=F,l.randomBytes=U;const v=fd(),E=Cu();function _(w){return w instanceof Uint8Array||ArrayBuffer.isView(w)&&w.constructor.name==="Uint8Array"}function y(w){return new Uint8Array(w.buffer,w.byteOffset,w.byteLength)}function d(w){return new Uint32Array(w.buffer,w.byteOffset,Math.floor(w.byteLength/4))}function b(w){return new DataView(w.buffer,w.byteOffset,w.byteLength)}function o(w,s){return w<<32-s|w>>>s}function r(w,s){return w<<s|w>>>32-s>>>0}l.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function t(w){return w<<24&4278190080|w<<8&16711680|w>>>8&65280|w>>>24&255}l.byteSwapIfBE=l.isLE?w=>w:w=>t(w);function e(w){for(let s=0;s<w.length;s++)w[s]=t(w[s])}const a=Array.from({length:256},(w,s)=>s.toString(16).padStart(2,"0"));function i(w){(0,E.abytes)(w);let s="";for(let h=0;h<w.length;h++)s+=a[w[h]];return s}const n={_0:48,_9:57,A:65,F:70,a:97,f:102};function u(w){if(w>=n._0&&w<=n._9)return w-n._0;if(w>=n.A&&w<=n.F)return w-(n.A-10);if(w>=n.a&&w<=n.f)return w-(n.a-10)}function c(w){if(typeof w!="string")throw new Error("hex string expected, got "+typeof w);const s=w.length,h=s/2;if(s%2)throw new Error("hex string expected, got unpadded hex of length "+s);const f=new Uint8Array(h);for(let x=0,S=0;x<h;x++,S+=2){const B=u(w.charCodeAt(S)),R=u(w.charCodeAt(S+1));if(B===void 0||R===void 0){const j=w[S]+w[S+1];throw new Error('hex string expected, got non-hex character "'+j+'" at index '+S)}f[x]=B*16+R}return f}const p=async()=>{};l.nextTick=p;async function m(w,s,h){let f=Date.now();for(let x=0;x<w;x++){h(x);const S=Date.now()-f;S>=0&&S<s||(await(0,l.nextTick)(),f+=S)}}function O(w){if(typeof w!="string")throw new Error("utf8ToBytes expected string, got "+typeof w);return new Uint8Array(new TextEncoder().encode(w))}function I(w){return typeof w=="string"&&(w=O(w)),(0,E.abytes)(w),w}function C(...w){let s=0;for(let f=0;f<w.length;f++){const x=w[f];(0,E.abytes)(x),s+=x.length}const h=new Uint8Array(s);for(let f=0,x=0;f<w.length;f++){const S=w[f];h.set(S,x),x+=S.length}return h}class k{clone(){return this._cloneInto()}}l.Hash=k;function D(w,s){if(s!==void 0&&{}.toString.call(s)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(w,s)}function G(w){const s=f=>w().update(I(f)).digest(),h=w();return s.outputLen=h.outputLen,s.blockLen=h.blockLen,s.create=()=>w(),s}function z(w){const s=(f,x)=>w(x).update(I(f)).digest(),h=w({});return s.outputLen=h.outputLen,s.blockLen=h.blockLen,s.create=f=>w(f),s}function F(w){const s=(f,x)=>w(x).update(I(f)).digest(),h=w({});return s.outputLen=h.outputLen,s.blockLen=h.blockLen,s.create=f=>w(f),s}function U(w=32){if(v.crypto&&typeof v.crypto.getRandomValues=="function")return v.crypto.getRandomValues(new Uint8Array(w));if(v.crypto&&typeof v.crypto.randomBytes=="function")return v.crypto.randomBytes(w);throw new Error("crypto.getRandomValues must be defined")}})(Ni)),Ni}var Oc;function dd(){if(Oc)return vt;Oc=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.HashMD=void 0,vt.setBigUint64=E,vt.Chi=_,vt.Maj=y;const l=Cu(),v=Bu();function E(b,o,r,t){if(typeof b.setBigUint64=="function")return b.setBigUint64(o,r,t);const e=BigInt(32),a=BigInt(4294967295),i=Number(r>>e&a),n=Number(r&a),u=t?4:0,c=t?0:4;b.setUint32(o+u,i,t),b.setUint32(o+c,n,t)}function _(b,o,r){return b&o^~b&r}function y(b,o,r){return b&o^b&r^o&r}class d extends v.Hash{constructor(o,r,t,e){super(),this.blockLen=o,this.outputLen=r,this.padOffset=t,this.isLE=e,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(o),this.view=(0,v.createView)(this.buffer)}update(o){(0,l.aexists)(this);const{view:r,buffer:t,blockLen:e}=this;o=(0,v.toBytes)(o);const a=o.length;for(let i=0;i<a;){const n=Math.min(e-this.pos,a-i);if(n===e){const u=(0,v.createView)(o);for(;e<=a-i;i+=e)this.process(u,i);continue}t.set(o.subarray(i,i+n),this.pos),this.pos+=n,i+=n,this.pos===e&&(this.process(r,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){(0,l.aexists)(this),(0,l.aoutput)(o,this),this.finished=!0;const{buffer:r,view:t,blockLen:e,isLE:a}=this;let{pos:i}=this;r[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>e-i&&(this.process(t,0),i=0);for(let m=i;m<e;m++)r[m]=0;E(t,e-8,BigInt(this.length*8),a),this.process(t,0);const n=(0,v.createView)(o),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,p=this.get();if(c>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<c;m++)n.setUint32(4*m,p[m],a)}digest(){const{buffer:o,outputLen:r}=this;this.digestInto(o);const t=o.slice(0,r);return this.destroy(),t}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:r,buffer:t,length:e,finished:a,destroyed:i,pos:n}=this;return o.length=e,o.pos=n,o.finished=a,o.destroyed=i,e%r&&o.buffer.set(t),o}}return vt.HashMD=d,vt}var Pc;function ld(){if(Pc)return st;Pc=1,Object.defineProperty(st,"__esModule",{value:!0}),st.sha224=st.sha256=st.SHA256=void 0;const l=dd(),v=Bu(),E=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),y=new Uint32Array(64);class d extends l.HashMD{constructor(){super(64,32,8,!1),this.A=_[0]|0,this.B=_[1]|0,this.C=_[2]|0,this.D=_[3]|0,this.E=_[4]|0,this.F=_[5]|0,this.G=_[6]|0,this.H=_[7]|0}get(){const{A:r,B:t,C:e,D:a,E:i,F:n,G:u,H:c}=this;return[r,t,e,a,i,n,u,c]}set(r,t,e,a,i,n,u,c){this.A=r|0,this.B=t|0,this.C=e|0,this.D=a|0,this.E=i|0,this.F=n|0,this.G=u|0,this.H=c|0}process(r,t){for(let O=0;O<16;O++,t+=4)y[O]=r.getUint32(t,!1);for(let O=16;O<64;O++){const I=y[O-15],C=y[O-2],k=(0,v.rotr)(I,7)^(0,v.rotr)(I,18)^I>>>3,D=(0,v.rotr)(C,17)^(0,v.rotr)(C,19)^C>>>10;y[O]=D+y[O-7]+k+y[O-16]|0}let{A:e,B:a,C:i,D:n,E:u,F:c,G:p,H:m}=this;for(let O=0;O<64;O++){const I=(0,v.rotr)(u,6)^(0,v.rotr)(u,11)^(0,v.rotr)(u,25),C=m+I+(0,l.Chi)(u,c,p)+E[O]+y[O]|0,D=((0,v.rotr)(e,2)^(0,v.rotr)(e,13)^(0,v.rotr)(e,22))+(0,l.Maj)(e,a,i)|0;m=p,p=c,c=u,u=n+C|0,n=i,i=a,a=e,e=C+D|0}e=e+this.A|0,a=a+this.B|0,i=i+this.C|0,n=n+this.D|0,u=u+this.E|0,c=c+this.F|0,p=p+this.G|0,m=m+this.H|0,this.set(e,a,i,n,u,c,p,m)}roundClean(){y.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}st.SHA256=d;class b extends d{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}return st.sha256=(0,v.wrapConstructor)(()=>new d),st.sha224=(0,v.wrapConstructor)(()=>new b),st}var Ti,Ic;function ku(){if(Ic)return Ti;Ic=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(i,n)=>{for(var u in n)l(i,u,{get:n[u],enumerable:!0})},d=(i,n,u,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let p of E(n))!_.call(i,p)&&p!==u&&l(i,p,{get:()=>n[p],enumerable:!(c=v(n,p))||c.enumerable});return i},b=i=>d(l({},"__esModule",{value:!0}),i),o={};y(o,{Runtime:()=>a}),Ti=b(o);var r=ld();const t=i=>()=>{throw new Error("method not implemented: "+i)},e=i=>()=>{throw new Error("method not available for view calls: "+i)};class a{context;wasm;memory;registers;logs;result;constructor({contractCode:n,...u}){this.context=u,this.wasm=this.prepareWASM(Buffer.from(n,"base64")),this.memory=new WebAssembly.Memory({initial:1024,maximum:2048}),this.registers={},this.logs=[],this.result=Buffer.from([])}readUTF16CStr(n){const u=[],c=new Uint16Array(this.memory.buffer);let p=Number(n)/2;for(;c[p]!=0;)u.push(c[p]),p++;return Buffer.from(Uint16Array.from(u).buffer).toString("ucs2")}readUTF8CStr(n,u){const c=[],p=new Uint8Array(this.memory.buffer);let m=Number(u);for(let O=0;O<n&&p[m]!=0;O++)c.push(p[m]),m++;return Buffer.from(c).toString("utf8")}storageRead(n,u){const c=Buffer.from(new Uint8Array(this.memory.buffer,Number(u),Number(n))),p=this.context.contractState.filter(m=>Buffer.compare(m.key,c)===0).map(m=>m.value);return p.length===0?null:p.length>1?p:p[0]}prepareWASM(n){const u=[];if(n.subarray(0,4).toString("utf8")!=="\0asm")throw new Error("Invalid magic number");const p=n.readUInt32LE(4);if(p!=1)throw new Error("Invalid version: "+p);let m=8;u.push(n.subarray(0,m));function O(){let G=0,z=0,F;do F=n[m++],G|=(F&127)<<z,z+=7;while(F&128);return G}function I(){const z=n[m++]&1,F=O(),U=z?O():null;return{initial:F,max:U}}function C(){const G=O(),z=n.subarray(m,m+G);return m+=G,z.toString("utf8")}function k(G){const z=[];do{let F=G&127;G>>=7,G!==0&&(F|=128),z.push(F)}while(G!==0);return Buffer.from(z)}function D(G){const z=Buffer.from(G,"utf8");return Buffer.concat([k(z.length),z])}do{const G=m,z=n.readUInt8(m);m++;const F=O(),U=m+F;if(z==5)u.push(Buffer.from([5,1,0]));else if(z==2){const w=[],s=O();for(let x=0;x<s;x++){const S=m;C(),C();const B=n.readUInt8(m);m++;let R=!1;switch(B){case 0:O();break;case 1:m++,I();break;case 2:I(),R=!0;break;case 3:m++,m++;break;default:throw new Error("Invalid import kind: "+B)}R||w.push(n.subarray(S,m))}const h=Buffer.concat([D("env"),D("memory"),Buffer.from([2]),Buffer.from([0]),k(1)]);w.push(h);const f=Buffer.concat([k(w.length),...w]);u.push(Buffer.concat([Buffer.from([2]),k(f.length),f]))}else if(z==7){const w=[],s=O();for(let f=0;f<s;f++){const x=m;C();const S=n.readUInt8(m);m++,O(),S!==2&&w.push(n.subarray(x,m))}const h=Buffer.concat([k(w.length),...w]);u.push(Buffer.concat([Buffer.from([7]),k(h.length),h]))}else u.push(n.subarray(G,U));m=U}while(m<n.length);return Buffer.concat(u)}getRegisterLength(n){return BigInt(this.registers[n.toString()]?this.registers[n.toString()].length:Number.MAX_SAFE_INTEGER)}readFromRegister(n,u){new Uint8Array(this.memory.buffer).set(this.registers[n.toString()]||Buffer.from([]),Number(u))}getCurrentAccountId(n){this.registers[n.toString()]=Buffer.from(this.context.contractId)}inputMethodArgs(n){this.registers[n.toString()]=Buffer.from(this.context.methodArgs)}getBlockHeight(){return BigInt(this.context.blockHeight)}getBlockTimestamp(){return BigInt(this.context.blockTimestamp)}sha256(n,u,c){const p=new Uint8Array(this.memory.buffer,Number(u),Number(n));this.registers[c.toString()]=(0,r.sha256)(p)}returnValue(n,u){this.result=Buffer.from(new Uint8Array(this.memory.buffer,Number(u),Number(n)))}panic(n){throw new Error("panic: "+n)}abort(n,u,c,p){const m=this.readUTF16CStr(n),O=this.readUTF16CStr(u),I=`${m} ${O}:${c}:${p}`;throw!m||!O?new Error("abort: String encoding is bad UTF-16 sequence."):new Error("abort: "+I)}appendToLog(n,u){this.logs.push(this.readUTF8CStr(n,u))}readStorage(n,u,c){const p=this.storageRead(n,u);return p==null?0n:(this.registers[c]=p,1n)}hasStorageKey(n,u){return this.storageRead(n,u)==null?0n:1n}getHostImports(){return{register_len:this.getRegisterLength.bind(this),read_register:this.readFromRegister.bind(this),current_account_id:this.getCurrentAccountId.bind(this),input:this.inputMethodArgs.bind(this),block_index:this.getBlockHeight.bind(this),block_timestamp:this.getBlockTimestamp.bind(this),sha256:this.sha256.bind(this),value_return:this.returnValue.bind(this),abort:this.abort.bind(this),log_utf8:this.appendToLog.bind(this),log_utf16:this.appendToLog.bind(this),storage_read:this.readStorage.bind(this),storage_has_key:this.hasStorageKey.bind(this),panic:()=>this.panic("explicit guest panic"),panic_utf8:(n,u)=>this.panic(this.readUTF8CStr(n,u)),epoch_height:t("epoch_height"),storage_usage:t("storage_usage"),account_balance:t("account_balance"),account_locked_balance:t("account_locked_balance"),random_seed:t("random_seed"),ripemd160:t("ripemd160"),keccak256:t("keccak256"),keccak512:t("keccak512"),ecrecover:t("ecrecover"),validator_stake:t("validator_stake"),validator_total_stake:t("validator_total_stake"),write_register:e("write_register"),signer_account_id:e("signer_account_id"),signer_account_pk:e("signer_account_pk"),predecessor_account_id:e("predecessor_account_id"),attached_deposit:e("attached_deposit"),prepaid_gas:e("prepaid_gas"),used_gas:e("used_gas"),promise_create:e("promise_create"),promise_then:e("promise_then"),promise_and:e("promise_and"),promise_batch_create:e("promise_batch_create"),promise_batch_then:e("promise_batch_then"),promise_batch_action_create_account:e("promise_batch_action_create_account"),promise_batch_action_deploy_contract:e("promise_batch_action_deploy_contract"),promise_batch_action_function_call:e("promise_batch_action_function_call"),promise_batch_action_function_call_weight:e("promise_batch_action_function_call_weight"),promise_batch_action_transfer:e("promise_batch_action_transfer"),promise_batch_action_stake:e("promise_batch_action_stake"),promise_batch_action_add_key_with_full_access:e("promise_batch_action_add_key_with_full_access"),promise_batch_action_add_key_with_function_call:e("promise_batch_action_add_key_with_function_call"),promise_batch_action_delete_key:e("promise_batch_action_delete_key"),promise_batch_action_delete_account:e("promise_batch_action_delete_account"),promise_results_count:e("promise_results_count"),promise_result:e("promise_result"),promise_return:e("promise_return"),storage_write:e("storage_write"),storage_remove:e("storage_remove")}}async execute(n){const u=await WebAssembly.compile(this.wasm),p=(await WebAssembly.instantiate(u,{env:{...this.getHostImports(),memory:this.memory}})).exports[n];if(p==null)throw new Error(`Contract method '${n}' does not exists in contract ${this.context.contractId} for block id ${this.context.blockHeight}`);return p(),{result:this.result,logs:this.logs}}}return Ti}var Ri,Mc;function ju(){if(Mc)return Ri;Mc=1;var l=Object.create,v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(m,O)=>{for(var I in O)v(m,I,{get:O[I],enumerable:!0})},o=(m,O,I,C)=>{if(O&&typeof O=="object"||typeof O=="function")for(let k of _(O))!d.call(m,k)&&k!==I&&v(m,k,{get:()=>O[k],enumerable:!(C=E(O,k))||C.enumerable});return m},r=(m,O,I)=>(I=m!=null?l(y(m)):{},o(v(I,"default",{value:m,enumerable:!0}),m)),t=m=>o(v({},"__esModule",{value:!0}),m),e={};b(e,{LocalViewExecution:()=>p}),Ri=t(e);var a=Ge(),i=ud(),n=ku(),u=ba(),c=r(ut());class p{connection;storage;constructor(O){this.connection=O.getConnection(),this.storage=new i.Storage,(0,c.default)("LocalViewExecution")("It will be removed in the next major release")}async fetchContractCode(O,I){return(await this.connection.provider.query({request_type:"view_code",account_id:O,...I})).code_base64}async fetchContractState(O,I){return(0,u.viewState)(this.connection,O,"",I)}async fetch(O,I){const C=await this.connection.provider.block(I),k=C.header.hash,D=C.header.height,G=C.header.timestamp,z=await this.fetchContractCode(O,I),F=await this.fetchContractState(O,I);return{blockHash:k,blockHeight:D,blockTimestamp:G,contractCode:z,contractState:F}}async loadOrFetch(O,I){const C=this.storage.load(I);if(C)return C;const{blockHash:k,...D}=await this.fetch(O,I);return this.storage.save(k,D),D}async viewFunction({contractId:O,methodName:I,args:C={},blockQuery:k={finality:"optimistic"}}){const D=JSON.stringify(C),{contractCode:G,contractState:z,blockHeight:F,blockTimestamp:U}=await this.loadOrFetch(O,k),w=new n.Runtime({contractId:O,contractCode:G,contractState:z,blockHeight:F,blockTimestamp:U,methodArgs:D}),{result:s,logs:h}=await w.execute(I);return h&&(0,a.printTxOutcomeLogs)({contractId:O,logs:h}),JSON.parse(Buffer.from(s).toString())}}return Ri}var br={exports:{}},Di,Cc;function Nu(){if(Cc)return Di;Cc=1;function l(v){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(v)}return Di=l,Di}var Li,Bc;function hd(){if(Bc)return Li;Bc=1;var l=Nu(),v=function(E,_){return l(_)?E+"."+_:E+"["+JSON.stringify(_)+"]"};return v.valid=l,v.property=function(E){return l(E)?E:JSON.stringify(E)},Li=v,Li}var qi,kc;function pd(){if(kc)return qi;kc=1;for(var l=oa,v=Nu(),E=/[\{\[]/,_=/[\}\]]/,y=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],d={},b=0;b<y.length;b++)d[y[b]]=!0;var o=function(e){return v(e)&&!d.hasOwnProperty(e)},r={s:function(e){return""+e},d:function(e){return""+Number(e)},o:function(e){return JSON.stringify(e)}},t=function(){var e=[],a=0,i={},n=function(p){for(var m="";m.length<a*2;)m+="  ";e.push(m+p)},u=function(p){if(_.test(p.trim()[0])&&E.test(p[p.length-1])){a--,n(p),a++;return}if(E.test(p[p.length-1])){n(p),a++;return}if(_.test(p.trim()[0])){a--,n(p);return}n(p)},c=function(p){if(!p)return c;if(arguments.length===1&&p.indexOf(`
`)>-1)for(var m=p.trim().split(`
`),O=0;O<m.length;O++)u(m[O].trim());else u(l.format.apply(l,arguments));return c};return c.scope={},c.formats=r,c.sym=function(p){return(!p||!o(p))&&(p="tmp"),i[p]||(i[p]=0),p+(i[p]++||"")},c.property=function(p,m){return arguments.length===1&&(m=p,p=""),m=m+"",v(m)?p?p+"."+m:m:p?p+"["+JSON.stringify(m)+"]":JSON.stringify(m)},c.toString=function(){return e.join(`
`)},c.toFunction=function(p){p||(p={});var m="return ("+c.toString()+")";Object.keys(c.scope).forEach(function(C){p[C]||(p[C]=c.scope[C])});var O=Object.keys(p).map(function(C){return C}),I=O.map(function(C){return p[C]});return Function.apply(null,O.concat(m)).apply(null,I)},arguments.length&&c.apply(null,arguments),c};return t.formats=r,qi=t,qi}var Ht={},jc;function bd(){if(jc)return Ht;jc=1;var l=/~/,v=/~[01]/g;function E(t){switch(t){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+t)}function _(t){return l.test(t)?t.replace(v,E):t}function y(t,e,a){for(var i,n,u=1,c=e.length;u<c;){if(e[u]==="constructor"||e[u]==="prototype"||e[u]==="__proto__")return t;if(i=_(e[u++]),n=c>u,typeof t[i]>"u"&&(Array.isArray(t)&&i==="-"&&(i=t.length),n&&(e[u]!==""&&e[u]<1/0||e[u]==="-"?t[i]=[]:t[i]={})),!n)break;t=t[i]}var p=t[i];return a===void 0?delete t[i]:t[i]=a,p}function d(t){if(typeof t=="string"){if(t=t.split("/"),t[0]==="")return t;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(t)){for(const e of t)if(typeof e!="string"&&typeof e!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return t}throw new Error("Invalid JSON pointer.")}function b(t,e){if(typeof t!="object")throw new Error("Invalid input object.");e=d(e);var a=e.length;if(a===1)return t;for(var i=1;i<a;){if(t=t[_(e[i++])],a===i)return t;if(typeof t!="object"||t===null)return}}function o(t,e,a){if(typeof t!="object")throw new Error("Invalid input object.");if(e=d(e),e.length===0)throw new Error("Invalid JSON pointer for set.");return y(t,e,a)}function r(t){var e=d(t);return{get:function(a){return b(a,e)},set:function(a,i){return o(a,e,i)}}}return Ht.get=b,Ht.set=o,Ht.compile=r,Ht}var Fi,Nc;function yd(){if(Nc)return Fi;Nc=1,Fi=v;var l=Object.prototype.hasOwnProperty;function v(){for(var E={},_=0;_<arguments.length;_++){var y=arguments[_];for(var d in y)l.call(y,d)&&(E[d]=y[d])}return E}return Fi}var Ki={},Ui={exports:{}},Tc;function vd(){return Tc||(Tc=1,(function(l){var v=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E=/\/\d{1,3}(?=%|$)/,_=/\//,y=/%.*$/,d=/([^0-9a-f:/%])/i,b=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function o(e){if(!v.test(e))return!1;var a=e.split(".");if(a.length!==4||a[0][0]==="0"&&a[0].length>1||a[1][0]==="0"&&a[1].length>1||a[2][0]==="0"&&a[2].length>1||a[3][0]==="0"&&a[3].length>1)return!1;var i=Number(a[0]),n=Number(a[1]),u=Number(a[2]),c=Number(a[3]);return i>=0&&i<256&&n>=0&&n<256&&u>=0&&u<256&&c>=0&&c<256}function r(e){var a=e.replace(E,""),i=e.length!==a.length;if(i||!i&&_.test(e))return!1;var n=a.replace(y,""),u=n.lastIndexOf(":");if(u===-1)return!1;var c=n.substring(u+1),p=o(c),m=p?n.substring(0,u+1)+"1234:5678":n;if(d.test(m)||b.test(m))return!1;var O=m.split("::");if(O.length>2)return!1;if(O.length===2){var I=O[0]===""?[]:O[0].split(":"),C=O[1]===""?[]:O[1].split(":"),k=8-(I.length+C.length);if(k<=0)return!1}else if(m.split(":").length!==8)return!1;return!0}function t(e){return o(e)||r(e)}l.exports=function(a){if(a||(a={}),a.version===4)return o;if(a.version===6)return r;if(a.version==null)return t;throw new Error("Unknown version: "+a.version)},l.exports.__all_regexes__=[v,E,_,y,d,b]})(Ui)),Ui.exports}var Rc;function _d(){return Rc||(Rc=1,(function(l){var v=vd(),E=/\s/,_=/^[a-zA-Z0-9.-]+$/,y=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,d=/^\+[0-9][0-9 ]{5,27}[0-9]$/,b=/ {2}/,o=/ /g;l["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,l.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,l.time=/^\d{2}:\d{2}:\d{2}$/,l.email=function(r){return r.indexOf("@")!==-1&&!E.test(r)},l["ip-address"]=l.ipv4=v({version:4}),l.ipv6=v({version:6}),l.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,l.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,l.hostname=function(r){if(!_.test(r))return!1;for(var t=r.split("."),e=0;e<t.length;e++)if(!y.test(t[e]))return!1;return!0},l.alpha=/^[a-zA-Z]+$/,l.alphanumeric=/^[a-zA-Z0-9]+$/,l.style=/.:\s*[^;]/g,l.phone=function(r){if(!d.test(r)||b.test(r))return!1;var t=r.substring(1).replace(o,"").length;return t>=7&&t<=15},l["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/})(Ki)),Ki}br.exports;var Dc;function Tu(){return Dc||(Dc=1,(function(l){var v=hd(),E=pd(),_=bd(),y=yd(),d=_d(),b=function(i,n,u){var c=function(k){return k&&k.id===u?k:typeof k!="object"||!k?null:Object.keys(k).reduce(function(D,G){return D||c(k[G])},null)},p=c(i);if(p)return p;u=u.replace(/^#/,""),u=u.replace(/\/$/,"");try{return _.get(i,decodeURI(u))}catch{var m=u.indexOf("#"),O;if(m!==0)if(m===-1)O=n[u];else{var I=u.slice(0,m);O=n[I];var C=u.slice(m).replace(/^#/,"");try{return _.get(O,C)}catch{}}else O=n[u];return O||null}},o={};o.any=function(){return"true"},o.null=function(i){return i+" === null"},o.boolean=function(i){return"typeof "+i+' === "boolean"'},o.array=function(i){return"Array.isArray("+i+")"},o.object=function(i){return"typeof "+i+' === "object" && '+i+" && !Array.isArray("+i+")"},o.number=function(i){return"typeof "+i+' === "number" && isFinite('+i+")"},o.integer=function(i){return"typeof "+i+' === "number" && (Math.floor('+i+") === "+i+" || "+i+" > 9007199254740992 || "+i+" < -9007199254740992)"},o.string=function(i){return"typeof "+i+' === "string"'};var r=function(i,n){n=Math.min(n===-1?i.length:n,i.length);for(var u=[],c=0;c<n;c++)u.push(typeof i[c]=="object"?JSON.stringify(i[c]):i[c]);for(var c=1;c<u.length;c++)if(u.indexOf(u[c])!==c)return!1;return!0},t=function(i,n){var u,c=(n|0)!==n?Math.pow(10,n.toString().split(".").pop().length):1;if(c>1){var p=(i|0)!==i?Math.pow(10,i.toString().split(".").pop().length):1;p>c?u=!0:u=Math.round(c*i)%(c*n)}else u=i%n;return!u},e=function(i,n,u){return u>-1&&n.length>u?!0:i.test(n)},a=function(i,n,u,c,p){var m=p?y(d,p.formats):d,O={unique:r,formats:m,isMultipleOf:t,testLimitedRegex:e},I=p?!!p.verbose:!1,C=p&&p.greedy!==void 0?p.greedy:!1,k={},D=[],G=function(x){var S=x+(k[x]=(k[x]||0)+1);return D.push(S),S},z=function(x){var S=JSON.stringify(x);try{for(var B=/\[([^\[\]"]+)\]/;B.test(S);)S=S.replace(B,R);return S}catch{return JSON.stringify(x)}function R(j,g){if(D.indexOf(g)===-1)throw new Error("Unreplaceable");return'." + '+g+' + "'}},F={},U=function(x){if(F[x])return F[x];var S=G("pattern");return O[S]=new RegExp(x),F[x]=S,S},w=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],s=function(){var x=w.shift();return w.push(x+x[0]),D.push(x),x},h=function(x,S,B,R,j){var g=S.properties,A=S.type,L=!1;Array.isArray(S.items)&&(g={},S.items.forEach(function(fe,ie){g[ie]=fe}),A="array",L=!0);var K=0,T=function(fe,ie,de){f("errors++"),B===!0&&(f("if (validate.errors === null) validate.errors = []"),I?f("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",z(ie||x),JSON.stringify(fe),de||x,JSON.stringify(A),JSON.stringify(j)):f("validate.errors.push({field:%s,message:%s})",z(ie||x),JSON.stringify(fe)))};S.required===!0?(K++,f("if (%s === undefined) {",x),T("is required"),f("} else {")):(K++,f("if (%s !== undefined) {",x));var V=[].concat(A).map(function(fe){if(fe&&!o.hasOwnProperty(fe))throw new Error("Unknown type: "+fe);return o[fe||"any"](x)}).join(" || ")||"true";if(V!=="true"&&(K++,f("if (!(%s)) {",V),T("is the wrong type"),f("} else {")),L){if(S.additionalItems===!1)f("if (%s.length > %d) {",x,S.items.length),T("has additional items"),f("}");else if(S.additionalItems){var J=s();f("for (var %s = %d; %s < %s.length; %s++) {",J,S.items.length,J,x,J),h(x+"["+J+"]",S.additionalItems,B,R,j.concat("additionalItems")),f("}")}}if(S.format&&m[S.format]){A!=="string"&&d[S.format]&&f("if (%s) {",o.string(x));var X=G("format");O[X]=m[S.format],typeof O[X]=="function"?f("if (!%s(%s)) {",X,x):f("if (!testLimitedRegex(%s, %s, %d)) {",X,x,typeof S.maxLength>"u"?-1:S.maxLength),T("must be "+S.format+" format"),f("}"),A!=="string"&&d[S.format]&&f("}")}if(Array.isArray(S.required)){var X=G("missing");f("var %s = 0",X);var $=function(ie){var de=v(x,ie);f("if (%s === undefined) {",de),T("is required",de),f("%s++",X),f("}")};f("if ((%s)) {",A!=="object"?o.object(x):"true"),S.required.map($),f("}"),C||(f("if (%s === 0) {",X),K++)}if(S.uniqueItems&&(A!=="array"&&f("if (%s) {",o.array(x)),f("if (!(unique(%s, %d))) {",x,S.maxItems||-1),T("must be unique"),f("}"),A!=="array"&&f("}")),S.enum){var H=S.enum.some(function(fe){return typeof fe=="object"}),Q=H?function(fe){return"JSON.stringify("+x+") !== JSON.stringify("+JSON.stringify(fe)+")"}:function(fe){return x+" !== "+JSON.stringify(fe)};f("if (%s) {",S.enum.map(Q).join(" && ")||"false"),T("must be an enum value"),f("}")}if(S.dependencies&&(A!=="object"&&f("if (%s) {",o.object(x)),Object.keys(S.dependencies).forEach(function(fe){var ie=S.dependencies[fe];typeof ie=="string"&&(ie=[ie]);var de=function(be){return v(x,be)+" !== undefined"};Array.isArray(ie)&&(f("if (%s !== undefined && !(%s)) {",v(x,fe),ie.map(de).join(" && ")||"true"),T("dependencies not set"),f("}")),typeof ie=="object"&&(f("if (%s !== undefined) {",v(x,fe)),h(x,ie,B,R,j.concat(["dependencies",fe])),f("}"))}),A!=="object"&&f("}")),S.additionalProperties||S.additionalProperties===!1){A!=="object"&&f("if (%s) {",o.object(x));var J=s(),ee=G("keys"),ce=function(ie){return ee+"["+J+"] !== "+JSON.stringify(ie)},te=function(ie){return"!"+U(ie)+".test("+ee+"["+J+"])"},ae=Object.keys(g||{}).map(ce).concat(Object.keys(S.patternProperties||{}).map(te)).join(" && ")||"true";f("var %s = Object.keys(%s)",ee,x)("for (var %s = 0; %s < %s.length; %s++) {",J,J,ee,J)("if (%s) {",ae),S.additionalProperties===!1?(R&&f("delete %s",x+"["+ee+"["+J+"]]"),T("has additional properties",null,JSON.stringify(x+".")+" + "+ee+"["+J+"]")):h(x+"["+ee+"["+J+"]]",S.additionalProperties,B,R,j.concat(["additionalProperties"])),f("}")("}"),A!=="object"&&f("}")}if(S.$ref){var ue=b(u,p&&p.schemas||{},S.$ref);if(ue){var oe=n[S.$ref];oe||(n[S.$ref]=function(de){return oe(de)},oe=a(ue,n,u,!1,p));var X=G("ref");O[X]=oe,f("if (!(%s(%s))) {",X,x),T("referenced schema does not match"),f("}")}}if(S.not){var W=G("prev");f("var %s = errors",W),h(x,S.not,!1,R,j.concat("not")),f("if (%s === errors) {",W),T("negative schema matches"),f("} else {")("errors = %s",W)("}")}if(S.items&&!L){A!=="array"&&f("if (%s) {",o.array(x));var J=s();f("for (var %s = 0; %s < %s.length; %s++) {",J,J,x,J),h(x+"["+J+"]",S.items,B,R,j.concat("items")),f("}"),A!=="array"&&f("}")}if(S.patternProperties){A!=="object"&&f("if (%s) {",o.object(x));var ee=G("keys"),J=s();f("var %s = Object.keys(%s)",ee,x)("for (var %s = 0; %s < %s.length; %s++) {",J,J,ee,J),Object.keys(S.patternProperties).forEach(function(de){var be=U(de);f("if (%s.test(%s)) {",be,ee+"["+J+"]"),h(x+"["+ee+"["+J+"]]",S.patternProperties[de],B,R,j.concat(["patternProperties",de])),f("}")}),f("}"),A!=="object"&&f("}")}if(S.pattern){var Y=U(S.pattern);A!=="string"&&f("if (%s) {",o.string(x)),f("if (!(testLimitedRegex(%s, %s, %d))) {",Y,x,typeof S.maxLength>"u"?-1:S.maxLength),T("pattern mismatch"),f("}"),A!=="string"&&f("}")}if(S.allOf&&S.allOf.forEach(function(fe,ie){h(x,fe,B,R,j.concat(["allOf",ie]))}),S.anyOf&&S.anyOf.length){var W=G("prev");S.anyOf.forEach(function(ie,de){de===0?f("var %s = errors",W):f("if (errors !== %s) {",W)("errors = %s",W),h(x,ie,!1,!1,j)}),S.anyOf.forEach(function(ie,de){de&&f("}")}),f("if (%s !== errors) {",W),T("no schemas match"),f("}")}if(S.oneOf&&S.oneOf.length){var W=G("prev"),se=G("passes");f("var %s = errors",W)("var %s = 0",se),S.oneOf.forEach(function(ie,de){h(x,ie,!1,!1,j),f("if (%s === errors) {",W)("%s++",se)("} else {")("errors = %s",W)("}")}),f("if (%s !== 1) {",se),T("no (or more than one) schemas match"),f("}")}for(S.multipleOf!==void 0&&(A!=="number"&&A!=="integer"&&f("if (%s) {",o.number(x)),f("if (!isMultipleOf(%s, %d)) {",x,S.multipleOf),T("has a remainder"),f("}"),A!=="number"&&A!=="integer"&&f("}")),S.maxProperties!==void 0&&(A!=="object"&&f("if (%s) {",o.object(x)),f("if (Object.keys(%s).length > %d) {",x,S.maxProperties),T("has more properties than allowed"),f("}"),A!=="object"&&f("}")),S.minProperties!==void 0&&(A!=="object"&&f("if (%s) {",o.object(x)),f("if (Object.keys(%s).length < %d) {",x,S.minProperties),T("has less properties than allowed"),f("}"),A!=="object"&&f("}")),S.maxItems!==void 0&&(A!=="array"&&f("if (%s) {",o.array(x)),f("if (%s.length > %d) {",x,S.maxItems),T("has more items than allowed"),f("}"),A!=="array"&&f("}")),S.minItems!==void 0&&(A!=="array"&&f("if (%s) {",o.array(x)),f("if (%s.length < %d) {",x,S.minItems),T("has less items than allowed"),f("}"),A!=="array"&&f("}")),S.maxLength!==void 0&&(A!=="string"&&f("if (%s) {",o.string(x)),f("if (%s.length > %d) {",x,S.maxLength),T("has longer length than allowed"),f("}"),A!=="string"&&f("}")),S.minLength!==void 0&&(A!=="string"&&f("if (%s) {",o.string(x)),f("if (%s.length < %d) {",x,S.minLength),T("has less length than allowed"),f("}"),A!=="string"&&f("}")),S.minimum!==void 0&&(A!=="number"&&A!=="integer"&&f("if (%s) {",o.number(x)),f("if (%s %s %d) {",x,S.exclusiveMinimum?"<=":"<",S.minimum),T("is less than minimum"),f("}"),A!=="number"&&A!=="integer"&&f("}")),S.maximum!==void 0&&(A!=="number"&&A!=="integer"&&f("if (%s) {",o.number(x)),f("if (%s %s %d) {",x,S.exclusiveMaximum?">=":">",S.maximum),T("is more than maximum"),f("}"),A!=="number"&&A!=="integer"&&f("}")),g&&Object.keys(g).forEach(function(fe){Array.isArray(A)&&A.indexOf("null")!==-1&&f("if (%s !== null) {",x),h(v(x,fe),g[fe],B,R,j.concat(L?fe:["properties",fe])),Array.isArray(A)&&A.indexOf("null")!==-1&&f("}")});K--;)f("}")},f=E("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return h("data",i,c,p&&p.filter,[]),f("return errors === 0")("}"),f=f.toFunction(O),f.errors=null,Object.defineProperty&&Object.defineProperty(f,"error",{get:function(){return f.errors?f.errors.map(function(x){return x.field+" "+x.message}).join(`
`):""}}),f.toJSON=function(){return i},f};l.exports=function(i,n){return typeof i=="string"&&(i=JSON.parse(i)),a(i,{},i,!0,n)},l.exports.filter=function(i,n){var u=l.exports(i,y(n,{filter:!0}));return function(c){return u(c),c}}})(br)),br.exports}var zi={},Lc;function gd(){return Lc||(Lc=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.AbiSerializationType=l.AbiFunctionModifier=l.AbiFunctionKind=l.SCHEMA_VERSION=void 0,l.SCHEMA_VERSION="0.4.0",(function(v){v.View="view",v.Call="call"})(l.AbiFunctionKind||(l.AbiFunctionKind={})),(function(v){v.Init="init",v.Private="private",v.Payable="payable"})(l.AbiFunctionModifier||(l.AbiFunctionModifier={})),(function(v){v.Json="json",v.Borsh="borsh"})(l.AbiSerializationType||(l.AbiSerializationType={}))})(zi)),zi}var Hi,qc;function va(){if(qc)return Hi;qc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(i,n)=>{for(var u in n)l(i,u,{get:n[u],enumerable:!0})},d=(i,n,u,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let p of E(n))!_.call(i,p)&&p!==u&&l(i,p,{get:()=>n[p],enumerable:!(c=v(n,p))||c.enumerable});return i},b=i=>d(l({},"__esModule",{value:!0}),i),o={};y(o,{ArgumentSchemaError:()=>e,ConflictingOptions:()=>a,UnknownArgumentError:()=>t,UnsupportedSerializationError:()=>r}),Hi=b(o);class r extends Error{constructor(n,u){super(`Contract method '${n}' is using an unsupported serialization type ${u}`)}}class t extends Error{constructor(n,u){super(`Unrecognized argument '${n}', expected '${JSON.stringify(u)}'`)}}class e extends Error{constructor(n,u){super(`Argument '${n}' does not conform to the specified ABI schema: '${JSON.stringify(u)}'`)}}class a extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}}return Hi}var Vi,Fc;function wd(){if(Fc)return Vi;Fc=1;var l=Object.create,v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(U,w)=>{for(var s in w)v(U,s,{get:w[s],enumerable:!0})},o=(U,w,s,h)=>{if(w&&typeof w=="object"||typeof w=="function")for(let f of _(w))!d.call(U,f)&&f!==s&&v(U,f,{get:()=>w[f],enumerable:!(h=E(w,f))||h.enumerable});return U},r=(U,w,s)=>(s=U!=null?l(y(U)):{},o(v(s,"default",{value:U,enumerable:!0}),U)),t=U=>o(v({},"__esModule",{value:!0}),U),e={};b(e,{Contract:()=>z}),Vi=t(e);var a=Ge(),i=Xe(),n=ju(),u=r(Tu()),c=r(ut()),p=gd(),m=Mu(),O=va(),I=ba();function C(U,w){return{[U](...s){return w(...s)}}[U]}function k(U,w,s){if(!G(U))return;if(w.params&&w.params.serialization_type!==p.AbiSerializationType.Json)throw new O.UnsupportedSerializationError(w.name,w.params.serialization_type);if(w.result&&w.result.serialization_type!==p.AbiSerializationType.Json)throw new O.UnsupportedSerializationError(w.name,w.result.serialization_type);const h=w.params?.args||[];for(const f of h){const x=U[f.name],S=f.type_schema;S.definitions=s.body.root_schema.definitions;const B=(0,u.default)(S);if(!B(x))throw new O.ArgumentSchemaError(f.name,B.errors)}for(const f of Object.keys(U))if(!h.find(S=>S.name===f))throw new O.UnknownArgumentError(f,h.map(S=>S.name))}const D=U=>U&&U.byteLength!==void 0&&U.byteLength===U.length,G=U=>Object.prototype.toString.call(U)==="[object Object]";class z{account;connection;contractId;lve;constructor(w,s,h){(0,c.default)("new Contract()")('It will be removed in the next major release, please switch to "TypedContract" with type-safe ABI support'),this.connection=w.getConnection(),w instanceof m.Account&&((0,c.default)("new Contract(account, contractId, options)")("use `new Contract(connection, contractId, options)` instead"),this.account=w),this.contractId=s,this.lve=new n.LocalViewExecution(w);const{viewMethods:x=[],changeMethods:S=[],abi:B,useLocalViewExecution:R}=h;let j=x.map(A=>({name:A,abi:null})),g=S.map(A=>({name:A,abi:null}));if(B){if(j.length>0||g.length>0)throw new O.ConflictingOptions;j=B.body.functions.filter(A=>A.kind===p.AbiFunctionKind.View).map(A=>({name:A.name,abi:A})),g=B.body.functions.filter(A=>A.kind===p.AbiFunctionKind.Call).map(A=>({name:A.name,abi:A}))}j.forEach(({name:A,abi:L})=>{Object.defineProperty(this,A,{writable:!1,enumerable:!0,value:C(A,async(K={},T={},...V)=>{if(V.length||!(G(K)||D(K))||!G(T))throw new i.PositionalArgsError;if(L&&k(K,L,B),R)try{return await this.lve.viewFunction({contractId:this.contractId,methodName:A,args:K,...T})}catch(J){a.Logger.warn(`Local view execution failed with: "${J.message}"`),a.Logger.warn("Fallback to normal RPC call")}return this.account?this.account.viewFunction({contractId:this.contractId,methodName:A,args:K,...T}):(0,I.viewFunction)(this.connection,{contractId:this.contractId,methodName:A,args:K,...T})})})}),g.forEach(({name:A,abi:L})=>{Object.defineProperty(this,A,{writable:!1,enumerable:!0,value:C(A,async(...K)=>{if(K.length&&(K.length>3||!(G(K[0])||D(K[0]))))throw new i.PositionalArgsError;return(K.length>1||!(K[0]&&K[0].args))&&((0,c.default)("contract.methodName(args, gas, amount)")("use `contract.methodName({ signerAccount, args, gas?, amount?, callbackUrl?, meta? })` instead"),K[0]={args:K[0],gas:K[1],amount:K[2]}),L&&k(K[0].args,L,B),this._changeMethod({methodName:A,...K[0]})})})})}async _changeMethod({signerAccount:w,args:s,methodName:h,gas:f,amount:x,meta:S,callbackUrl:B}){F({gas:f,amount:x});const R=this.account||w;if(!R)throw new Error("signerAccount must be specified");const j=await R.functionCall({contractId:this.contractId,methodName:h,args:s,gas:f,attachedDeposit:x,walletMeta:S,walletCallbackUrl:B});return(0,a.getTransactionLastResult)(j)}}function F(U){const w="number, decimal string or BigInt";for(const s of Object.keys(U)){const h=U[s];if(h&&typeof h!="bigint"&&isNaN(h))throw new i.ArgumentTypeError(s,w,h)}}return Vi}var Ji,Kc;function md(){if(Kc)return Ji;Kc=1;var l=Object.create,v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(p,m)=>{for(var O in m)v(p,O,{get:m[O],enumerable:!0})},o=(p,m,O,I)=>{if(m&&typeof m=="object"||typeof m=="function")for(let C of _(m))!d.call(p,C)&&C!==O&&v(p,C,{get:()=>m[C],enumerable:!(I=E(m,C))||I.enumerable});return p},r=(p,m,O)=>(O=p!=null?l(y(p)):{},o(v(O,"default",{value:p,enumerable:!0}),p)),t=p=>o(v({},"__esModule",{value:!0}),p),e={};b(e,{TypedContract:()=>u}),Ji=t(e);var a=va(),i=r(Tu());class n{abi;contractId;view;call;constructor({abi:m,provider:O,contractId:I}){this.contractId=I,this.abi=m;let C=!1,k=!1;const D=m?.body.functions||[];for(const G of D)if(G.kind==="view"?C=!0:G.kind==="call"&&(k=!0),C&&k)break;(C||!m)&&(this.view=new Proxy({},{get:(G,z)=>{const F=(m?.body.functions||[]).find(({name:U})=>U===z);return async(U={})=>{const w=U.args??{};return F&&m&&c(w,F,m),O.callFunction(I,z,w,U.blockQuery)}}})),(k||!m)&&(this.call=new Proxy({},{get:(G,z)=>{const F=(m?.body.functions||[]).find(({name:U})=>U===z);return async U=>{const w=U.args??{};return F&&m&&c(w,F,m),U.account.callFunction({contractId:I,methodName:z,args:w,deposit:U.deposit,gas:U.gas,waitUntil:U.waitUntil})}}})),m||delete this.abi}}const u=n;function c(p,m,O){if(!(typeof p!="object"||typeof m.params!="object")&&m.params.serialization_type==="json"){const I=m.params.args;for(const C of I){const k=p[C.name],D=C.type_schema;D.definitions=O.body.root_schema.definitions;const G=(0,i.default)(D);if(!G(k))throw new a.ArgumentSchemaError(C.name,G.errors)}for(const C of Object.keys(p))if(!I.find(D=>D.name===C))throw new a.UnknownArgumentError(C,I.map(D=>D.name))}}return Ji}var Gi,Uc;function xd(){if(Uc)return Gi;Uc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(e,a)=>{for(var i in a)l(e,i,{get:a[i],enumerable:!0})},d=(e,a,i,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of E(a))!_.call(e,u)&&u!==i&&l(e,u,{get:()=>a[u],enumerable:!(n=v(a,u))||n.enumerable});return e},b=e=>d(l({},"__esModule",{value:!0}),e),o={};y(o,{MultisigDeleteRequestRejectionError:()=>r,MultisigStateStatus:()=>t}),Gi=b(o);var r=(e=>(e.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",e.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",e.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",e.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",e.METHOD_NOT_FOUND="Contract method is not found",e))(r||{}),t=(e=>(e[e.INVALID_STATE=0]="INVALID_STATE",e[e.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",e[e.VALID_STATE=2]="VALID_STATE",e[e.UNKNOWN_STATE=3]="UNKNOWN_STATE",e))(t||{});return Gi}var $i,zc;function Ct(){if(zc)return $i;zc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(O,I)=>{for(var C in I)l(O,C,{get:I[C],enumerable:!0})},d=(O,I,C,k)=>{if(I&&typeof I=="object"||typeof I=="function")for(let D of E(I))!_.call(O,D)&&D!==C&&l(O,D,{get:()=>I[D],enumerable:!(k=v(I,D))||k.enumerable});return O},b=O=>d(l({},"__esModule",{value:!0}),O),o={};y(o,{Account:()=>r.Account,AccountCreator:()=>t.AccountCreator,ArgumentSchemaError:()=>u.ArgumentSchemaError,ConflictingOptions:()=>u.ConflictingOptions,Connection:()=>e.Connection,Contract:()=>i.Contract,LocalAccountCreator:()=>t.LocalAccountCreator,LocalViewExecution:()=>p.LocalViewExecution,MULTISIG_ALLOWANCE:()=>a.MULTISIG_ALLOWANCE,MULTISIG_CHANGE_METHODS:()=>a.MULTISIG_CHANGE_METHODS,MULTISIG_CONFIRM_METHODS:()=>a.MULTISIG_CONFIRM_METHODS,MULTISIG_DEPOSIT:()=>a.MULTISIG_DEPOSIT,MULTISIG_GAS:()=>a.MULTISIG_GAS,MULTISIG_STORAGE_KEY:()=>a.MULTISIG_STORAGE_KEY,MultisigDeleteRequestRejectionError:()=>c.MultisigDeleteRequestRejectionError,MultisigStateStatus:()=>c.MultisigStateStatus,Runtime:()=>m.Runtime,TypedContract:()=>n.TypedContract,UnknownArgumentError:()=>u.UnknownArgumentError,UnsupportedSerializationError:()=>u.UnsupportedSerializationError,UrlAccountCreator:()=>t.UrlAccountCreator}),$i=b(o);var r=Mu(),t=ad(),e=Iu(),a=od(),i=wd(),n=md(),u=va(),c=xd(),p=ju(),m=ku();return $i}var Wi,Hc;function Sd(){if(Hc)return Wi;Hc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{Account:()=>r.Account,AccountAuthorizedApp:()=>r.AccountAuthorizedApp,AccountBalance:()=>r.AccountBalance,ChangeFunctionCallOptions:()=>r.ChangeFunctionCallOptions,FunctionCallOptions:()=>r.FunctionCallOptions,SignAndSendTransactionOptions:()=>r.SignAndSendTransactionOptions,ViewFunctionCallOptions:()=>r.ViewFunctionCallOptions}),Wi=b(o);var r=Ct();return Wi}var Zi,Vc;function Ed(){if(Vc)return Zi;Vc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{AccountCreator:()=>r.AccountCreator,LocalAccountCreator:()=>r.LocalAccountCreator,UrlAccountCreator:()=>r.UrlAccountCreator}),Zi=b(o);var r=Ct();return Zi}var Xi,Jc;function Ad(){if(Jc)return Xi;Jc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{Connection:()=>r.Connection}),Xi=b(o);var r=Ct();return Xi}var Yi,Gc;function Od(){if(Gc)return Yi;Gc=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},d=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of E(e))!_.call(t,n)&&n!==a&&l(t,n,{get:()=>e[n],enumerable:!(i=v(e,n))||i.enumerable});return t},b=t=>d(l({},"__esModule",{value:!0}),t),o={};y(o,{KeyPairSigner:()=>r.KeyPairSigner,Signer:()=>r.Signer}),Yi=b(o);var r=wr();return Yi}var Qi,$c;function Pd(){if($c)return Qi;$c=1;var l=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,y=(e,a)=>{for(var i in a)l(e,i,{get:a[i],enumerable:!0})},d=(e,a,i,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of E(a))!_.call(e,u)&&u!==i&&l(e,u,{get:()=>a[u],enumerable:!(n=v(a,u))||n.enumerable});return e},b=e=>d(l({},"__esModule",{value:!0}),e),o={};y(o,{AbiRoot:()=>t.AbiRoot,Contract:()=>r.Contract,ContractMethods:()=>r.ContractMethods,TypedContract:()=>t.TypedContract}),Qi=b(o);var r=Ct(),t=Ct();return Qi}var ea,Wc;function Ru(){if(Wc)return ea;Wc=1;var l=Object.create,v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(c,p)=>{for(var m in p)v(c,m,{get:p[m],enumerable:!0})},o=(c,p,m,O)=>{if(p&&typeof p=="object"||typeof p=="function")for(let I of _(p))!d.call(c,I)&&I!==m&&v(c,I,{get:()=>p[I],enumerable:!(O=E(p,I))||O.enumerable});return c},r=(c,p,m)=>(m=c!=null?l(y(c)):{},o(!c||!c.__esModule?v(m,"default",{value:c,enumerable:!0}):m,c)),t=c=>o(v({},"__esModule",{value:!0}),c),e={};b(e,{Near:()=>u}),ea=t(e);var a=Ct(),i=wr(),n=r(ut());class u{constructor(p){if((0,n.default)("new Near(config)")("It will be removed in the next major release, please switch to using Account directly"),this.config=p,this.connection=a.Connection.fromConfig({networkId:p.networkId,provider:p.provider||{type:"JsonRpcProvider",args:{url:p.nodeUrl,headers:p.headers}},signer:p.signer||{type:"InMemorySigner",keyStore:p.keyStore||p.deps?.keyStore}}),p.masterAccount){const O=p.initialBalance?BigInt(p.initialBalance):500000000000000000000000000n,I=new a.Account(p.masterAccount,this.connection.provider);this.resolveKeyPairSigner(p.masterAccount).then(C=>I.setSigner(C)),this.accountCreator=new a.LocalAccountCreator(I,O)}else p.helperUrl?this.accountCreator=new a.UrlAccountCreator(this.connection,p.helperUrl):this.accountCreator=null}async resolveKeyPairSigner(p){const m=await this.connection.signer.keyStore.getKey(this.connection.networkId,p);return m?new i.KeyPairSigner(m):void 0}async account(p){return new a.Account(p,this.connection.provider,await this.resolveKeyPairSigner(p))}async createAccount(p,m){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return await this.accountCreator.createAccount(p,m),new a.Account(p,this.connection.provider,await this.resolveKeyPairSigner(p))}}return ea}var ta,Zc;function Id(){if(Zc)return ta;Zc=1;var l=Object.create,v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(D,G)=>{for(var z in G)v(D,z,{get:G[z],enumerable:!0})},o=(D,G,z,F)=>{if(G&&typeof G=="object"||typeof G=="function")for(let U of _(G))!d.call(D,U)&&U!==z&&v(D,U,{get:()=>G[U],enumerable:!(F=E(G,U))||F.enumerable});return D},r=(D,G,z)=>(z=D!=null?l(y(D)):{},o(!D||!D.__esModule?v(z,"default",{value:D,enumerable:!0}):z,D)),t=D=>o(v({},"__esModule",{value:!0}),D),e={};b(e,{Account:()=>c.Account,Connection:()=>m.Connection,Contract:()=>I.Contract,KeyPair:()=>C.KeyPair,KeyPairSigner:()=>O.KeyPairSigner,Near:()=>k.Near,Signer:()=>O.Signer,accountCreator:()=>p,providers:()=>a,transactions:()=>n,utils:()=>i,validators:()=>u}),ta=t(e);var a=r(N0()),i=r(z0()),n=r(H0()),u=r(V0()),c=Sd(),p=r(Ed()),m=Ad(),O=Od(),I=Pd(),C=ia(),k=Ru();return ta}var ra,Xc;function Md(){if(Xc)return ra;Xc=1;var l=Object.create,v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,y=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(u,c)=>{for(var p in c)v(u,p,{get:c[p],enumerable:!0})},o=(u,c,p,m)=>{if(c&&typeof c=="object"||typeof c=="function")for(let O of _(c))!d.call(u,O)&&O!==p&&v(u,O,{get:()=>c[O],enumerable:!(m=E(c,O))||m.enumerable});return u},r=(u,c,p)=>(p=u!=null?l(y(u)):{},o(!u||!u.__esModule?v(p,"default",{value:u,enumerable:!0}):p,u)),t=u=>o(v({},"__esModule",{value:!0}),u),e={};b(e,{connect:()=>n}),ra=t(e);var a=r(ut()),i=Ru();async function n(u){return(0,a.default)("connect(config)")("It will be removed in the next major release, please switch to using Account directly"),new i.Near(u)}return ra}var Yc;function Cd(){return Yc||(Yc=1,(function(l){var v=Object.create,E=Object.defineProperty,_=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,d=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty,o=(u,c)=>{for(var p in c)E(u,p,{get:c[p],enumerable:!0})},r=(u,c,p,m)=>{if(c&&typeof c=="object"||typeof c=="function")for(let O of y(c))!b.call(u,O)&&O!==p&&E(u,O,{get:()=>c[O],enumerable:!(m=_(c,O))||m.enumerable});return u},t=(u,c,p)=>(r(u,c,"default"),p&&r(p,c,"default")),e=(u,c,p)=>(p=u!=null?v(d(u)):{},r(!u||!u.__esModule?E(p,"default",{value:u,enumerable:!0}):p,u)),a=u=>r(E({},"__esModule",{value:!0}),u),i={};o(i,{keyStores:()=>n}),l.exports=a(i);var n=e(d0());t(i,Id(),l.exports),t(i,Md(),l.exports)})(Fr)),Fr.exports}var ct=Cd(),na={},Vt={},Qc;function Bd(){if(Qc)return Vt;Qc=1,Vt.byteLength=o,Vt.toByteArray=t,Vt.fromByteArray=i;for(var l=[],v=[],E=typeof Uint8Array<"u"?Uint8Array:Array,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=0,d=_.length;y<d;++y)l[y]=_[y],v[_.charCodeAt(y)]=y;v[45]=62,v[95]=63;function b(n){var u=n.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=n.indexOf("=");c===-1&&(c=u);var p=c===u?0:4-c%4;return[c,p]}function o(n){var u=b(n),c=u[0],p=u[1];return(c+p)*3/4-p}function r(n,u,c){return(u+c)*3/4-c}function t(n){var u,c=b(n),p=c[0],m=c[1],O=new E(r(n,p,m)),I=0,C=m>0?p-4:p,k;for(k=0;k<C;k+=4)u=v[n.charCodeAt(k)]<<18|v[n.charCodeAt(k+1)]<<12|v[n.charCodeAt(k+2)]<<6|v[n.charCodeAt(k+3)],O[I++]=u>>16&255,O[I++]=u>>8&255,O[I++]=u&255;return m===2&&(u=v[n.charCodeAt(k)]<<2|v[n.charCodeAt(k+1)]>>4,O[I++]=u&255),m===1&&(u=v[n.charCodeAt(k)]<<10|v[n.charCodeAt(k+1)]<<4|v[n.charCodeAt(k+2)]>>2,O[I++]=u>>8&255,O[I++]=u&255),O}function e(n){return l[n>>18&63]+l[n>>12&63]+l[n>>6&63]+l[n&63]}function a(n,u,c){for(var p,m=[],O=u;O<c;O+=3)p=(n[O]<<16&16711680)+(n[O+1]<<8&65280)+(n[O+2]&255),m.push(e(p));return m.join("")}function i(n){for(var u,c=n.length,p=c%3,m=[],O=16383,I=0,C=c-p;I<C;I+=O)m.push(a(n,I,I+O>C?C:I+O));return p===1?(u=n[c-1],m.push(l[u>>2]+l[u<<4&63]+"==")):p===2&&(u=(n[c-2]<<8)+n[c-1],m.push(l[u>>10]+l[u>>4&63]+l[u<<2&63]+"=")),m.join("")}return Vt}var lr={};var eu;function kd(){return eu||(eu=1,lr.read=function(l,v,E,_,y){var d,b,o=y*8-_-1,r=(1<<o)-1,t=r>>1,e=-7,a=E?y-1:0,i=E?-1:1,n=l[v+a];for(a+=i,d=n&(1<<-e)-1,n>>=-e,e+=o;e>0;d=d*256+l[v+a],a+=i,e-=8);for(b=d&(1<<-e)-1,d>>=-e,e+=_;e>0;b=b*256+l[v+a],a+=i,e-=8);if(d===0)d=1-t;else{if(d===r)return b?NaN:(n?-1:1)*(1/0);b=b+Math.pow(2,_),d=d-t}return(n?-1:1)*b*Math.pow(2,d-_)},lr.write=function(l,v,E,_,y,d){var b,o,r,t=d*8-y-1,e=(1<<t)-1,a=e>>1,i=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,n=_?0:d-1,u=_?1:-1,c=v<0||v===0&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(o=isNaN(v)?1:0,b=e):(b=Math.floor(Math.log(v)/Math.LN2),v*(r=Math.pow(2,-b))<1&&(b--,r*=2),b+a>=1?v+=i/r:v+=i*Math.pow(2,1-a),v*r>=2&&(b++,r/=2),b+a>=e?(o=0,b=e):b+a>=1?(o=(v*r-1)*Math.pow(2,y),b=b+a):(o=v*Math.pow(2,a-1)*Math.pow(2,y),b=0));y>=8;l[E+n]=o&255,n+=u,o/=256,y-=8);for(b=b<<y|o,t+=y;t>0;l[E+n]=b&255,n+=u,b/=256,t-=8);l[E+n-u]|=c*128}),lr}var tu;function jd(){return tu||(tu=1,(function(l){const v=Bd(),E=kd(),_=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=o,l.SlowBuffer=O,l.INSPECT_MAX_BYTES=50;const y=2147483647;l.kMaxLength=y,o.TYPED_ARRAY_SUPPORT=d(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const N=new Uint8Array(1),P={foo:function(){return 42}};return Object.setPrototypeOf(P,Uint8Array.prototype),Object.setPrototypeOf(N,P),N.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function b(N){if(N>y)throw new RangeError('The value "'+N+'" is invalid for option "size"');const P=new Uint8Array(N);return Object.setPrototypeOf(P,o.prototype),P}function o(N,P,M){if(typeof N=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return a(N)}return r(N,P,M)}o.poolSize=8192;function r(N,P,M){if(typeof N=="string")return i(N,P);if(ArrayBuffer.isView(N))return u(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(de(N,ArrayBuffer)||N&&de(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(de(N,SharedArrayBuffer)||N&&de(N.buffer,SharedArrayBuffer)))return c(N,P,M);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const q=N.valueOf&&N.valueOf();if(q!=null&&q!==N)return o.from(q,P,M);const Z=p(N);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return o.from(N[Symbol.toPrimitive]("string"),P,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}o.from=function(N,P,M){return r(N,P,M)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function t(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function e(N,P,M){return t(N),N<=0?b(N):P!==void 0?typeof M=="string"?b(N).fill(P,M):b(N).fill(P):b(N)}o.alloc=function(N,P,M){return e(N,P,M)};function a(N){return t(N),b(N<0?0:m(N)|0)}o.allocUnsafe=function(N){return a(N)},o.allocUnsafeSlow=function(N){return a(N)};function i(N,P){if((typeof P!="string"||P==="")&&(P="utf8"),!o.isEncoding(P))throw new TypeError("Unknown encoding: "+P);const M=I(N,P)|0;let q=b(M);const Z=q.write(N,P);return Z!==M&&(q=q.slice(0,Z)),q}function n(N){const P=N.length<0?0:m(N.length)|0,M=b(P);for(let q=0;q<P;q+=1)M[q]=N[q]&255;return M}function u(N){if(de(N,Uint8Array)){const P=new Uint8Array(N);return c(P.buffer,P.byteOffset,P.byteLength)}return n(N)}function c(N,P,M){if(P<0||N.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<P+(M||0))throw new RangeError('"length" is outside of buffer bounds');let q;return P===void 0&&M===void 0?q=new Uint8Array(N):M===void 0?q=new Uint8Array(N,P):q=new Uint8Array(N,P,M),Object.setPrototypeOf(q,o.prototype),q}function p(N){if(o.isBuffer(N)){const P=m(N.length)|0,M=b(P);return M.length===0||N.copy(M,0,0,P),M}if(N.length!==void 0)return typeof N.length!="number"||be(N.length)?b(0):n(N);if(N.type==="Buffer"&&Array.isArray(N.data))return n(N.data)}function m(N){if(N>=y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return N|0}function O(N){return+N!=N&&(N=0),o.alloc(+N)}o.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==o.prototype},o.compare=function(P,M){if(de(P,Uint8Array)&&(P=o.from(P,P.offset,P.byteLength)),de(M,Uint8Array)&&(M=o.from(M,M.offset,M.byteLength)),!o.isBuffer(P)||!o.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===M)return 0;let q=P.length,Z=M.length;for(let re=0,ne=Math.min(q,Z);re<ne;++re)if(P[re]!==M[re]){q=P[re],Z=M[re];break}return q<Z?-1:Z<q?1:0},o.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(P,M){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return o.alloc(0);let q;if(M===void 0)for(M=0,q=0;q<P.length;++q)M+=P[q].length;const Z=o.allocUnsafe(M);let re=0;for(q=0;q<P.length;++q){let ne=P[q];if(de(ne,Uint8Array))re+ne.length>Z.length?(o.isBuffer(ne)||(ne=o.from(ne)),ne.copy(Z,re)):Uint8Array.prototype.set.call(Z,ne,re);else if(o.isBuffer(ne))ne.copy(Z,re);else throw new TypeError('"list" argument must be an Array of Buffers');re+=ne.length}return Z};function I(N,P){if(o.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||de(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const M=N.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&M===0)return 0;let Z=!1;for(;;)switch(P){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return W(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return fe(N).length;default:if(Z)return q?-1:W(N).length;P=(""+P).toLowerCase(),Z=!0}}o.byteLength=I;function C(N,P,M){let q=!1;if((P===void 0||P<0)&&(P=0),P>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,P>>>=0,M<=P))return"";for(N||(N="utf8");;)switch(N){case"hex":return j(this,P,M);case"utf8":case"utf-8":return f(this,P,M);case"ascii":return B(this,P,M);case"latin1":case"binary":return R(this,P,M);case"base64":return h(this,P,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,P,M);default:if(q)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),q=!0}}o.prototype._isBuffer=!0;function k(N,P,M){const q=N[P];N[P]=N[M],N[M]=q}o.prototype.swap16=function(){const P=this.length;if(P%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<P;M+=2)k(this,M,M+1);return this},o.prototype.swap32=function(){const P=this.length;if(P%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<P;M+=4)k(this,M,M+3),k(this,M+1,M+2);return this},o.prototype.swap64=function(){const P=this.length;if(P%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<P;M+=8)k(this,M,M+7),k(this,M+1,M+6),k(this,M+2,M+5),k(this,M+3,M+4);return this},o.prototype.toString=function(){const P=this.length;return P===0?"":arguments.length===0?f(this,0,P):C.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(P){if(!o.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:o.compare(this,P)===0},o.prototype.inspect=function(){let P="";const M=l.INSPECT_MAX_BYTES;return P=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(P+=" ... "),"<Buffer "+P+">"},_&&(o.prototype[_]=o.prototype.inspect),o.prototype.compare=function(P,M,q,Z,re){if(de(P,Uint8Array)&&(P=o.from(P,P.offset,P.byteLength)),!o.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(M===void 0&&(M=0),q===void 0&&(q=P?P.length:0),Z===void 0&&(Z=0),re===void 0&&(re=this.length),M<0||q>P.length||Z<0||re>this.length)throw new RangeError("out of range index");if(Z>=re&&M>=q)return 0;if(Z>=re)return-1;if(M>=q)return 1;if(M>>>=0,q>>>=0,Z>>>=0,re>>>=0,this===P)return 0;let ne=re-Z,pe=q-M;const xe=Math.min(ne,pe),ve=this.slice(Z,re),_e=P.slice(M,q);for(let we=0;we<xe;++we)if(ve[we]!==_e[we]){ne=ve[we],pe=_e[we];break}return ne<pe?-1:pe<ne?1:0};function D(N,P,M,q,Z){if(N.length===0)return-1;if(typeof M=="string"?(q=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,be(M)&&(M=Z?0:N.length-1),M<0&&(M=N.length+M),M>=N.length){if(Z)return-1;M=N.length-1}else if(M<0)if(Z)M=0;else return-1;if(typeof P=="string"&&(P=o.from(P,q)),o.isBuffer(P))return P.length===0?-1:G(N,P,M,q,Z);if(typeof P=="number")return P=P&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(N,P,M):Uint8Array.prototype.lastIndexOf.call(N,P,M):G(N,[P],M,q,Z);throw new TypeError("val must be string, number or Buffer")}function G(N,P,M,q,Z){let re=1,ne=N.length,pe=P.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(N.length<2||P.length<2)return-1;re=2,ne/=2,pe/=2,M/=2}function xe(_e,we){return re===1?_e[we]:_e.readUInt16BE(we*re)}let ve;if(Z){let _e=-1;for(ve=M;ve<ne;ve++)if(xe(N,ve)===xe(P,_e===-1?0:ve-_e)){if(_e===-1&&(_e=ve),ve-_e+1===pe)return _e*re}else _e!==-1&&(ve-=ve-_e),_e=-1}else for(M+pe>ne&&(M=ne-pe),ve=M;ve>=0;ve--){let _e=!0;for(let we=0;we<pe;we++)if(xe(N,ve+we)!==xe(P,we)){_e=!1;break}if(_e)return ve}return-1}o.prototype.includes=function(P,M,q){return this.indexOf(P,M,q)!==-1},o.prototype.indexOf=function(P,M,q){return D(this,P,M,q,!0)},o.prototype.lastIndexOf=function(P,M,q){return D(this,P,M,q,!1)};function z(N,P,M,q){M=Number(M)||0;const Z=N.length-M;q?(q=Number(q),q>Z&&(q=Z)):q=Z;const re=P.length;q>re/2&&(q=re/2);let ne;for(ne=0;ne<q;++ne){const pe=parseInt(P.substr(ne*2,2),16);if(be(pe))return ne;N[M+ne]=pe}return ne}function F(N,P,M,q){return ie(W(P,N.length-M),N,M,q)}function U(N,P,M,q){return ie(Y(P),N,M,q)}function w(N,P,M,q){return ie(fe(P),N,M,q)}function s(N,P,M,q){return ie(se(P,N.length-M),N,M,q)}o.prototype.write=function(P,M,q,Z){if(M===void 0)Z="utf8",q=this.length,M=0;else if(q===void 0&&typeof M=="string")Z=M,q=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(q)?(q=q>>>0,Z===void 0&&(Z="utf8")):(Z=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const re=this.length-M;if((q===void 0||q>re)&&(q=re),P.length>0&&(q<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");let ne=!1;for(;;)switch(Z){case"hex":return z(this,P,M,q);case"utf8":case"utf-8":return F(this,P,M,q);case"ascii":case"latin1":case"binary":return U(this,P,M,q);case"base64":return w(this,P,M,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,P,M,q);default:if(ne)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ne=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function h(N,P,M){return P===0&&M===N.length?v.fromByteArray(N):v.fromByteArray(N.slice(P,M))}function f(N,P,M){M=Math.min(N.length,M);const q=[];let Z=P;for(;Z<M;){const re=N[Z];let ne=null,pe=re>239?4:re>223?3:re>191?2:1;if(Z+pe<=M){let xe,ve,_e,we;switch(pe){case 1:re<128&&(ne=re);break;case 2:xe=N[Z+1],(xe&192)===128&&(we=(re&31)<<6|xe&63,we>127&&(ne=we));break;case 3:xe=N[Z+1],ve=N[Z+2],(xe&192)===128&&(ve&192)===128&&(we=(re&15)<<12|(xe&63)<<6|ve&63,we>2047&&(we<55296||we>57343)&&(ne=we));break;case 4:xe=N[Z+1],ve=N[Z+2],_e=N[Z+3],(xe&192)===128&&(ve&192)===128&&(_e&192)===128&&(we=(re&15)<<18|(xe&63)<<12|(ve&63)<<6|_e&63,we>65535&&we<1114112&&(ne=we))}}ne===null?(ne=65533,pe=1):ne>65535&&(ne-=65536,q.push(ne>>>10&1023|55296),ne=56320|ne&1023),q.push(ne),Z+=pe}return S(q)}const x=4096;function S(N){const P=N.length;if(P<=x)return String.fromCharCode.apply(String,N);let M="",q=0;for(;q<P;)M+=String.fromCharCode.apply(String,N.slice(q,q+=x));return M}function B(N,P,M){let q="";M=Math.min(N.length,M);for(let Z=P;Z<M;++Z)q+=String.fromCharCode(N[Z]&127);return q}function R(N,P,M){let q="";M=Math.min(N.length,M);for(let Z=P;Z<M;++Z)q+=String.fromCharCode(N[Z]);return q}function j(N,P,M){const q=N.length;(!P||P<0)&&(P=0),(!M||M<0||M>q)&&(M=q);let Z="";for(let re=P;re<M;++re)Z+=he[N[re]];return Z}function g(N,P,M){const q=N.slice(P,M);let Z="";for(let re=0;re<q.length-1;re+=2)Z+=String.fromCharCode(q[re]+q[re+1]*256);return Z}o.prototype.slice=function(P,M){const q=this.length;P=~~P,M=M===void 0?q:~~M,P<0?(P+=q,P<0&&(P=0)):P>q&&(P=q),M<0?(M+=q,M<0&&(M=0)):M>q&&(M=q),M<P&&(M=P);const Z=this.subarray(P,M);return Object.setPrototypeOf(Z,o.prototype),Z};function A(N,P,M){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+P>M)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(P,M,q){P=P>>>0,M=M>>>0,q||A(P,M,this.length);let Z=this[P],re=1,ne=0;for(;++ne<M&&(re*=256);)Z+=this[P+ne]*re;return Z},o.prototype.readUintBE=o.prototype.readUIntBE=function(P,M,q){P=P>>>0,M=M>>>0,q||A(P,M,this.length);let Z=this[P+--M],re=1;for(;M>0&&(re*=256);)Z+=this[P+--M]*re;return Z},o.prototype.readUint8=o.prototype.readUInt8=function(P,M){return P=P>>>0,M||A(P,1,this.length),this[P]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(P,M){return P=P>>>0,M||A(P,2,this.length),this[P]|this[P+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(P,M){return P=P>>>0,M||A(P,2,this.length),this[P]<<8|this[P+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(P,M){return P=P>>>0,M||A(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+this[P+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(P,M){return P=P>>>0,M||A(P,4,this.length),this[P]*16777216+(this[P+1]<<16|this[P+2]<<8|this[P+3])},o.prototype.readBigUInt64LE=ye(function(P){P=P>>>0,te(P,"offset");const M=this[P],q=this[P+7];(M===void 0||q===void 0)&&ae(P,this.length-8);const Z=M+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24,re=this[++P]+this[++P]*2**8+this[++P]*2**16+q*2**24;return BigInt(Z)+(BigInt(re)<<BigInt(32))}),o.prototype.readBigUInt64BE=ye(function(P){P=P>>>0,te(P,"offset");const M=this[P],q=this[P+7];(M===void 0||q===void 0)&&ae(P,this.length-8);const Z=M*2**24+this[++P]*2**16+this[++P]*2**8+this[++P],re=this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+q;return(BigInt(Z)<<BigInt(32))+BigInt(re)}),o.prototype.readIntLE=function(P,M,q){P=P>>>0,M=M>>>0,q||A(P,M,this.length);let Z=this[P],re=1,ne=0;for(;++ne<M&&(re*=256);)Z+=this[P+ne]*re;return re*=128,Z>=re&&(Z-=Math.pow(2,8*M)),Z},o.prototype.readIntBE=function(P,M,q){P=P>>>0,M=M>>>0,q||A(P,M,this.length);let Z=M,re=1,ne=this[P+--Z];for(;Z>0&&(re*=256);)ne+=this[P+--Z]*re;return re*=128,ne>=re&&(ne-=Math.pow(2,8*M)),ne},o.prototype.readInt8=function(P,M){return P=P>>>0,M||A(P,1,this.length),this[P]&128?(255-this[P]+1)*-1:this[P]},o.prototype.readInt16LE=function(P,M){P=P>>>0,M||A(P,2,this.length);const q=this[P]|this[P+1]<<8;return q&32768?q|4294901760:q},o.prototype.readInt16BE=function(P,M){P=P>>>0,M||A(P,2,this.length);const q=this[P+1]|this[P]<<8;return q&32768?q|4294901760:q},o.prototype.readInt32LE=function(P,M){return P=P>>>0,M||A(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},o.prototype.readInt32BE=function(P,M){return P=P>>>0,M||A(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},o.prototype.readBigInt64LE=ye(function(P){P=P>>>0,te(P,"offset");const M=this[P],q=this[P+7];(M===void 0||q===void 0)&&ae(P,this.length-8);const Z=this[P+4]+this[P+5]*2**8+this[P+6]*2**16+(q<<24);return(BigInt(Z)<<BigInt(32))+BigInt(M+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24)}),o.prototype.readBigInt64BE=ye(function(P){P=P>>>0,te(P,"offset");const M=this[P],q=this[P+7];(M===void 0||q===void 0)&&ae(P,this.length-8);const Z=(M<<24)+this[++P]*2**16+this[++P]*2**8+this[++P];return(BigInt(Z)<<BigInt(32))+BigInt(this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+q)}),o.prototype.readFloatLE=function(P,M){return P=P>>>0,M||A(P,4,this.length),E.read(this,P,!0,23,4)},o.prototype.readFloatBE=function(P,M){return P=P>>>0,M||A(P,4,this.length),E.read(this,P,!1,23,4)},o.prototype.readDoubleLE=function(P,M){return P=P>>>0,M||A(P,8,this.length),E.read(this,P,!0,52,8)},o.prototype.readDoubleBE=function(P,M){return P=P>>>0,M||A(P,8,this.length),E.read(this,P,!1,52,8)};function L(N,P,M,q,Z,re){if(!o.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>Z||P<re)throw new RangeError('"value" argument is out of bounds');if(M+q>N.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(P,M,q,Z){if(P=+P,M=M>>>0,q=q>>>0,!Z){const pe=Math.pow(2,8*q)-1;L(this,P,M,q,pe,0)}let re=1,ne=0;for(this[M]=P&255;++ne<q&&(re*=256);)this[M+ne]=P/re&255;return M+q},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(P,M,q,Z){if(P=+P,M=M>>>0,q=q>>>0,!Z){const pe=Math.pow(2,8*q)-1;L(this,P,M,q,pe,0)}let re=q-1,ne=1;for(this[M+re]=P&255;--re>=0&&(ne*=256);)this[M+re]=P/ne&255;return M+q},o.prototype.writeUint8=o.prototype.writeUInt8=function(P,M,q){return P=+P,M=M>>>0,q||L(this,P,M,1,255,0),this[M]=P&255,M+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(P,M,q){return P=+P,M=M>>>0,q||L(this,P,M,2,65535,0),this[M]=P&255,this[M+1]=P>>>8,M+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(P,M,q){return P=+P,M=M>>>0,q||L(this,P,M,2,65535,0),this[M]=P>>>8,this[M+1]=P&255,M+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(P,M,q){return P=+P,M=M>>>0,q||L(this,P,M,4,4294967295,0),this[M+3]=P>>>24,this[M+2]=P>>>16,this[M+1]=P>>>8,this[M]=P&255,M+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(P,M,q){return P=+P,M=M>>>0,q||L(this,P,M,4,4294967295,0),this[M]=P>>>24,this[M+1]=P>>>16,this[M+2]=P>>>8,this[M+3]=P&255,M+4};function K(N,P,M,q,Z){ce(P,q,Z,N,M,7);let re=Number(P&BigInt(4294967295));N[M++]=re,re=re>>8,N[M++]=re,re=re>>8,N[M++]=re,re=re>>8,N[M++]=re;let ne=Number(P>>BigInt(32)&BigInt(4294967295));return N[M++]=ne,ne=ne>>8,N[M++]=ne,ne=ne>>8,N[M++]=ne,ne=ne>>8,N[M++]=ne,M}function T(N,P,M,q,Z){ce(P,q,Z,N,M,7);let re=Number(P&BigInt(4294967295));N[M+7]=re,re=re>>8,N[M+6]=re,re=re>>8,N[M+5]=re,re=re>>8,N[M+4]=re;let ne=Number(P>>BigInt(32)&BigInt(4294967295));return N[M+3]=ne,ne=ne>>8,N[M+2]=ne,ne=ne>>8,N[M+1]=ne,ne=ne>>8,N[M]=ne,M+8}o.prototype.writeBigUInt64LE=ye(function(P,M=0){return K(this,P,M,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ye(function(P,M=0){return T(this,P,M,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(P,M,q,Z){if(P=+P,M=M>>>0,!Z){const xe=Math.pow(2,8*q-1);L(this,P,M,q,xe-1,-xe)}let re=0,ne=1,pe=0;for(this[M]=P&255;++re<q&&(ne*=256);)P<0&&pe===0&&this[M+re-1]!==0&&(pe=1),this[M+re]=(P/ne>>0)-pe&255;return M+q},o.prototype.writeIntBE=function(P,M,q,Z){if(P=+P,M=M>>>0,!Z){const xe=Math.pow(2,8*q-1);L(this,P,M,q,xe-1,-xe)}let re=q-1,ne=1,pe=0;for(this[M+re]=P&255;--re>=0&&(ne*=256);)P<0&&pe===0&&this[M+re+1]!==0&&(pe=1),this[M+re]=(P/ne>>0)-pe&255;return M+q},o.prototype.writeInt8=function(P,M,q){return P=+P,M=M>>>0,q||L(this,P,M,1,127,-128),P<0&&(P=255+P+1),this[M]=P&255,M+1},o.prototype.writeInt16LE=function(P,M,q){return P=+P,M=M>>>0,q||L(this,P,M,2,32767,-32768),this[M]=P&255,this[M+1]=P>>>8,M+2},o.prototype.writeInt16BE=function(P,M,q){return P=+P,M=M>>>0,q||L(this,P,M,2,32767,-32768),this[M]=P>>>8,this[M+1]=P&255,M+2},o.prototype.writeInt32LE=function(P,M,q){return P=+P,M=M>>>0,q||L(this,P,M,4,2147483647,-2147483648),this[M]=P&255,this[M+1]=P>>>8,this[M+2]=P>>>16,this[M+3]=P>>>24,M+4},o.prototype.writeInt32BE=function(P,M,q){return P=+P,M=M>>>0,q||L(this,P,M,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[M]=P>>>24,this[M+1]=P>>>16,this[M+2]=P>>>8,this[M+3]=P&255,M+4},o.prototype.writeBigInt64LE=ye(function(P,M=0){return K(this,P,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ye(function(P,M=0){return T(this,P,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function V(N,P,M,q,Z,re){if(M+q>N.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function J(N,P,M,q,Z){return P=+P,M=M>>>0,Z||V(N,P,M,4),E.write(N,P,M,q,23,4),M+4}o.prototype.writeFloatLE=function(P,M,q){return J(this,P,M,!0,q)},o.prototype.writeFloatBE=function(P,M,q){return J(this,P,M,!1,q)};function X(N,P,M,q,Z){return P=+P,M=M>>>0,Z||V(N,P,M,8),E.write(N,P,M,q,52,8),M+8}o.prototype.writeDoubleLE=function(P,M,q){return X(this,P,M,!0,q)},o.prototype.writeDoubleBE=function(P,M,q){return X(this,P,M,!1,q)},o.prototype.copy=function(P,M,q,Z){if(!o.isBuffer(P))throw new TypeError("argument should be a Buffer");if(q||(q=0),!Z&&Z!==0&&(Z=this.length),M>=P.length&&(M=P.length),M||(M=0),Z>0&&Z<q&&(Z=q),Z===q||P.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),P.length-M<Z-q&&(Z=P.length-M+q);const re=Z-q;return this===P&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,q,Z):Uint8Array.prototype.set.call(P,this.subarray(q,Z),M),re},o.prototype.fill=function(P,M,q,Z){if(typeof P=="string"){if(typeof M=="string"?(Z=M,M=0,q=this.length):typeof q=="string"&&(Z=q,q=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!o.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(P.length===1){const ne=P.charCodeAt(0);(Z==="utf8"&&ne<128||Z==="latin1")&&(P=ne)}}else typeof P=="number"?P=P&255:typeof P=="boolean"&&(P=Number(P));if(M<0||this.length<M||this.length<q)throw new RangeError("Out of range index");if(q<=M)return this;M=M>>>0,q=q===void 0?this.length:q>>>0,P||(P=0);let re;if(typeof P=="number")for(re=M;re<q;++re)this[re]=P;else{const ne=o.isBuffer(P)?P:o.from(P,Z),pe=ne.length;if(pe===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(re=0;re<q-M;++re)this[re+M]=ne[re%pe]}return this};const $={};function H(N,P,M){$[N]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:P.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,this.stack,delete this.name}get code(){return N}set code(Z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Z,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}H("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),H("ERR_INVALID_ARG_TYPE",function(N,P){return`The "${N}" argument must be of type number. Received type ${typeof P}`},TypeError),H("ERR_OUT_OF_RANGE",function(N,P,M){let q=`The value of "${N}" is out of range.`,Z=M;return Number.isInteger(M)&&Math.abs(M)>2**32?Z=Q(String(M)):typeof M=="bigint"&&(Z=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(Z=Q(Z)),Z+="n"),q+=` It must be ${P}. Received ${Z}`,q},RangeError);function Q(N){let P="",M=N.length;const q=N[0]==="-"?1:0;for(;M>=q+4;M-=3)P=`_${N.slice(M-3,M)}${P}`;return`${N.slice(0,M)}${P}`}function ee(N,P,M){te(P,"offset"),(N[P]===void 0||N[P+M]===void 0)&&ae(P,N.length-(M+1))}function ce(N,P,M,q,Z,re){if(N>M||N<P){const ne=typeof P=="bigint"?"n":"";let pe;throw P===0||P===BigInt(0)?pe=`>= 0${ne} and < 2${ne} ** ${(re+1)*8}${ne}`:pe=`>= -(2${ne} ** ${(re+1)*8-1}${ne}) and < 2 ** ${(re+1)*8-1}${ne}`,new $.ERR_OUT_OF_RANGE("value",pe,N)}ee(q,Z,re)}function te(N,P){if(typeof N!="number")throw new $.ERR_INVALID_ARG_TYPE(P,"number",N)}function ae(N,P,M){throw Math.floor(N)!==N?(te(N,M),new $.ERR_OUT_OF_RANGE("offset","an integer",N)):P<0?new $.ERR_BUFFER_OUT_OF_BOUNDS:new $.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${P}`,N)}const ue=/[^+/0-9A-Za-z-_]/g;function oe(N){if(N=N.split("=")[0],N=N.trim().replace(ue,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function W(N,P){P=P||1/0;let M;const q=N.length;let Z=null;const re=[];for(let ne=0;ne<q;++ne){if(M=N.charCodeAt(ne),M>55295&&M<57344){if(!Z){if(M>56319){(P-=3)>-1&&re.push(239,191,189);continue}else if(ne+1===q){(P-=3)>-1&&re.push(239,191,189);continue}Z=M;continue}if(M<56320){(P-=3)>-1&&re.push(239,191,189),Z=M;continue}M=(Z-55296<<10|M-56320)+65536}else Z&&(P-=3)>-1&&re.push(239,191,189);if(Z=null,M<128){if((P-=1)<0)break;re.push(M)}else if(M<2048){if((P-=2)<0)break;re.push(M>>6|192,M&63|128)}else if(M<65536){if((P-=3)<0)break;re.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((P-=4)<0)break;re.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return re}function Y(N){const P=[];for(let M=0;M<N.length;++M)P.push(N.charCodeAt(M)&255);return P}function se(N,P){let M,q,Z;const re=[];for(let ne=0;ne<N.length&&!((P-=2)<0);++ne)M=N.charCodeAt(ne),q=M>>8,Z=M%256,re.push(Z),re.push(q);return re}function fe(N){return v.toByteArray(oe(N))}function ie(N,P,M,q){let Z;for(Z=0;Z<q&&!(Z+M>=P.length||Z>=N.length);++Z)P[Z+M]=N[Z];return Z}function de(N,P){return N instanceof P||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===P.name}function be(N){return N!==N}const he=(function(){const N="0123456789abcdef",P=new Array(256);for(let M=0;M<16;++M){const q=M*16;for(let Z=0;Z<16;++Z)P[q+Z]=N[M]+N[Z]}return P})();function ye(N){return typeof BigInt>"u"?Ae:N}function Ae(){throw new Error("BigInt not supported")}})(na)),na}var Du=jd();typeof window<"u"&&(window.Buffer=Du.Buffer);const Lu=()=>({networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",walletUrl:"https://testnet.mynearwallet.com",helperUrl:"https://helper.testnet.near.org"});async function Bt(){if(typeof window>"u")return null;const l=Lu();return await ct.connect({...l,keyStore:new ct.keyStores.BrowserLocalStorageKeyStore})}async function qu(){if(typeof window>"u")return!1;try{const l=await Bt();return l?new ct.WalletConnection(l,"choonsim").isSignedIn():!1}catch{return!1}}async function Fu(){if(typeof window>"u")return null;try{const l=await Bt();if(!l)return null;const v=new ct.WalletConnection(l,"choonsim");return v.isSignedIn()?v.getAccountId():null}catch{return null}}async function Nd(){if(typeof window>"u")return null;try{const l=await Bt();if(!l)throw new Error("NEAR init failed");const v=new ct.WalletConnection(l,"choonsim");return v.isSignedIn()?v.getAccountId():(await v.requestSignIn({contractId:"choco.token.primitives.testnet",methodNames:["ft_transfer_call"]}),null)}catch(l){throw l}}async function ru(l,v){if(typeof window>"u")return"0";try{const E=await Bt();if(!E)return"0";const y=await(await E.account(v)).viewFunction({contractId:v,methodName:"ft_balance_of",args:{account_id:l}});return(parseFloat(y)/1e18).toString()}catch{return"0"}}async function Td(l,v,E){const _=await Bt();if(!_)throw new Error("NEAR init failed");const d=await(await _.account(l)).findAccessKey(l,[]);if(!d)throw new Error("No access key");const b=await _.connection.provider.block({finality:"final"}),o=ct.transactions.createDelegateAction({senderId:l,receiverId:v,actions:E,nonce:BigInt(d.accessKey.nonce)+BigInt(1),maxBlockHeight:BigInt(b.header.height)+BigInt(100),publicKey:ct.utils.PublicKey.from(d.publicKey)}),{networkId:r}=Lu(),t=await ct.transactions.signDelegateAction({delegateAction:o,signer:_.connection.signer,networkId:r});return Du.Buffer.from(t.encode()).toString("base64")}async function Ku(l,v,E,_){const y=parseFloat(E),d=BigInt(Math.floor(y*1e18)).toString(),b=ct.transactions.functionCall("ft_transfer_call",{receiver_id:v,amount:d,msg:""},BigInt("30000000000000"),BigInt("1")),o=await Td(l,_,[b]),r=await fetch("/api/relayer/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({signedDelegate:o})}),t=await r.json();if(!r.ok)throw new Error(t.error||"Relay failed");return t.txHash}async function Rd(l,v,E,_){const y=await Bt();if(!y)throw new Error("NEAR init failed");const d=await y.account(l),b=parseFloat(E),o=BigInt(Math.floor(b*1e18)).toString();return(await d.functionCall({contractId:_,methodName:"ft_transfer_call",args:{receiver_id:v,amount:o,msg:""},attachedDeposit:BigInt(1),gas:BigInt("30000000000000")})).transaction.hash}function Dd({isOpen:l,onClose:v,token:E,invoice:_,onSuccess:y}){const[d,b]=Je.useState(!1),[o,r]=Je.useState("review"),[t,e]=Je.useState(""),[a,i]=Je.useState(!1),[n,u]=Je.useState(null),[c,p]=Je.useState("0"),[m,O]=Je.useState(null),[I,C]=Je.useState(!0);Je.useEffect(()=>{l&&k()},[l]);const k=async()=>{const z=await qu();if(i(z),z){const F=await Fu();if(u(F),F)try{const U=await ru(F,_.tokenContract);p(U)}catch(U){console.error("Failed to fetch balance:",U)}}};if(!l)return null;const D=async()=>{b(!0),O(null);try{const z=await Nd();if(z){u(z),i(!0);const F=await ru(z,_.tokenContract);p(F)}else O("  .")}catch(z){console.error("Wallet connection error details:",z),O(`  : ${z.message||"   "}`)}finally{b(!1)}},G=async()=>{if(!a||!n){await D();return}b(!0),O(null);try{const z=parseFloat(c),F=parseFloat(_.amount);if(z<F){O(` . (: ${c} CHOCO, : ${_.amount} CHOCO)`),b(!1);return}let U;I?U=await Ku(n,_.recipient,_.amount,_.tokenContract):U=await Rd(n,_.recipient,_.amount,_.tokenContract);const w=await fetch("/api/x402/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:E,txHash:U})});if(w.ok)e(U),r("success"),setTimeout(()=>{y(U)},1500);else{const s=await w.json();O(s.error||"  .")}}catch(z){console.error("Payment error:",z),O(z.message||"   .")}finally{b(!1)}};return le.jsxs("div",{className:"payment-sheet-overlay",children:[le.jsxs("div",{className:`payment-sheet ${l?"open":""}`,children:[le.jsxs("div",{className:"sheet-header",children:[le.jsx("h3",{children:o==="review"?"CHOCO  ":" !"}),le.jsx("button",{className:"close-btn",onClick:v,disabled:d,children:le.jsx(df,{size:20})})]}),le.jsx("div",{className:"sheet-content",children:o==="review"?le.jsxs(le.Fragment,{children:[le.jsxs("div",{className:"invoice-summary",children:[le.jsxs("div",{className:"amount-display",children:[le.jsx("span",{className:"price",children:_.amount}),le.jsx("span",{className:"unit",children:_.currency})]}),le.jsx("p",{className:"description",children:"AI   "})]}),le.jsxs("div",{className:"payment-info card",children:[le.jsxs("div",{className:"info-row",children:[le.jsx("span",{className:"label",children:" "}),le.jsxs("span",{className:"value flex-center",children:[le.jsx(rf,{size:14,className:"mr-4"}),a&&n?le.jsx("span",{className:"truncate",children:n}):le.jsx("span",{className:"text-pink-400 font-bold animate-pulse",children:Aa.WALLET_CONNECT_PROMPT})]})]}),a&&n&&le.jsxs("div",{className:"info-row",children:[le.jsx("span",{className:"label",children:"  "}),le.jsxs("span",{className:"value font-bold text-success",children:[c," CHOCO"]})]}),le.jsxs("div",{className:"info-row",children:[le.jsx("span",{className:"label",children:"  "}),le.jsxs("span",{className:"value font-bold text-pink-500",children:["+",_.amount," CHOCO"]})]}),le.jsxs("div",{className:"info-row",children:[le.jsx("span",{className:"label",children:""}),le.jsx("span",{className:"value truncate",children:_.recipient})]})]}),m&&le.jsxs("div",{className:"error-message",children:[le.jsx("p",{className:"font-bold mb-1",children:" ?"}),le.jsx("p",{className:"text-xs mb-3 opacity-80",children:m}),le.jsx("button",{onClick:()=>window.location.href="/profile/subscription",className:"w-full py-2 bg-white/10 hover:bg-white/20 rounded-lg text-xs font-bold transition-colors",children:"    (PayPal/Toss)"})]}),le.jsxs("div",{className:"security-badge",children:[le.jsx(uf,{size:16,className:"text-success"}),le.jsx("span",{children:"     ."})]}),a?le.jsxs("button",{className:`pay-button ${d?"loading":""}`,onClick:G,disabled:d,children:[d?"  ...":"",!d&&le.jsx(Oa,{size:18})]}):le.jsxs("div",{className:"button-group-vertical",children:[le.jsxs("button",{className:`pay-button ${d?"loading":""}`,onClick:D,disabled:d,children:[d?"  ...":Aa.WALLET_CONNECT_BUTTON,!d&&le.jsx(Oa,{size:18})]}),!d&&le.jsx("button",{className:"secondary-action-button",onClick:()=>window.location.href="/profile/subscription",children:" (/) "})]})]}):le.jsxs("div",{className:"success-view",children:[le.jsx("div",{className:"success-icon-wrapper",children:le.jsx(sf,{size:64,className:"text-success pulse"})}),le.jsx("h4",{children:"  ."}),le.jsxs("p",{className:"tx-text",children:["TxID: ",t]}),le.jsx("div",{className:"auto-close-hint",children:"  ..."})]})})]}),le.jsx("style",{dangerouslySetInnerHTML:{__html:`
                .payment-sheet-overlay {
                    position: fixed;
                    inset: 0;
                    background: rgba(0, 0, 0, 0.4);
                    backdrop-filter: blur(4px);
                    z-index: 1000;
                    display: flex;
                    align-items: flex-end;
                    justify-content: center;
                }

                .payment-sheet {
                    width: 100%;
                    max-width: 500px;
                    background: #1a1a1a;
                    border-radius: 24px 24px 0 0;
                    padding: 24px;
                    transform: translateY(100%);
                    transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
                    border: 1px solid rgba(255, 255, 255, 0.1);
                    border-bottom: none;
                    box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.3);
                }

                .payment-sheet.open {
                    transform: translateY(0);
                }

                .sheet-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 24px;
                }

                .sheet-header h3 {
                    font-size: 18px;
                    font-weight: 700;
                    color: white;
                }

                .close-btn {
                    background: rgba(255, 255, 255, 0.05);
                    border: none;
                    color: white;
                    width: 36px;
                    height: 36px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    cursor: pointer;
                }

                .invoice-summary {
                    text-align: center;
                    margin-bottom: 24px;
                }

                .amount-display {
                    display: flex;
                    align-items: baseline;
                    justify-content: center;
                    gap: 8px;
                    margin-bottom: 8px;
                }

                .amount-display .price {
                    font-size: 42px;
                    font-weight: 800;
                    color: #ec4899;
                }

                .amount-display .unit {
                    font-size: 18px;
                    font-weight: 600;
                    color: rgba(255, 255, 255, 0.5);
                }

                .description {
                    font-size: 14px;
                    color: rgba(255, 255, 255, 0.6);
                }

                .payment-info.card {
                    background: rgba(255, 255, 255, 0.03);
                    border-radius: 16px;
                    padding: 16px;
                    margin-bottom: 20px;
                    border: 1px solid rgba(255, 255, 255, 0.05);
                }

                .info-row {
                    display: flex;
                    justify-content: space-between;
                    padding: 8px 0;
                    font-size: 14px;
                }

                .info-row:not(:last-child) {
                    border-bottom: 1px solid rgba(255, 255, 255, 0.03);
                }

                .info-row .label { opacity: 0.5; }
                .info-row .value { font-weight: 500; }

                .security-badge {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    font-size: 12px;
                    color: rgba(255, 255, 255, 0.4);
                    justify-content: center;
                    margin-bottom: 24px;
                }

                .text-success { color: #10b981; }

                .pay-button {
                    width: 100%;
                    height: 56px;
                    background: linear-gradient(135deg, #ec4899, #be185d);
                    border: none;
                    border-radius: 16px;
                    color: white;
                    font-size: 16px;
                    font-weight: 700;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 12px;
                    cursor: pointer;
                    transition: transform 0.1s;
                }

                .pay-button:active { transform: scale(0.98); }
                .pay-button:disabled { opacity: 0.6; cursor: not-allowed; }

                .success-view {
                    text-align: center;
                    padding: 20px 0;
                }

                .success-icon-wrapper {
                    margin-bottom: 20px;
                }

                .tx-text {
                    font-family: monospace;
                    font-size: 12px;
                    opacity: 0.5;
                    margin-top: 12px;
                }

                .auto-close-hint {
                    margin-top: 24px;
                    font-size: 12px;
                    opacity: 0.3;
                }

                .mr-4 { margin-right: 4px; }
                .flex-center { display: flex; align-items: center; }
                .truncate { max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

                @keyframes pulse {
                    0% { transform: scale(1); opacity: 1; }
                    50% { transform: scale(1.1); opacity: 0.8; }
                    100% { transform: scale(1); opacity: 1; }
                }
                .pulse { animation: pulse 2s infinite ease-in-out; }

                .error-message {
                    background: rgba(239, 68, 68, 0.1);
                    border: 1px solid rgba(239, 68, 68, 0.3);
                    border-radius: 12px;
                    padding: 16px;
                    margin-bottom: 20px;
                    color: #fca5a5;
                    font-size: 14px;
                    text-align: center;
                }

                .button-group-vertical {
                    display: flex;
                    flex-direction: column;
                    gap: 12px;
                }

                .secondary-action-button {
                    width: 100%;
                    padding: 12px;
                    background: transparent;
                    border: 1px solid rgba(255, 255, 255, 0.1);
                    border-radius: 12px;
                    color: rgba(255, 255, 255, 0.6);
                    font-size: 13px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.2s;
                }

                .secondary-action-button:hover {
                    background: rgba(255, 255, 255, 0.05);
                    color: white;
                    border-color: rgba(255, 255, 255, 0.2);
                }

                .mb-1 { margin-bottom: 4px; }
                .mb-3 { margin-bottom: 12px; }
                .opacity-80 { opacity: 0.8; }
                .font-bold { font-weight: 700; }
                .text-xs { font-size: 12px; }
            `}})]})}function Ld(l){const v=l.headers.get("X-x402-Token"),E=l.headers.get("X-x402-Invoice"),_=l.headers.get("X-x402-Allowance");if(!v||!E)return null;try{const y=JSON.parse(E);let d=null;if(_)try{d=JSON.parse(_)}catch(b){console.warn("Failed to parse X402 Allowance header",b)}return{token:v,invoice:y,allowance:d}}catch(y){return console.error("Failed to parse X402 Invoice header",y),null}}function qd(){const[l,v]=Je.useState(!1),[E,_]=Je.useState(null),[y,d]=Je.useState(null),[b,o]=Je.useState(null),[r,t]=Je.useState(null);Je.useEffect(()=>{const i=window.fetch;window.fetch=async(u,c)=>{const p=await i(u,c);if(p.status===402){const m=Ld(p);if(m)if(m.allowance?.canAutoPay&&m.invoice)try{if(!await qu())return n(m,i,u,c);const I=await Fu();if(!I)return n(m,i,u,c);const C=await Ku(I,m.invoice.recipient,m.invoice.amount,m.invoice.tokenContract);return(await fetch("/api/x402/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:m.token,txHash:C})})).ok?i(u,c):n(m,i,u,c)}catch(O){return console.error("Auto payment failed:",O),n(m,i,u,c)}else return n(m,i,u,c)}return p};const n=(u,c,p,m)=>new Promise(O=>{_(u.invoice),d(u.token),o(u.allowance||null),v(!0),t(()=>async()=>{const I=await c(p,m);O(I)})});return()=>{window.fetch=i}},[]);const e=Je.useCallback(i=>{console.log("X402 Payment Success:",i),v(!1),r&&(r(),t(null))},[r]),a=Je.useCallback(()=>{v(!1)},[]);return{isOpen:l,token:y,invoice:E,allowance:b,handleSuccess:e,handleClose:a}}const Zd=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"}];function Xd({children:l}){return le.jsxs("html",{lang:"en",className:"dark",children:[le.jsxs("head",{children:[le.jsx("meta",{charSet:"utf-8"}),le.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5, viewport-fit=cover, user-scalable=yes"}),le.jsx("meta",{name:"theme-color",content:"#ee2b8c"}),le.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),le.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),le.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),le.jsx(Hu,{}),le.jsx(Vu,{})]}),le.jsxs("body",{children:[l,le.jsx(nf,{}),le.jsx(Ju,{}),le.jsx(Gu,{})]})]})}const Yd=Uu(function(){const{isOpen:v,token:E,invoice:_,handleSuccess:y,handleClose:d}=qd();return le.jsxs(le.Fragment,{children:[le.jsx($u,{}),E&&_&&le.jsx(Dd,{isOpen:v,onClose:d,token:E,invoice:_,onSuccess:y})]})}),Qd=zu(function({error:v}){let E="Oops!",_="    .",y;return Ea(v)&&(v.status===404?(E="404",_="    ."):v.status===403?(E="  ",_="   .     ."):v.status===401?(E=" ",_="   ."):(E=v.status.toString(),_=v.statusText||"  .")),le.jsx("main",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-[#0B0A10] text-white font-sans",children:le.jsxs("div",{className:"max-w-md w-full text-center space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[le.jsx("div",{className:"w-24 h-24 rounded-[32px] bg-white/5 border border-white/10 flex items-center justify-center mx-auto shadow-2xl shadow-primary/10",children:le.jsx("span",{className:"material-symbols-outlined text-primary text-5xl",children:Ea(v)&&v.status===403?"lock_person":"warning"})}),le.jsxs("div",{className:"space-y-2",children:[le.jsx("h1",{className:"text-4xl font-black italic tracking-tighter uppercase leading-none",children:E}),le.jsx("p",{className:"text-white/40 font-medium text-sm leading-relaxed",children:_})]}),le.jsx("div",{className:"pt-4",children:le.jsx("a",{href:"/",className:"inline-flex items-center gap-2 px-8 py-4 bg-primary text-black rounded-2xl font-black italic text-sm tracking-tighter hover:scale-105 transition-all shadow-[0_10px_30px_rgba(255,0,255,0.3)]",children:" "})}),y]})})});export{Qd as ErrorBoundary,Xd as Layout,Yd as default,Zd as links};
