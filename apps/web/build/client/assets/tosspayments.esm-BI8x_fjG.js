function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},d(t)}function p(t,e){return p=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},p(t,e)}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(t,e,o){return b()?m=Reflect.construct:m=function(r,u,f){var c=[null];c.push.apply(c,u);var i=Function.bind.apply(r,c),a=new i;return f&&p(a,f.prototype),a},m.apply(null,arguments)}function g(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function v(t){var e=typeof Map=="function"?new Map:void 0;return v=function(n){if(n===null||!g(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return m(n,arguments,d(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,n)},v(t)}function T(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(t)}function P(t){var e=b();return function(){var n=d(t),r;if(e){var u=d(this).constructor;r=Reflect.construct(n,arguments,u)}else r=n.apply(this,arguments);return O(this,r)}}var l=null;function S(t,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(l!=null)return l;var n=new Promise(function(r,u){try{var f=function(){y(e)!=null?r(y(e)):u(new N(e))},c=function(){u(new R(t))};if(typeof window>"u"||typeof document>"u")return r(null);if(y(e)!=null)return r(y(e));var i=document.querySelector('script[src="'.concat(t,'"]'));if(i!=null){var a;i.removeEventListener("load",f),i.removeEventListener("error",c),(a=i.parentElement)===null||a===void 0||a.removeChild(i)}var s=document.createElement("script");s.src=t,s.addEventListener("load",f),s.addEventListener("error",c),o.priority!=null&&(s.fetchPriority=o.priority),document.head.appendChild(s)}catch(h){u(h);return}});return l=n.catch(function(r){return l=null,Promise.reject(r)}),l}function y(t){return window[t]}var N=(function(t){_(o,t);var e=P(o);function o(n){var r;return w(this,o),r=e.call(this,"[TossPayments SDK] ".concat(n," is not available")),r.name="NamespaceNotAvailableError",r}return o})(v(Error)),R=(function(t){_(o,t);var e=P(o);function o(n){var r;return w(this,o),r=e.call(this,"[TossPayments SDK] Failed to load script: [".concat(n,"]")),r.name="ScriptLoadFailedError",r}return o})(v(Error)),E="https://js.tosspayments.com/v1";function j(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.src,n=o===void 0?E:o;return typeof window>"u"?Promise.resolve({requestPayment:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")},requestBillingAuth:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")},cancelPayment:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")}}):S(n,"TossPayments").then(function(r){return r(t)})}function L(){var t,e=document.querySelector('script[src="'.concat(E,'"]'));e==null||(t=e.parentElement)===null||t===void 0||t.removeChild(e),window.TossPayments=void 0}export{L as clearTossPayments,j as loadTossPayments};
