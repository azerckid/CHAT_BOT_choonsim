import{r as p,R as A}from"./chunk-WWGJGFF6-C0NtPc5H.js";const Z="modulepreload",Q=function(e){return"/"+e},j={},he=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let d=function(i){return Promise.all(i.map(u=>Promise.resolve(u).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),s=c?.nonce||c?.getAttribute("nonce");a=d(r.map(i=>{if(i=Q(i),i in j)return;j[i]=!0;const u=i.endsWith(".css"),E=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${E}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Z,u||(f.as="script"),f.crossOrigin="",f.href=i,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((m,N)=>{f.addEventListener("load",m),f.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${i}`)))})}))}function o(c){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=c,window.dispatchEvent(s),!s.defaultPrevented)throw c}return a.then(c=>{for(const s of c||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};var v;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(v||(v={}));var S;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(S||(S={}));var x;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(x||(x={}));var l=function(){return l=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},l.apply(this,arguments)};function k(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function U(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var g="data-react-paypal-script-id",h={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},Y="Failed to load the PayPal JS SDK script.",q="paypal",H="usePayPalScriptReducer must be used within a PayPalScriptProvider";function ee(e){return e===void 0&&(e=q),window[e]}function te(e){for(var t="",r=0;r<e.length;r++){var n=e[r].charCodeAt(0)*r;e[r+1]&&(n+=e[r+1].charCodeAt(0)*(r-1)),t+=String.fromCharCode(97+Math.abs(n)%26)}return t}function re(e){var t=e.reactComponentName,r=e.sdkComponentKey,n=e.sdkRequestedComponents,a=n===void 0?"":n,o=e.sdkDataNamespace,c=o===void 0?q:o,s=r.charAt(0).toUpperCase().concat(r.substring(1)),d="Unable to render <".concat(t," /> because window.").concat(c,".").concat(s," is undefined."),i=typeof a=="string"?a:a.join(",");if(!i.includes(r)){var u=[i,r].filter(Boolean).join();d+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(u,"'}}>`.")}return d}function G(e){var t=e,r=g;t[r];var n=k(t,[r+""]);return"react-paypal-js-".concat(te(JSON.stringify(n)))}function ne(e){var t=self.document.querySelector("script[".concat(g,'="').concat(e,'"]'));t?.parentNode&&t.parentNode.removeChild(t)}function ae(e,t){var r,n;switch(t.type){case S.LOADING_STATUS:return typeof t.value=="object"?l(l({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message}):l(l({},e),{loadingStatus:t.value});case S.RESET_OPTIONS:return ne(e.options[g]),l(l({},e),{loadingStatus:v.PENDING,options:l(l((r={},r[h.DATA_SDK_INTEGRATION_SOURCE]=h.DATA_LIBRARY_VALUE,r),t.value),(n={},n[g]="".concat(G(t.value)),n))});case S.SET_BRAINTREE_INSTANCE:return l(l({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var K=p.createContext(null);function oe(e){if(typeof e?.dispatch=="function"&&e.dispatch.length!==0)return e;throw new Error(H)}function ie(){var e=oe(p.useContext(K)),t=l(l({},e),{isInitial:e.loadingStatus===v.INITIAL,isPending:e.loadingStatus===v.PENDING,isResolved:e.loadingStatus===v.RESOLVED,isRejected:e.loadingStatus===v.REJECTED});return[t,e.dispatch]}p.createContext({});function ce(e){var t=p.useRef(new Proxy({},{get:function(r,n,a){return typeof r[n]=="function"?function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return r[n].apply(r,o)}:Reflect.get(r,n,a)}}));return t.current=Object.assign(t.current,e),t.current}var M=function(e){var t,r=e.className,n=r===void 0?"":r,a=e.disabled,o=a===void 0?!1:a,c=e.children,s=e.forceReRender,d=s===void 0?[]:s,i=k(e,["className","disabled","children","forceReRender"]),u=o?{opacity:.38}:{},E="".concat(n," ").concat(o?"paypal-buttons-disabled":"").trim(),f=p.useRef(null),m=p.useRef(null),N=ce(i),P=ie()[0],T=P.isResolved,w=P.options,_=p.useState(null),R=_[0],W=_[1],C=p.useState(!0),F=C[0],$=C[1],z=p.useState(null),I=z[1];function b(){m.current!==null&&m.current.close().catch(function(){})}return!((t=m.current)===null||t===void 0)&&t.updateProps&&m.current.updateProps({message:i.message}),p.useEffect(function(){if(T===!1)return b;var O=ee(w.dataNamespace);if(O===void 0||O.Buttons===void 0)return I(function(){throw new Error(re({reactComponentName:M.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:w.components,sdkDataNamespace:w[h.DATA_NAMESPACE]}))}),b;var X=function(y,D){W(D),typeof i.onInit=="function"&&i.onInit(y,D)};try{m.current=O.Buttons(l(l({},N),{onInit:X}))}catch(y){return I(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(y))})}return m.current.isEligible()===!1?($(!1),b):(f.current&&m.current.render(f.current).catch(function(y){f.current===null||f.current.children.length===0||I(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(y))})}),b)},U(U([T],d,!0),[i.fundingSource],!1)),p.useEffect(function(){R!==null&&(o===!0?R.disable().catch(function(){}):R.enable().catch(function(){}))},[o,R]),A.createElement(A.Fragment,null,F?A.createElement("div",{ref:f,style:u,className:E}):c)};M.displayName="PayPalButtons";function se(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function ue(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var n=V(e,t),a=r.cloneNode();if(delete a.dataset.uidAuto,Object.keys(a.dataset).length!==Object.keys(n.dataset).length)return null;var o=!0;return Object.keys(a.dataset).forEach(function(c){a.dataset[c]!==n.dataset[c]&&(o=!1)}),o?r:null}function le(e){var t=e.url,r=e.attributes,n=e.onSuccess,a=e.onError,o=V(t,r);o.onerror=a,o.onload=n,document.head.insertBefore(o,document.head.firstElementChild)}function de(e){var t=e.sdkBaseUrl,r=e.environment,n=se(e,["sdkBaseUrl","environment"]),a=t||ve(r),o=n,c=Object.keys(o).filter(function(i){return typeof o[i]<"u"&&o[i]!==null&&o[i]!==""}).reduce(function(i,u){var E=o[u].toString();return u=fe(u),u.substring(0,4)==="data"||u==="crossorigin"?i.attributes[u]=E:i.queryParams[u]=E,i},{queryParams:{},attributes:{}}),s=c.queryParams,d=c.attributes;return s["merchant-id"]&&s["merchant-id"].indexOf(",")!==-1&&(d["data-merchant-id"]=s["merchant-id"],s["merchant-id"]="*"),{url:"".concat(a,"?").concat(pe(s)),attributes:d}}function fe(e){var t=function(r,n){return(n?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,t)}function pe(e){var t="";return Object.keys(e).forEach(function(r){t.length!==0&&(t+="&"),t+=r+"="+e[r]}),t}function ve(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function V(e,t){t===void 0&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(n){r.setAttribute(n,t[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function Ee(e,t){if(t===void 0&&(t=Promise),J(e,t),typeof document>"u")return t.resolve(null);var r=de(e),n=r.url,a=r.attributes,o=a["data-namespace"]||"paypal",c=B(o);return a["data-js-sdk-library"]||(a["data-js-sdk-library"]="paypal-js"),ue(n,a)&&c?t.resolve(c):me({url:n,attributes:a},t).then(function(){var s=B(o);if(s)return s;throw new Error("The window.".concat(o," global variable is not available."))})}function me(e,t){t===void 0&&(t=Promise),J(e,t);var r=e.url,n=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new t(function(a,o){if(typeof document>"u")return a();le({url:r,attributes:n,onSuccess:function(){return a()},onError:function(){var c=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return o(c)}})})}function B(e){return window[e]}function J(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof t<"u"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}var be=function(e){var t,r=e.options,n=r===void 0?{clientId:"test"}:r,a=e.children,o=e.deferLoading,c=o===void 0?!1:o,s=p.useReducer(ae,{options:l(l({},n),(t={},t[h.DATA_JS_SDK_LIBRARY]=h.DATA_LIBRARY_VALUE,t[h.DATA_SDK_INTEGRATION_SOURCE]=h.DATA_LIBRARY_VALUE,t[g]="".concat(G(n)),t)),loadingStatus:c?v.INITIAL:v.PENDING}),d=s[0],i=s[1];return p.useEffect(function(){if(c===!1&&d.loadingStatus===v.INITIAL)return i({type:S.LOADING_STATUS,value:v.PENDING});if(d.loadingStatus===v.PENDING){var u=!0;return Ee(d.options).then(function(){u&&i({type:S.LOADING_STATUS,value:v.RESOLVED})}).catch(function(E){console.error("".concat(Y," ").concat(E)),u&&i({type:S.LOADING_STATUS,value:{state:v.REJECTED,message:String(E)}})}),function(){u=!1}}},[d.options,c,d.loadingStatus]),A.createElement(K.Provider,{value:l(l({},d),{dispatch:i})},a)};function L(){}p.createContext({cardFieldsForm:null,fields:{},registerField:L,unregisterField:L});export{be as P,he as _,M as a};
