import{j as Ce,w as _e,a as Pe,b as Le,u as Be,r as _}from"./chunk-WWGJGFF6-C0NtPc5H.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{D as ie}from"./luxon-BDx6lZXm.js";import{t as k}from"./index-XQpFve_7.js";import{c as q}from"./utils-BQHNewu7.js";import{A as Ae,a as Oe,b as Me,c as Se,d as Ie,e as He,f as ze,g as qe,h as Qe}from"./alert-dialog-DHfOMHGJ.js";import{T as Fe}from"./TokenTopUpModal-DTqrfSPU.js";import{B as P,D as Q,b as F,c as U,d as G,e as W,C as ne}from"./dialog-Dd6_L6Vt.js";import{g as Ue}from"./_commonjsHelpers-DaWZu8wl.js";import{C as L,f as Ge,a as We}from"./chain-labels-DS9REp7K.js";import{c as A,W as Ke}from"./wallet-BD6zqWLa.js";import{C as oe}from"./copy-BnkQp-a_.js";import"./index-Dc7LDrXT.js";import"./react-paypal-js-PCT-g0U3.js";import"./subscription-plans-B7yAUbGr.js";import"./index.min-BJIztz5B.js";const $e=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Xe=A("external-link",$e);const Ye=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],le=A("history",Ye);const Je=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Ve=A("qr-code",Je);const Ze=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],de=A("refresh-cw",Ze);var R={},K={exports:{}},$,ce;function et(){if(ce)return $;ce=1;var m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $=m,$}var X,ue;function tt(){if(ue)return X;ue=1;var m=et();function c(){}function a(){}return a.resetWarningCache=c,X=function(){function u(l,s,r,t,o,n){if(n!==m){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}u.isRequired=u;function h(){return u}var i={array:u,bigint:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:h,element:u,elementType:u,instanceOf:h,node:u,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:a,resetWarningCache:c};return i.PropTypes=i,i},X}var he;function Te(){return he||(he=1,K.exports=tt()()),K.exports}var Y,fe;function Ee(){return fe||(fe=1,Y={L:1,M:0,Q:3,H:2}),Y}var J,me;function ke(){return me||(me=1,J={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),J}var V,ge;function rt(){if(ge)return V;ge=1;var m=ke();function c(a){this.mode=m.MODE_8BIT_BYTE,this.data=a}return c.prototype={getLength:function(a){return this.data.length},write:function(a){for(var u=0;u<this.data.length;u++)a.put(this.data.charCodeAt(u),8)}},V=c,V}var Z,pe;function st(){if(pe)return Z;pe=1;var m=Ee();function c(a,u){this.totalCount=a,this.dataCount=u}return c.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],c.getRSBlocks=function(a,u){var h=c.getRsBlockTable(a,u);if(h==null)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+u);for(var i=h.length/3,l=new Array,s=0;s<i;s++)for(var r=h[s*3+0],t=h[s*3+1],o=h[s*3+2],n=0;n<r;n++)l.push(new c(t,o));return l},c.getRsBlockTable=function(a,u){switch(u){case m.L:return c.RS_BLOCK_TABLE[(a-1)*4+0];case m.M:return c.RS_BLOCK_TABLE[(a-1)*4+1];case m.Q:return c.RS_BLOCK_TABLE[(a-1)*4+2];case m.H:return c.RS_BLOCK_TABLE[(a-1)*4+3];default:return}},Z=c,Z}var ee,xe;function at(){if(xe)return ee;xe=1;function m(){this.buffer=new Array,this.length=0}return m.prototype={get:function(c){var a=Math.floor(c/8);return(this.buffer[a]>>>7-c%8&1)==1},put:function(c,a){for(var u=0;u<a;u++)this.putBit((c>>>a-u-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(c){var a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),c&&(this.buffer[a]|=128>>>this.length%8),this.length++}},ee=m,ee}var te,ve;function De(){if(ve)return te;ve=1;for(var m={glog:function(a){if(a<1)throw new Error("glog("+a+")");return m.LOG_TABLE[a]},gexp:function(a){for(;a<0;)a+=255;for(;a>=256;)a-=255;return m.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},c=0;c<8;c++)m.EXP_TABLE[c]=1<<c;for(var c=8;c<256;c++)m.EXP_TABLE[c]=m.EXP_TABLE[c-4]^m.EXP_TABLE[c-5]^m.EXP_TABLE[c-6]^m.EXP_TABLE[c-8];for(var c=0;c<255;c++)m.LOG_TABLE[m.EXP_TABLE[c]]=c;return te=m,te}var re,be;function Re(){if(be)return re;be=1;var m=De();function c(a,u){if(a.length==null)throw new Error(a.length+"/"+u);for(var h=0;h<a.length&&a[h]==0;)h++;this.num=new Array(a.length-h+u);for(var i=0;i<a.length-h;i++)this.num[i]=a[i+h]}return c.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var u=new Array(this.getLength()+a.getLength()-1),h=0;h<this.getLength();h++)for(var i=0;i<a.getLength();i++)u[h+i]^=m.gexp(m.glog(this.get(h))+m.glog(a.get(i)));return new c(u,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var u=m.glog(this.get(0))-m.glog(a.get(0)),h=new Array(this.getLength()),i=0;i<this.getLength();i++)h[i]=this.get(i);for(var i=0;i<a.getLength();i++)h[i]^=m.gexp(m.glog(a.get(i))+u);return new c(h,0).mod(a)}},re=c,re}var se,we;function it(){if(we)return se;we=1;var m=ke(),c=Re(),a=De(),u={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(i){for(var l=i<<10;h.getBCHDigit(l)-h.getBCHDigit(h.G15)>=0;)l^=h.G15<<h.getBCHDigit(l)-h.getBCHDigit(h.G15);return(i<<10|l)^h.G15_MASK},getBCHTypeNumber:function(i){for(var l=i<<12;h.getBCHDigit(l)-h.getBCHDigit(h.G18)>=0;)l^=h.G18<<h.getBCHDigit(l)-h.getBCHDigit(h.G18);return i<<12|l},getBCHDigit:function(i){for(var l=0;i!=0;)l++,i>>>=1;return l},getPatternPosition:function(i){return h.PATTERN_POSITION_TABLE[i-1]},getMask:function(i,l,s){switch(i){case u.PATTERN000:return(l+s)%2==0;case u.PATTERN001:return l%2==0;case u.PATTERN010:return s%3==0;case u.PATTERN011:return(l+s)%3==0;case u.PATTERN100:return(Math.floor(l/2)+Math.floor(s/3))%2==0;case u.PATTERN101:return l*s%2+l*s%3==0;case u.PATTERN110:return(l*s%2+l*s%3)%2==0;case u.PATTERN111:return(l*s%3+(l+s)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}},getErrorCorrectPolynomial:function(i){for(var l=new c([1],0),s=0;s<i;s++)l=l.multiply(new c([1,a.gexp(s)],0));return l},getLengthInBits:function(i,l){if(1<=l&&l<10)switch(i){case m.MODE_NUMBER:return 10;case m.MODE_ALPHA_NUM:return 9;case m.MODE_8BIT_BYTE:return 8;case m.MODE_KANJI:return 8;default:throw new Error("mode:"+i)}else if(l<27)switch(i){case m.MODE_NUMBER:return 12;case m.MODE_ALPHA_NUM:return 11;case m.MODE_8BIT_BYTE:return 16;case m.MODE_KANJI:return 10;default:throw new Error("mode:"+i)}else if(l<41)switch(i){case m.MODE_NUMBER:return 14;case m.MODE_ALPHA_NUM:return 13;case m.MODE_8BIT_BYTE:return 16;case m.MODE_KANJI:return 12;default:throw new Error("mode:"+i)}else throw new Error("type:"+l)},getLostPoint:function(i){for(var l=i.getModuleCount(),s=0,r=0;r<l;r++)for(var t=0;t<l;t++){for(var o=0,n=i.isDark(r,t),d=-1;d<=1;d++)if(!(r+d<0||l<=r+d))for(var p=-1;p<=1;p++)t+p<0||l<=t+p||d==0&&p==0||n==i.isDark(r+d,t+p)&&o++;o>5&&(s+=3+o-5)}for(var r=0;r<l-1;r++)for(var t=0;t<l-1;t++){var f=0;i.isDark(r,t)&&f++,i.isDark(r+1,t)&&f++,i.isDark(r,t+1)&&f++,i.isDark(r+1,t+1)&&f++,(f==0||f==4)&&(s+=3)}for(var r=0;r<l;r++)for(var t=0;t<l-6;t++)i.isDark(r,t)&&!i.isDark(r,t+1)&&i.isDark(r,t+2)&&i.isDark(r,t+3)&&i.isDark(r,t+4)&&!i.isDark(r,t+5)&&i.isDark(r,t+6)&&(s+=40);for(var t=0;t<l;t++)for(var r=0;r<l-6;r++)i.isDark(r,t)&&!i.isDark(r+1,t)&&i.isDark(r+2,t)&&i.isDark(r+3,t)&&i.isDark(r+4,t)&&!i.isDark(r+5,t)&&i.isDark(r+6,t)&&(s+=40);for(var g=0,t=0;t<l;t++)for(var r=0;r<l;r++)i.isDark(r,t)&&g++;var v=Math.abs(100*g/l/l-50)/5;return s+=v*10,s}};return se=h,se}var ae,ye;function nt(){if(ye)return ae;ye=1;var m=rt(),c=st(),a=at(),u=it(),h=Re();function i(s,r){this.typeNumber=s,this.errorCorrectLevel=r,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var l=i.prototype;return l.addData=function(s){var r=new m(s);this.dataList.push(r),this.dataCache=null},l.isDark=function(s,r){if(s<0||this.moduleCount<=s||r<0||this.moduleCount<=r)throw new Error(s+","+r);return this.modules[s][r]},l.getModuleCount=function(){return this.moduleCount},l.make=function(){if(this.typeNumber<1){var s=1;for(s=1;s<40;s++){for(var r=c.getRSBlocks(s,this.errorCorrectLevel),t=new a,o=0,n=0;n<r.length;n++)o+=r[n].dataCount;for(var n=0;n<this.dataList.length;n++){var d=this.dataList[n];t.put(d.mode,4),t.put(d.getLength(),u.getLengthInBits(d.mode,s)),d.write(t)}if(t.getLengthInBits()<=o*8)break}this.typeNumber=s}this.makeImpl(!1,this.getBestMaskPattern())},l.makeImpl=function(s,r){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var t=0;t<this.moduleCount;t++){this.modules[t]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[t][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(s,r),this.typeNumber>=7&&this.setupTypeNumber(s),this.dataCache==null&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},l.setupPositionProbePattern=function(s,r){for(var t=-1;t<=7;t++)if(!(s+t<=-1||this.moduleCount<=s+t))for(var o=-1;o<=7;o++)r+o<=-1||this.moduleCount<=r+o||(0<=t&&t<=6&&(o==0||o==6)||0<=o&&o<=6&&(t==0||t==6)||2<=t&&t<=4&&2<=o&&o<=4?this.modules[s+t][r+o]=!0:this.modules[s+t][r+o]=!1)},l.getBestMaskPattern=function(){for(var s=0,r=0,t=0;t<8;t++){this.makeImpl(!0,t);var o=u.getLostPoint(this);(t==0||s>o)&&(s=o,r=t)}return r},l.createMovieClip=function(s,r,t){var o=s.createEmptyMovieClip(r,t),n=1;this.make();for(var d=0;d<this.modules.length;d++)for(var p=d*n,f=0;f<this.modules[d].length;f++){var g=f*n,v=this.modules[d][f];v&&(o.beginFill(0,100),o.moveTo(g,p),o.lineTo(g+n,p),o.lineTo(g+n,p+n),o.lineTo(g,p+n),o.endFill())}return o},l.setupTimingPattern=function(){for(var s=8;s<this.moduleCount-8;s++)this.modules[s][6]==null&&(this.modules[s][6]=s%2==0);for(var r=8;r<this.moduleCount-8;r++)this.modules[6][r]==null&&(this.modules[6][r]=r%2==0)},l.setupPositionAdjustPattern=function(){for(var s=u.getPatternPosition(this.typeNumber),r=0;r<s.length;r++)for(var t=0;t<s.length;t++){var o=s[r],n=s[t];if(this.modules[o][n]==null)for(var d=-2;d<=2;d++)for(var p=-2;p<=2;p++)d==-2||d==2||p==-2||p==2||d==0&&p==0?this.modules[o+d][n+p]=!0:this.modules[o+d][n+p]=!1}},l.setupTypeNumber=function(s){for(var r=u.getBCHTypeNumber(this.typeNumber),t=0;t<18;t++){var o=!s&&(r>>t&1)==1;this.modules[Math.floor(t/3)][t%3+this.moduleCount-8-3]=o}for(var t=0;t<18;t++){var o=!s&&(r>>t&1)==1;this.modules[t%3+this.moduleCount-8-3][Math.floor(t/3)]=o}},l.setupTypeInfo=function(s,r){for(var t=this.errorCorrectLevel<<3|r,o=u.getBCHTypeInfo(t),n=0;n<15;n++){var d=!s&&(o>>n&1)==1;n<6?this.modules[n][8]=d:n<8?this.modules[n+1][8]=d:this.modules[this.moduleCount-15+n][8]=d}for(var n=0;n<15;n++){var d=!s&&(o>>n&1)==1;n<8?this.modules[8][this.moduleCount-n-1]=d:n<9?this.modules[8][15-n-1+1]=d:this.modules[8][15-n-1]=d}this.modules[this.moduleCount-8][8]=!s},l.mapData=function(s,r){for(var t=-1,o=this.moduleCount-1,n=7,d=0,p=this.moduleCount-1;p>0;p-=2)for(p==6&&p--;;){for(var f=0;f<2;f++)if(this.modules[o][p-f]==null){var g=!1;d<s.length&&(g=(s[d]>>>n&1)==1);var v=u.getMask(r,o,p-f);v&&(g=!g),this.modules[o][p-f]=g,n--,n==-1&&(d++,n=7)}if(o+=t,o<0||this.moduleCount<=o){o-=t,t=-t;break}}},i.PAD0=236,i.PAD1=17,i.createData=function(s,r,t){for(var o=c.getRSBlocks(s,r),n=new a,d=0;d<t.length;d++){var p=t[d];n.put(p.mode,4),n.put(p.getLength(),u.getLengthInBits(p.mode,s)),p.write(n)}for(var f=0,d=0;d<o.length;d++)f+=o[d].dataCount;if(n.getLengthInBits()>f*8)throw new Error("code length overflow. ("+n.getLengthInBits()+">"+f*8+")");for(n.getLengthInBits()+4<=f*8&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;!(n.getLengthInBits()>=f*8||(n.put(i.PAD0,8),n.getLengthInBits()>=f*8));)n.put(i.PAD1,8);return i.createBytes(n,o)},i.createBytes=function(s,r){for(var t=0,o=0,n=0,d=new Array(r.length),p=new Array(r.length),f=0;f<r.length;f++){var g=r[f].dataCount,v=r[f].totalCount-g;o=Math.max(o,g),n=Math.max(n,v),d[f]=new Array(g);for(var x=0;x<d[f].length;x++)d[f][x]=255&s.buffer[x+t];t+=g;var w=u.getErrorCorrectPolynomial(v),j=new h(d[f],w.getLength()-1),y=j.mod(w);p[f]=new Array(w.getLength()-1);for(var x=0;x<p[f].length;x++){var E=x+y.getLength()-p[f].length;p[f][x]=E>=0?y.get(E):0}}for(var C=0,x=0;x<r.length;x++)C+=r[x].totalCount;for(var N=new Array(C),D=0,x=0;x<o;x++)for(var f=0;f<r.length;f++)x<d[f].length&&(N[D++]=d[f][x]);for(var x=0;x<n;x++)for(var f=0;f<r.length;f++)x<p[f].length&&(N[D++]=p[f][x]);return N},ae=i,ae}var B={},Ne;function ot(){if(Ne)return B;Ne=1,Object.defineProperty(B,"__esModule",{value:!0});var m=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(t[d]=n[d])}return t},c=Te(),a=i(c),u=Ce(),h=i(u);function i(t){return t&&t.__esModule?t:{default:t}}function l(t,o){var n={};for(var d in t)o.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(t,d)&&(n[d]=t[d]);return n}var s={bgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,bgD:a.default.string.isRequired,fgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,fgD:a.default.string.isRequired,size:a.default.number.isRequired,title:a.default.string,viewBoxSize:a.default.number.isRequired,xmlns:a.default.string},r=(0,u.forwardRef)(function(t,o){var n=t.bgColor,d=t.bgD,p=t.fgD,f=t.fgColor,g=t.size,v=t.title,x=t.viewBoxSize,w=t.xmlns,j=w===void 0?"http://www.w3.org/2000/svg":w,y=l(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return h.default.createElement("svg",m({},y,{height:g,ref:o,viewBox:"0 0 "+x+" "+x,width:g,xmlns:j}),v?h.default.createElement("title",null,v):null,h.default.createElement("path",{d,fill:n}),h.default.createElement("path",{d:p,fill:f}))});return r.displayName="QRCodeSvg",r.propTypes=s,B.default=r,B}var je;function lt(){if(je)return R;je=1,Object.defineProperty(R,"__esModule",{value:!0}),R.QRCode=void 0;var m=Object.assign||function(g){for(var v=1;v<arguments.length;v++){var x=arguments[v];for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(g[w]=x[w])}return g},c=Te(),a=n(c),u=Ee(),h=n(u),i=nt(),l=n(i),s=Ce(),r=n(s),t=ot(),o=n(t);function n(g){return g&&g.__esModule?g:{default:g}}function d(g,v){var x={};for(var w in g)v.indexOf(w)>=0||Object.prototype.hasOwnProperty.call(g,w)&&(x[w]=g[w]);return x}var p={bgColor:a.default.oneOfType([a.default.object,a.default.string]),fgColor:a.default.oneOfType([a.default.object,a.default.string]),level:a.default.string,size:a.default.number,value:a.default.string.isRequired},f=(0,s.forwardRef)(function(g,v){var x=g.bgColor,w=x===void 0?"#FFFFFF":x,j=g.fgColor,y=j===void 0?"#000000":j,E=g.level,C=E===void 0?"L":E,N=g.size,D=N===void 0?256:N,O=g.value,M=d(g,["bgColor","fgColor","level","size","value"]),b=new l.default(-1,h.default[C]);b.addData(O),b.make();var T=b.modules;return r.default.createElement(o.default,m({},M,{bgColor:w,bgD:T.map(function(S,I){return S.map(function(H,z){return H?"":"M "+z+" "+I+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:y,fgD:T.map(function(S,I){return S.map(function(H,z){return H?"M "+z+" "+I+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:v,size:D,viewBoxSize:T.length}))});return R.QRCode=f,f.displayName="QRCode",f.propTypes=p,R.default=f,R}var dt=lt();const ct=Ue(dt);function ut({chocoBalance:m,nearBalance:c,nearAccountId:a,depositDialogOpen:u,swapDialogOpen:h,historyDialogOpen:i,onDepositDialogChange:l,onSwapDialogChange:s,onHistoryDialogChange:r,onScanDeposits:t,isScanning:o,history:n,onCopyAddress:d,nearPriceUSD:p}){const f=g=>new Date(g).toLocaleString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"px-4 pb-4",children:[e.jsxs("div",{className:"p-5 rounded-3xl bg-linear-to-br from-violet-600 via-indigo-600 to-purple-700 text-white shadow-xl ring-1 ring-white/10 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-48 h-48 rounded-full bg-white/10 blur-2xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 w-32 h-32 rounded-full bg-black/10 blur-xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-indigo-200 font-medium mb-1 tracking-wider uppercase",children:"My Wallet"}),e.jsxs("div",{className:"flex items-baseline gap-1.5",children:[e.jsx("h3",{className:"text-3xl font-bold tracking-tight",children:parseInt(m||"0").toLocaleString()}),e.jsx("span",{className:"text-sm font-semibold text-indigo-200",children:"CHOCO"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("div",{className:"text-sm text-indigo-100 flex items-center gap-1 bg-white/10 px-2 py-0.5 rounded-full",children:e.jsxs("span",{className:"font-medium",children:["≈ ",c,""]})}),e.jsx("span",{className:"text-[10px] text-indigo-300 bg-indigo-950/30 px-2 py-0.5 rounded-full border border-indigo-400/20",children:"가스비 무료"})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{onClick:()=>r(!0),className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors text-white",children:e.jsx(le,{className:"w-5 h-5"})})})]}),e.jsxs("div",{className:"mb-6 flex items-center gap-2 bg-black/20 p-2 rounded-lg cursor-pointer hover:bg-black/30 transition-colors",onClick:d,children:[e.jsx("div",{className:"p-1.5 bg-white/10 rounded-md",children:e.jsx(Ke,{className:"w-3.5 h-3.5"})}),e.jsx("code",{className:"text-xs font-mono text-indigo-100 flex-1 truncate",children:a||"지갑 주소 없음"}),e.jsx(oe,{className:"w-3.5 h-3.5 text-indigo-300 mr-1"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(P,{onClick:()=>l(!0),size:"lg",className:"bg-white text-indigo-700 hover:bg-indigo-50 border-0 font-bold shadow-sm",children:[e.jsx(Ve,{className:"w-4 h-4 mr-2"}),"입금 (Receive)"]}),e.jsxs(P,{onClick:()=>s(!0),size:"lg",className:"bg-indigo-800/50 hover:bg-indigo-800/70 text-indigo-100 border border-indigo-500/30 shadow-sm backdrop-blur-sm",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"환전 (Swap)"]})]})]})]}),e.jsx(Q,{open:u,onOpenChange:l,children:e.jsxs(F,{children:[e.jsxs(U,{children:[e.jsx(G,{children:L.DEPOSIT_DIALOG_TITLE}),e.jsx(W,{children:L.DEPOSIT_INSTRUCTION})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center py-6 space-y-6",children:[e.jsx("div",{className:"p-4 bg-white rounded-xl shadow-inner border mx-auto",children:a&&e.jsx(ct,{value:a,size:160})}),e.jsx("div",{className:"text-center w-full px-4",children:e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-100 dark:bg-slate-800 rounded-lg w-full",children:[e.jsx("code",{className:"flex-1 text-xs font-mono break-all text-left text-slate-600 dark:text-slate-300",children:a}),e.jsx(P,{size:"icon",variant:"ghost",className:"h-8 w-8 shrink-0",onClick:d,children:e.jsx(oe,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg text-xs text-blue-600 dark:text-blue-300 text-center w-full max-w-xs",children:[e.jsx("span",{className:"font-bold",children:"실시간 시장 시세 적용"}),e.jsx("br",{}),"입금 확인 시 1단위당 약 ",(p*1e3).toLocaleString()," CHOCO로 자동 환전됩니다."]})]})]})}),e.jsx(Q,{open:h,onOpenChange:s,children:e.jsxs(F,{children:[e.jsxs(U,{children:[e.jsx(G,{children:"토큰 환전 (Auto-Swap)"}),e.jsx(W,{children:L.SWAP_DESCRIPTION})]}),e.jsxs("div",{className:"py-8 text-center space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-indigo-500/20 blur-xl rounded-full"}),e.jsxs("div",{className:"relative p-6 bg-slate-50 dark:bg-slate-800/80 rounded-2xl border border-slate-200 dark:border-slate-700",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 mb-2",children:"현재 적용 환율"}),e.jsxs("div",{className:"flex items-center justify-center gap-3 text-2xl font-bold text-slate-900 dark:text-white",children:[e.jsx("span",{children:L.RATE_FROM_UNIT}),e.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"arrow_right_alt"}),e.jsxs("span",{className:"text-primary",children:[(p*1e3).toLocaleString()," CHOCO"]})]})]})]}),e.jsxs("p",{className:"text-sm text-slate-500 leading-relaxed",children:[L.DEPOSIT_CONFIRM_PROMPT,e.jsx("br",{}),"아래 버튼을 누르면 ",e.jsx("b",{children:"최신 입금 내역"}),"을 확인하고",e.jsx("br",{}),"자동으로 환전하여 지갑에 넣어드립니다."]})]}),e.jsx(ne,{children:e.jsx(P,{onClick:t,disabled:o,className:"w-full h-12 text-base",children:o?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"w-5 h-5 mr-2 animate-spin"}),"블록체인 스캔 중..."]}):"입금 확인 및 환전 실행"})})]})}),e.jsx(Q,{open:i,onOpenChange:r,children:e.jsxs(F,{className:"max-w-md h-[80vh] flex flex-col p-0 gap-0 overflow-hidden rounded-3xl",children:[e.jsxs(U,{className:"p-6 pb-2",children:[e.jsx(G,{children:"사용 내역 (History)"}),e.jsx(W,{children:"최근 환전 및 사용 기록입니다."})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-2",children:n.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 space-y-3 opacity-60",children:[e.jsx(le,{className:"w-12 h-12"}),e.jsx("p",{className:"text-sm",children:"아직 기록이 없습니다."})]}):e.jsx("div",{className:"space-y-4 pb-6",children:n.map(g=>e.jsxs("div",{className:"flex flex-col bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 gap-3 border border-slate-100 dark:border-slate-800",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-md ${g.fromChain==="NEAR"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"bg-slate-100 text-slate-700"}`,children:Ge(g.fromChain)}),e.jsx("span",{className:"text-xs text-slate-400",children:f(g.createdAt)})]})}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-primary",children:["+",parseInt(g.toAmount).toLocaleString()]}),e.jsx("p",{className:"text-xs text-slate-400",children:g.toToken})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs bg-slate-100 dark:bg-black/20 p-2 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[e.jsxs("span",{children:["환율: 1:",g.rate]}),e.jsx("span",{className:"w-px h-2.5 bg-slate-300 dark:bg-slate-700"}),e.jsxs("span",{className:"text-slate-400",children:[g.fromAmount," ",We(g.fromChain)]})]}),e.jsxs("a",{href:`https://testnet.nearblocks.io/txns/${g.txHash}`,target:"_blank",rel:"noreferrer",className:"flex items-center gap-1 text-blue-500 hover:text-blue-600 font-medium",children:["Tx 확인 ",e.jsx(Xe,{className:"w-3 h-3"})]})]})]},g.id))})}),e.jsx(ne,{className:"p-4 border-t border-slate-100 dark:border-slate-800",children:e.jsx(P,{variant:"outline",onClick:()=>r(!1),className:"w-full",children:"닫기"})})]})})]})}const Dt=_e(function(){const{user:c,payments:a,paypalClientId:u,tossClientKey:h,nearBalance:i,history:l,nearPriceUSD:s}=Pe(),r=Le(),t=Be(),[o,n]=_.useState(!1),[d,p]=_.useState(!1),[f,g]=_.useState(!1),[v,x]=_.useState(!1),[w,j]=_.useState(!1),y=c?.subscriptionStatus==="ACTIVE",E=c?.subscriptionStatus==="CANCELLED",C=c?.subscriptionTier||"FREE",N=b=>{if(!b)return"-";let T;return b instanceof Date?T=ie.fromJSDate(b):T=ie.fromISO(b.toString()),T.isValid?T.setLocale("ko").toFormat("yyyy. MM. dd"):"-"},D=()=>{t.submit({},{method:"POST",action:"/api/payment/cancel-subscription"})};t.data?.success&&y?k.success("구독이 취소되었습니다."):t.data?.error&&k.error(t.data.error);const O=async()=>{j(!0);try{(await fetch("/api/wallet/check-deposit",{method:"POST"})).ok?(k.success("입금 확인 및 자동 환전이 완료되었습니다."),r(".",{replace:!0}),g(!1)):k.error("확인 중 오류가 발생했습니다.")}catch{k.error("서버 연결 실패")}finally{j(!1)}},M=async()=>{if(c?.nearAccountId)try{await navigator.clipboard.writeText(c.nearAccountId),k.success("주소가 복사되었습니다.")}catch{k.error("복사에 실패했습니다.")}};return e.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark text-foreground flex flex-col max-w-md mx-auto relative shadow-2xl overflow-hidden",children:[e.jsxs("header",{className:"sticky top-0 z-50 bg-background-dark/80 backdrop-blur-md border-b border-white/5 px-4 h-14 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>r(-1),className:"flex items-center justify-center text-white/80 hover:text-primary transition-colors size-10 rounded-full hover:bg-white/5",children:e.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"arrow_back_ios_new"})}),e.jsx("h1",{className:"text-base font-bold tracking-tight text-white/90",children:"충전 및 결제 관리"}),e.jsx("div",{className:"w-10"})]}),e.jsxs("main",{className:"flex-1 p-4 space-y-6 pb-24 overflow-y-auto",children:[e.jsx(ut,{chocoBalance:c?.chocoBalance||"0",nearBalance:i,nearAccountId:c?.nearAccountId||null,depositDialogOpen:d,swapDialogOpen:f,historyDialogOpen:v,onDepositDialogChange:p,onSwapDialogChange:g,onHistoryDialogChange:x,onScanDeposits:O,isScanning:w,history:l,onCopyAddress:M,nearPriceUSD:s}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xs font-bold text-white/40 uppercase tracking-widest mb-3 ml-2",children:"현재 멤버십"}),e.jsxs("div",{className:q("relative rounded-2xl p-6 border overflow-hidden",y?"bg-surface-dark border-primary/30":"bg-surface-dark border-white/5"),children:[y&&e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/10 rounded-full blur-3xl -translate-y-10 translate-x-10 pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex flex-col gap-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("h3",{className:"text-xl font-bold text-white tracking-tight uppercase",children:[C," PLAN"]}),y&&e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-green-500/20 text-green-400 text-[10px] font-bold border border-green-500/30",children:"ACTIVE"}),E&&e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-orange-500/20 text-orange-400 text-[10px] font-bold border border-orange-500/30",children:"CANCELLED"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{onClick:()=>n(!0),className:"inline-flex items-center justify-center gap-1 px-4 py-1.5 rounded-full bg-primary hover:bg-primary/90 text-white text-[13px] font-extrabold tracking-tight transition-colors cursor-pointer z-20 relative shadow-lg shadow-primary/25",children:[e.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"bolt"}),e.jsx("span",{children:"CHOCO 충전하기"})]})})]}),e.jsx("div",{className:"size-10 rounded-full bg-white/5 flex items-center justify-center border border-white/10",children:e.jsx("span",{className:"material-symbols-outlined text-white/70",children:C==="ULTIMATE"?"crown":C==="PREMIUM"?"diamond":"bolt"})})]}),e.jsx("div",{className:"h-px bg-white/10"}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-white/60",children:"다음 결제일 (만료일)"}),e.jsx("span",{className:"text-white font-medium",children:N(c?.currentPeriodEnd??null)})]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("button",{onClick:()=>r("/pricing"),className:"flex-1 py-2.5 rounded-xl bg-white/5 hover:bg-white/10 text-white text-sm font-medium transition-colors border border-white/10 cursor-pointer relative z-20",children:C==="FREE"?"멤버십 시작하기":"멤버십 변경"}),y&&e.jsxs(Ae,{children:[e.jsx(Oe,{children:e.jsx("button",{className:"px-4 py-2.5 rounded-xl bg-red-500/10 hover:bg-red-500/20 text-red-500 text-sm font-medium transition-colors border border-red-500/20 cursor-pointer relative z-20",children:"구독 해지"})}),e.jsxs(Me,{className:"bg-surface-dark border-white/10 text-white rounded-2xl max-w-xs",children:[e.jsxs(Se,{children:[e.jsx(Ie,{children:"정말 구독을 해지하시겠습니까?"}),e.jsxs(He,{className:"text-white/60",children:["구독을 해지하더라도 현재 기간이 끝날 때까지(",N(c?.currentPeriodEnd),")는 혜택이 유지됩니다."]})]}),e.jsxs(ze,{children:[e.jsx(qe,{className:"bg-transparent border-white/10 hover:bg-white/5 text-white",children:"닫기"}),e.jsx(Qe,{onClick:D,className:"bg-red-600 hover:bg-red-700 text-white border-0",children:"해지 확정"})]})]})]})]})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xs font-bold text-white/40 uppercase tracking-widest mb-3 ml-2",children:"결제 내역"}),e.jsx("div",{className:"bg-surface-dark border border-white/5 rounded-2xl overflow-hidden",children:a.length===0?e.jsxs("div",{className:"p-8 text-center text-white/30 text-sm",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl mb-2 block opacity-50",children:"receipt_long"}),"결제 내역이 없습니다."]}):e.jsx("div",{className:"divide-y divide-white/5",children:a.map(b=>e.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-white/5 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:q("size-10 rounded-full flex items-center justify-center shrink-0",b.status==="COMPLETED"?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"),children:e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:b.type.includes("SUBSCRIPTION")?"autorenew":"payments"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white",children:(b.description||"CHOCO Top-up").replace(/Credits/g,"CHOCO")}),e.jsx("p",{className:"text-xs text-white/50",children:N(b.createdAt)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-white",children:b.amount>0?`$${b.amount}`:"Free"}),e.jsx("p",{className:q("text-[10px] font-bold uppercase",b.status==="COMPLETED"?"text-green-500":"text-red-500"),children:b.status})]})]},b.id))})})]})]}),e.jsx(Fe,{open:o,onOpenChange:n,paypalClientId:u,tossClientKey:h})]})});export{Dt as default};
