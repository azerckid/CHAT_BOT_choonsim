import{w as d,a as n,b as o,u as x,r as h}from"./chunk-WWGJGFF6-C0NtPc5H.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{B as m}from"./BottomNavigation-vdZES2hj.js";import{c as r}from"./utils-BQHNewu7.js";import{t as l}from"./index-XQpFve_7.js";import"./_commonjsHelpers-DaWZu8wl.js";import"./index-Dc7LDrXT.js";const v=d(function(){const{missions:a}=n(),i=o(),s=x();h.useEffect(()=>{s.data?.success?l.success(`${s.data.reward} CHOCO claimed!`):s.data?.error&&l.error(s.data.error)},[s.data]);const c=t=>{s.submit({missionId:t,intent:"claim"},{method:"POST"})};return e.jsxs("div",{className:"bg-background-dark text-white font-display antialiased min-h-screen pb-24 max-w-md mx-auto shadow-2xl",children:[e.jsxs("div",{className:"sticky top-0 z-50 flex items-center bg-background-dark/80 backdrop-blur-md p-4 border-b border-white/5",children:[e.jsx("button",{onClick:()=>i(-1),className:"p-2 -ml-2 hover:text-primary transition-colors",children:e.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),e.jsx("h1",{className:"text-xl font-black tracking-tight ml-2",children:"Mission Center"})]}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-primary/20 to-purple-600/20 rounded-[32px] p-6 border border-white/10 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-symbols-outlined text-6xl",children:"military_tech"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h2",{className:"text-sm font-black text-white/60 uppercase tracking-[0.2em] mb-1",children:"Today's Progress"}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[e.jsx("span",{className:"text-4xl font-black text-white",children:a.filter(t=>t.status==="CLAIMED").length}),e.jsxs("span",{className:"text-lg font-bold text-white/40",children:["/ ",a.length]})]}),e.jsx("div",{className:"h-2 w-full bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary shadow-[0_0_10px_rgba(238,43,140,0.5)] transition-all duration-1000",style:{width:`${a.filter(t=>t.status==="CLAIMED").length/(a.length||1)*100}%`}})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-xs font-black text-white/40 uppercase tracking-[0.3em] flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-primary text-sm font-bold",children:"radar"}),"Open Missions"]}),e.jsx("div",{className:"grid gap-3",children:a.length===0?e.jsx("div",{className:"py-12 text-center bg-white/5 rounded-2xl border border-white/5",children:e.jsx("p",{className:"text-white/20 text-xs font-bold uppercase tracking-[0.2em]",children:"No missions available"})}):a.map(t=>e.jsxs("div",{className:r("bg-[#1A1821] border border-white/5 rounded-2xl p-4 transition-all",t.status==="CLAIMED"&&"opacity-50 grayscale"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:r("inline-flex items-center px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-wider mb-2",t.type==="DAILY"?"bg-blue-500/20 text-blue-400":"bg-purple-500/20 text-purple-400"),children:t.type}),e.jsx("h3",{className:"font-bold text-base text-white",children:t.title}),e.jsx("p",{className:"text-xs text-white/60",children:t.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-primary font-black text-sm",children:["+",t.rewardCredits]}),e.jsx("p",{className:"text-[10px] font-bold text-white/40 uppercase tracking-tighter",children:"CHOCO"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 h-1.5 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:r("h-full transition-all duration-500",t.status==="COMPLETED"||t.status==="CLAIMED"?"bg-emerald-500":"bg-primary"),style:{width:t.status==="CLAIMED"||t.status==="COMPLETED"?"100%":`${t.progress}%`}})}),t.status==="COMPLETED"&&e.jsx("button",{onClick:()=>c(t.id),disabled:s.state!=="idle",className:"px-4 py-1.5 bg-emerald-500 hover:bg-emerald-600 text-white text-xs font-black rounded-lg transition-all active:scale-95",children:"CLAIM"}),t.status==="CLAIMED"&&e.jsx("span",{className:"text-emerald-500 material-symbols-outlined",children:"check_circle"}),t.status==="IN_PROGRESS"&&e.jsxs("span",{className:"text-xs font-bold text-white/40",children:[t.progress,"%"]})]})]},t.id))})]})]}),e.jsx(m,{})]})});export{v as default};
