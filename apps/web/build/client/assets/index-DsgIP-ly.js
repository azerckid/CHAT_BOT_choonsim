import{w as d,a as x,c as p,L as a}from"./chunk-WWGJGFF6-C0NtPc5H.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{A as h}from"./AdminLayout-Buts2ej8.js";import{c as n}from"./utils-BQHNewu7.js";import{t as l}from"./index-XQpFve_7.js";import"./_commonjsHelpers-DaWZu8wl.js";import"./index-Dc7LDrXT.js";const y=d(function(){const{notices:i}=x(),r=p(),c=t=>{if(!confirm("Are you sure?"))return;const s=new FormData;s.append("intent","delete"),s.append("id",t),fetch(window.location.pathname,{method:"POST",body:s}).then(()=>{l.success("Notice deleted"),r.revalidate()})},o=t=>{const s=new FormData;s.append("intent","toggle_status"),s.append("id",t),fetch(window.location.pathname,{method:"POST",body:s}).then(()=>{l.success("Status updated"),r.revalidate()})};return e.jsx(h,{children:e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(a,{to:"/admin/content",className:"text-primary text-[10px] font-black uppercase tracking-widest flex items-center gap-1 hover:gap-2 transition-all group mb-2",children:[e.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"arrow_back"}),"Back to Studio"]}),e.jsxs("h1",{className:"text-4xl font-black italic tracking-tighter text-white uppercase",children:["Notice ",e.jsx("span",{className:"text-primary",children:"& Event"})]}),e.jsx("p",{className:"text-white/40 text-sm font-medium",children:"Publish news and system announcements."})]}),e.jsx(a,{to:"/admin/content/notices/new",className:"bg-primary text-black px-6 py-3 rounded-2xl font-black italic text-sm hover:scale-105 transition-all shadow-[0_0_20px_rgba(255,0,255,0.3)]",children:"+ NEW NOTICE"})]}),e.jsx("div",{className:"bg-[#1A1821] border border-white/5 rounded-[40px] overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/5 bg-white/2",children:[e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Type / Title"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-white/40 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5",children:i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-8 py-20 text-center text-white/20 font-black italic tracking-widest uppercase",children:"No notices published"})}):i.map(t=>e.jsxs("tr",{className:"hover:bg-white/1 transition-colors group",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:n("text-[8px] font-black uppercase px-2 py-0.5 rounded w-fit",t.type==="EVENT"?"bg-purple-500/20 text-purple-400":t.type==="NEWS"?"bg-blue-500/20 text-blue-400":"bg-white/10 text-white/40"),children:t.type}),e.jsx("span",{className:"text-sm font-bold text-white group-hover:text-primary transition-colors",children:t.title})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("button",{onClick:()=>o(t.id),className:n("px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter transition-all",t.isActive?"bg-primary/20 text-primary border border-primary/20":"bg-white/5 text-white/20 border border-white/5"),children:t.isActive?"Active":"Draft"})}),e.jsx("td",{className:"px-8 py-5 text-[10px] text-white/20 font-bold",children:new Date(t.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-8 py-5 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(a,{to:`/admin/content/notices/${t.id}`,className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-white/40 hover:text-white hover:bg-white/10 transition-all",children:e.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"edit"})}),e.jsx("button",{onClick:()=>c(t.id),className:"w-8 h-8 rounded-lg bg-red-500/10 flex items-center justify-center text-red-500 hover:bg-red-500 hover:text-white transition-all",children:e.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"delete"})})]})})]},t.id))})]})})]})})});export{y as default};
