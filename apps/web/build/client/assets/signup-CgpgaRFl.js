import{r as o,L as b,w as j,b as N}from"./chunk-WWGJGFF6-C0NtPc5H.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{c as g}from"./utils-BQHNewu7.js";import{b as S}from"./auth-client-DZcL3Ks9.js";import"./_commonjsHelpers-DaWZu8wl.js";function _({onSubmit:x,isLoading:r=!1,error:c}){const[s,m]=o.useState(""),[l,u]=o.useState(""),[a,p]=o.useState(""),[i,d]=o.useState(""),[n,w]=o.useState(!1),[h,k]=o.useState(!1),y=t=>{t.preventDefault(),a===i&&h&&x&&s&&l&&a&&x(s,l,a)},f=a&&i&&a===i,v=s&&l&&a&&i&&h&&f;return e.jsxs("form",{className:"flex flex-col gap-5",onSubmit:y,children:[c&&e.jsx("div",{className:"p-3 rounded-xl bg-red-500/10 border border-red-500/20 text-red-500 text-sm",children:c}),e.jsxs("label",{className:"flex flex-col w-full",children:[e.jsx("p",{className:"text-slate-700 dark:text-white text-sm font-semibold leading-normal pb-2 pl-1",children:"Email / ID"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",value:s,onChange:t=>m(t.target.value),placeholder:"Enter your email",className:"form-input flex w-full min-w-0 resize-none overflow-hidden rounded-xl text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-slate-200 dark:border-border-pink bg-white dark:bg-surface-dark-input focus:border-primary h-14 placeholder:text-slate-400 dark:placeholder:text-text-muted px-[15px] text-base font-normal leading-normal transition-all",disabled:r,required:!0}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-primary material-symbols-outlined text-[20px]",children:"mail"})]})]}),e.jsxs("label",{className:"flex flex-col w-full",children:[e.jsx("p",{className:"text-slate-700 dark:text-white text-sm font-semibold leading-normal pb-2 pl-1",children:"Nickname"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:l,onChange:t=>u(t.target.value),placeholder:"What should she call you?",className:"form-input flex w-full min-w-0 resize-none overflow-hidden rounded-xl text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-slate-200 dark:border-border-pink bg-white dark:bg-surface-dark-input focus:border-primary h-14 placeholder:text-slate-400 dark:placeholder:text-text-muted px-[15px] text-base font-normal leading-normal transition-all",disabled:r,required:!0}),e.jsx("span",{className:g("absolute right-4 top-1/2 -translate-y-1/2 text-green-400 material-symbols-outlined text-[20px] transition-opacity",l?"opacity-100":"opacity-0 text-gray-300"),children:"check_circle"})]})]}),e.jsxs("label",{className:"flex flex-col w-full",children:[e.jsx("p",{className:"text-slate-700 dark:text-white text-sm font-semibold leading-normal pb-2 pl-1",children:"Password"}),e.jsxs("div",{className:"relative group/pass",children:[e.jsx("input",{type:n?"text":"password",value:a,onChange:t=>p(t.target.value),placeholder:"Create a password",className:"form-input flex w-full min-w-0 resize-none overflow-hidden rounded-xl text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-slate-200 dark:border-border-pink bg-white dark:bg-surface-dark-input focus:border-primary h-14 placeholder:text-slate-400 dark:placeholder:text-text-muted px-[15px] text-base font-normal leading-normal transition-all",disabled:r,required:!0}),e.jsx("button",{type:"button",onClick:()=>w(!n),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-text-muted hover:text-primary transition-colors",children:e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:n?"visibility":"visibility_off"})})]})]}),e.jsxs("label",{className:"flex flex-col w-full",children:[e.jsx("p",{className:"text-slate-700 dark:text-white text-sm font-semibold leading-normal pb-2 pl-1",children:"Confirm Password"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"password",value:i,onChange:t=>d(t.target.value),placeholder:"Re-enter password",className:g("form-input flex w-full min-w-0 resize-none overflow-hidden rounded-xl text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border bg-white dark:bg-surface-dark-login h-14 placeholder:text-slate-400 dark:placeholder:text-text-muted px-[15px] text-base font-normal leading-normal transition-all",i?f?"border-green-500":"border-red-500":"border-slate-200 dark:border-border-pink"),disabled:r,required:!0})})]}),e.jsxs("div",{className:"flex items-start gap-3 mt-2 px-1",children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{type:"checkbox",id:"terms",checked:h,onChange:t=>k(t.target.checked),className:"peer h-5 w-5 cursor-pointer appearance-none rounded-md border border-slate-300 dark:border-border-pink bg-white dark:bg-surface-dark-input checked:border-primary checked:bg-primary transition-all",disabled:r,required:!0}),e.jsx("span",{className:"pointer-events-none absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 peer-checked:opacity-100",children:e.jsx("span",{className:"material-symbols-outlined text-[16px] font-bold",children:"check"})})]}),e.jsxs("label",{htmlFor:"terms",className:"text-sm font-medium leading-tight text-slate-600 dark:text-text-muted cursor-pointer select-none",children:["I agree to the ",e.jsx(b,{to:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"})," and ",e.jsx(b,{to:"/terms",className:"text-primary hover:underline",children:"Terms of Service"}),"."]})]}),e.jsx("button",{type:"submit",disabled:r||!v,className:"mt-4 flex w-full items-center justify-center rounded-xl bg-primary py-4 px-6 text-base font-bold text-white shadow-[0_4px_14px_0_rgba(238,43,140,0.39)] hover:bg-primary/90 hover:shadow-[0_6px_20px_rgba(238,43,140,0.23)] hover:-translate-y-0.5 transition-all duration-200 active:translate-y-0 active:shadow-none disabled:opacity-50 disabled:cursor-not-allowed",children:r?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Creating account..."]}):"Start Chatting"}),e.jsxs("p",{className:"text-center text-sm font-medium text-slate-500 dark:text-text-muted mt-2",children:["Already have an account? ",e.jsx(b,{to:"/login",className:"text-primary font-bold hover:underline ml-1",children:"Log in"})]})]})}const A=j(function(){const r=N(),[c,s]=o.useState(!1),[m,l]=o.useState(null),u=async(a,p,i)=>{s(!0),l(null);try{const{data:d,error:n}=await S.email({email:a,password:i,name:p});if(n)throw new Error(n.message||"회원가입에 실패했습니다.");s(!1),window.location.href="/home"}catch(d){s(!1),l(d instanceof Error?d.message:"Sign up failed. Please try again.")}};return e.jsx("div",{className:"bg-background-light dark:bg-background-dark font-display antialiased text-slate-900 dark:text-white",children:e.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col max-w-md mx-auto overflow-x-hidden shadow-2xl",children:[e.jsxs("header",{className:"sticky top-0 z-10 flex items-center bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md p-4 pb-2 justify-between",children:[e.jsx("button",{onClick:()=>r(-1),className:"text-slate-900 dark:text-white flex size-10 shrink-0 items-center justify-center rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",children:e.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"arrow_back_ios_new"})}),e.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-10",children:"Sign Up"})]}),e.jsxs("div",{className:"flex-1 flex flex-col px-6 pt-2 pb-10",children:[e.jsxs("div",{className:"relative w-full h-32 mb-6 rounded-2xl overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 via-primary/10 to-transparent"}),e.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-primary/40 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-purple-500/30 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative h-full flex items-center px-6",children:[e.jsx("div",{className:"size-16 rounded-full border-2 border-primary/50 overflow-hidden shadow-[0_0_15px_rgba(238,43,140,0.4)]",children:e.jsx("img",{alt:"AI Idol Avatar Abstract",className:"w-full h-full object-cover",src:"/illustrations/rina.png"})}),e.jsxs("div",{className:"ml-4 flex flex-col justify-center",children:[e.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider mb-1",children:"Join the Fanbase"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-[#c992ad]",children:"Unlock exclusive chats & content."})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-slate-900 dark:text-white tracking-tight text-[28px] font-bold leading-tight mb-2",children:"Create your account"}),e.jsx("p",{className:"text-slate-500 dark:text-[#c992ad] text-base font-normal leading-relaxed",children:"Start your journey with your AI today. She's waiting to meet you."})]}),e.jsx(_,{onSubmit:u,isLoading:c,error:m||void 0})]}),e.jsx("div",{className:"h-6 w-full"})]})})});export{A as default};
